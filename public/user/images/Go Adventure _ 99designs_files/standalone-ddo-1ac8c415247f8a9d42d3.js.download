webpackJsonp([1],{100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=n(4),a=n(31);var s=t.Button=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onClick=function(t){!e.isDisabled()&&e.props.onClick&&e.props.onClick(t)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"classes",value:function(){var e=this.props.variations?this.props.variations.slice():[];return Boolean(this.props.icon)&&!this.props.children&&(e.push("icon-no-label"),e.push("icon")),(this.props.isSaving||"left"===this.props.iconAlignment)&&e.push("icon-left"),"right"!==this.props.iconAlignment||this.props.isSaving||e.push("icon-right"),(0,i.getComponentClasses)("button",e)}},{key:"attributes",value:function(){var e=this,t={disabled:this.isDisabled()};this.props.isActive&&(t["data-button-selected"]=!0);var n=["onClick","isDisabled","isActive","isSaving","variations","icon","iconAlignment"];return Object.keys(this.props).forEach(function(r){-1===n.indexOf(r)&&(t[r]=e.props[r])}),t}},{key:"isDisabled",value:function(){return!(!this.props.isDisabled&&!this.props.isSaving)}},{key:"icon",value:function(){return this.props.isSaving?o.default.createElement("span",{className:"button__icon"},o.default.createElement(a.Spinner,null)):this.props.icon?o.default.createElement("span",{className:"button__icon"},this.props.icon):null}},{key:"leftIcon",value:function(){var e=this.props.icon&&"right"!==this.props.iconAlignment;return this.props.isSaving||e?this.icon():null}},{key:"rightIcon",value:function(){var e=this.props.icon&&"right"===this.props.iconAlignment;return!this.props.isSaving&&e?this.icon():null}},{key:"label",value:function(){return this.props.children?o.default.createElement("span",{className:"button__label"},this.props.children):null}},{key:"render",value:function(){var e=Object.assign(Object.assign({},this.attributes()),{onClick:this.onClick,className:this.classes()}),t=o.default.createElement("span",{className:"button__inner"},this.leftIcon(),this.label(),this.rightIcon());return this.props.href?o.default.createElement("a",Object.assign({},e),t):o.default.createElement("button",Object.assign({},e),t)}}]),t}();s.defaultProps={variations:["primary"],isDisabled:!1,isActive:!1,isSaving:!1,onClick:function(){},icon:null,href:null,iconAlignment:null,type:"submit"},t.default=s},101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(4);t.default=function(e){var t=e.variations;return r.default.createElement("div",{className:(0,o.getComponentClasses)("spinner",t)})}},102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonGroupItem=t.ButtonGroup=void 0;var r=n(4),o=t.ButtonGroup=(0,r.bemComponent)("button-group","ButtonGroup");t.ButtonGroupItem=(0,r.bemComponent)("button-group__item","ButtonGroupItem");t.default=o},103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(0)),o=c(n(1)),i=c(n(89)),a=n(8),s=n(21),u=c(n(125)),l=n(66);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.isFavorite,n=e.favoriteUrl,o=e.onFavorite;return r.default.createElement(u.default,{isToggled:t,xhrUrl:n,toggleRequest:l.toggleRequest,onSuccess:o,render:function(e){var t=e.isToggled,n=e.onToggle;return r.default.createElement(s.IconButton,{variations:["soft-toggle",(0,i.default)({selected:t})],onClick:n},r.default.createElement(a.Icon,{type:"heart-1"}))}})};f.defaultProps={onFavorite:function(){}},f.propTypes={isFavorite:o.default.bool.isRequired,favoriteUrl:o.default.string.isRequired,onFavorite:o.default.func},t.default=f},104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(75)),o=n(448);function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.default=(0,r.default)({storeName:"DesignCommentsStore",handlers:{DESIGN_COMMENTS_LOAD_START:"designCommentsLoadStart",DESIGN_COMMENTS_LOAD_FINISH:"designCommentsLoadFinish",DESIGN_COMMENT_SELECTED:"designCommentsChangeSelection",DESIGN_COMMENT_CREATE_START:"designCommentCreateStart",DESIGN_COMMENT_CREATE_FINISH:"designCommentCreateFinish",DESIGN_COMMENT_CREATE_ERROR:"designCommentCreateError",DESIGN_COMMENT_ENTER_START:"designCommentEnterStart",DESIGN_COMMENT_ENTER_CANCEL:"removePendingComments",DESIGN_COMMENT_DELETE_START:"designCommentDeleteStart",DESIGN_COMMENT_DELETE_FINISH:"designCommentDeleteFinish",DESIGN_COMMENT_DELETE_ERROR:"designCommentDeleteError",DESIGN_COMMENT_EDIT_START:"designCommentEditStart",DESIGN_COMMENT_EDIT_CANCEL:"designCommentEditCancel",DESIGN_COMMENT_UPDATE_START:"designCommentUpdateStart",DESIGN_COMMENT_UPDATE_FINISH:"designCommentUpdateFinish",DESIGN_COMMENT_UPDATE_ERROR:"designCommentUpdateError",DESIGN_COMMENTS_CLEAR:"designCommentsClear"},initialize:function(){this.reset()},setModel:function(e){this.model=e},getModel:function(){return this.model},setCollectionModel:function(e){this.collectionModel=e},getCollectionModel:function(){return this.collectionModel},getPagination:function(){return this.pagination},reset:function(){this.commentsCache={},this.comments=[],this.currentDesignId=null,this.pagination=null,this.isLoadingComments=!1,this.isLoaded=!1,this.selectedComment=null,this.selectedCommentEditingLocation=null,this.selectedCommentStatus=null,this.selectedCommentIdFromURL=(0,o.getIdFromUrlHash)(window.location.hash)},designCommentsClear:function(e){this.reset(),this.emitChange(),e&&e.callback&&e.callback()},designCommentsLoadStart:function(e){var t=e.designId;this.currentDesignId=t,this.comments=this.commentsCache[this.currentDesignId]||[],this.isLoadingComments=!this.commentsCache[this.currentDesignId],this.selectedComment&&this.setSelectedComment(this.findCommentById(this.selectedComment.id)),this.emitChange()},designCommentsLoadFinish:function(e){var t=e.designId,n=e.comments,r=e.pagination;this.currentDesignId===t&&(this.isLoadingComments=!1,this.isLoaded=!0,this.pagination=r,this.comments=[].concat(i(this.comments),i(n)),this.commentsCache[t]=this.comments,this.selectedComment?this.setSelectedComment(this.findCommentById(this.selectedComment.id)):this.selectedCommentIdFromURL&&this.setSelectedComment(this.findCommentByIdFromUrl(this.selectedCommentIdFromURL)),this.emitChange())},designCommentsChangeSelection:function(e){var t=e.comment;t&&this.findCommentById(t.id)?(this.removePendingCommentsExcept(t),this.setSelectedComment(t)):(this.removeAllPendingComments(),this.setSelectedComment(null)),this.emitChange()},designCommentCreateStart:function(e){var t=this,n=e.comment;this.comments=this.comments.filter(function(e){return t.model.isPersisted(e)}),this.comments.push(n),this.setSelectedComment(n),this.selectedCommentStatus="saving",this.emitChange()},designCommentCreateFinish:function(e){var t=e.comment,n=e.selectCommentOnFinish;this.currentDesignId===t.designId&&(this.removeAllPendingComments(),this.comments.push(t),this.commentsCache[t.designId]=this.comments,n&&this.setSelectedComment(t),this.emitChange())},designCommentCreateError:function(){var e=this,t=this.comments.find(function(t){return!e.model.isPersisted(t)});t&&(this.setSelectedComment(t),this.selectedCommentStatus="error",this.emitChange())},designCommentDeleteStart:function(e){var t=e.comment;this.selectedComment=t,this.selectedCommentStatus="deleting",this.emitChange()},designCommentDeleteFinish:function(e){var t=this,n=e.comment;this.comments=this.comments.filter(function(e){return!t.model.equal(e,n)}),this.model.equal(n,this.selectedComment)&&this.setSelectedComment(null),this.emitChange()},designCommentDeleteError:function(e){var t=e.comment,n=t&&this.findCommentById(t.id);n&&(this.selectedComment=n,this.selectedCommentStatus="error",this.emitChange(),this.deferResetCommentStatus(n))},designCommentEditStart:function(e){var t=e.comment,n=e.editingLocation;this.selectedComment=t,this.selectedCommentStatus="editing",this.selectedCommentEditingLocation=n,this.emitChange()},designCommentEditCancel:function(e){this.selectedComment=e.comment,this.selectedCommentStatus=null,this.selectedCommentEditingLocation=null,this.emitChange()},designCommentEnterStart:function(e){var t=e.comment;this.comments.push(t),this.setSelectedComment(t),this.selectedCommentStatus="creating",this.emitChange()},designCommentUpdateStart:function(e){var t=e.comment;this.selectedComment=t,this.selectedCommentStatus="saving",this.updateComment(t),this.emitChange()},designCommentUpdateFinish:function(e){var t=e.comment;t&&this.findCommentById(t.id)&&(this.updateComment(t),this.commentsCache[t.designId]=this.comments,this.model.equal(t,this.selectedComment)&&(this.selectedCommentStatus=null),this.emitChange())},designCommentUpdateError:function(e){var t=e.comment;t&&this.findCommentById(t.id)&&(this.selectedComment=t,this.selectedCommentStatus="error",this.emitChange(),this.deferResetCommentStatus(t))},removePendingComments:function(){this.setSelectedComment(null),this.removeAllPendingComments(),this.emitChange()},deferResetCommentStatus:function(e,t){var n=this;window.setTimeout(function(){n.updateComment(e),n.model.equal(n.selectedComment,e)&&(n.selectedCommentStatus=null,n.emitChange())},t||1e3)},removePendingCommentsExcept:function(e){var t=this;this.comments=this.comments.filter(function(n){return t.model.equal(n,e)||t.model.isPersisted(n)})},removeAllPendingComments:function(){this.comments=this.comments.filter(function(e){return!!e.id})},setSelectedComment:function(e){(!e||this.selectedComment&&!this.model.equal(this.selectedComment,e))&&(this.selectedCommentStatus=null),this.selectedComment=e},findCommentById:function(e){return this.comments.find(function(t){return String(t.id)===String(e)})||null},getNumericIdAsString:function(e){if("string"==typeof e){var t=e.split("/");return String(t[t.length-1])}return e.toString()},findCommentByIdFromUrl:function(e){var t=this;return this.comments.find(function(n){return t.getNumericIdAsString(n.id)===String(e)})||null},updateComment:function(e){var t=this.findCommentById(e.id);Object.assign(t,e)}})},105:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(1));var r=s(n(129)),o=s(n(132)),i=s(n(0)),a=s(n(78));n(80);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,r.default)(e,t)})},c=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,o.default)(e,t)})},f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,o=t.getClassNames("enter").doneClassName,i=n?r+" "+o:o;t.removeClasses(e,n?"appear":"enter"),l(e,i),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,o=r?(r&&n?n+"-":"")+e:n[e];return{className:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,o=n.activeClassName,i=n.doneClassName;r&&c(e,r),o&&c(e,o),i&&c(e,i)},n.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},n.render=function(){var e=u({},this.props);return delete e.classNames,i.default.createElement(a.default,u({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(i.default.Component);f.defaultProps={classNames:""},f.propTypes={};var d=f;t.default=d,e.exports=t.default},106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(136);var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.users={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.BaseStore),r(t,[{key:"updateStatuses",value:function(e){this.users=e,this.emitChange()}},{key:"getOnlineStatus",value:function(e){return this.users[e]?this.users[e].isOnline:null}},{key:"getLastSeenTime",value:function(e){return this.users[e]?this.users[e].lastSeenTime:null}}]),t}();i.storeName="OnlineStatusStore",i.handlers={ONLINE_STATUS_SUCCESS:"updateStatuses"},t.default=i},107:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.event,n=e.element,a=e.children,s=e.payload,u=void 0===s?{}:s,l=(0,r.useRef)(null),c=300;function f(){(0,i.default)(t,Object.assign(Object.assign({},u),{element:n}))}return(0,r.useEffect)(function(){var e=[];l.current.addEventListener("click",f,!0);var t=l.current.querySelectorAll("a");return Array.from(t).forEach(function(t){var n=function(e){return function(e,t){e.preventDefault(),e.stopPropagation(),setTimeout(function(){window.location.href=t.getAttribute("href")||""},c)}(e,t)};t.addEventListener("click",n),e.push({link:t,listener:n})}),function(){l.current.removeEventListener("click",f,!0),Array.from(e).forEach(function(e){var t=e.link,n=e.listener;t.removeEventListener("click",n)})}}),o.default.createElement("span",{ref:l},a)};var r=n(0),o=a(r),i=a(n(64));function a(e){return e&&e.__esModule?e:{default:e}}},11:function(e,t,n){"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function o(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}Object.defineProperty(t,"__esModule",{value:!0}),t.clsx=o,t.default=o},112:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(122);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(64);Object.defineProperty(t,"trackEvent",{enumerable:!0,get:function(){return a(o).default}});var i=n(94);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"trackLink",{enumerable:!0,get:function(){return a(i).default}})},114:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(162);Object.defineProperty(t,"Pill",{enumerable:!0,get:function(){return i(r).default}});var o=n(163);function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"PillGroup",{enumerable:!0,get:function(){return i(o).default}})},115:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(168);Object.defineProperty(t,"Alert",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},116:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(e,o.default.defaultLocale).format(t)};var r=i(n(227)),o=i(n(191));function i(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)(o.default)},12:function(e,t,n){"use strict";var r=SyntaxError,o=Function,i=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(e){s=null}var u=function(){throw new i},l=s?function(){try{return arguments.callee,u}catch(e){try{return s(arguments,"callee").get}catch(e){return u}}}():u,c=n(48)(),f=n(50)(),d=Object.getPrototypeOf||(f?function(e){return e.__proto__}:null),p={},h="undefined"!=typeof Uint8Array&&d?d(Uint8Array):void 0,m={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":c&&d?d([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c&&d?d(d([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&c&&d?d((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&c&&d?d((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c&&d?d(""[Symbol.iterator]()):void 0,"%Symbol%":c?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet};if(d)try{null.error}catch(e){var y=d(d(e));m["%Error.prototype%"]=y}var v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=n(13),b=n(52),_=g.call(Function.call,Array.prototype.concat),E=g.call(Function.apply,Array.prototype.splice),w=g.call(Function.call,String.prototype.replace),O=g.call(Function.call,String.prototype.slice),S=g.call(Function.call,RegExp.prototype.exec),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,P=function(e,t){var n,o=e;if(b(v,o)&&(o="%"+(n=v[o])[0]+"%"),b(m,o)){var s=m[o];if(s===p&&(s=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&d&&(n=d(o.prototype))}return m[t]=n,n}(o)),void 0===s&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:o,value:s}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');if(null===S(/^%?[^%]*%?$/,e))throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=O(e,0,1),n=O(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var o=[];return w(e,k,function(e,t,n,r){o[o.length]=n?w(r,C,"$1"):t||e}),o}(e),o=n.length>0?n[0]:"",a=P("%"+o+"%",t),u=a.name,l=a.value,c=!1,f=a.alias;f&&(o=f[0],E(n,_([0,1],f)));for(var d=1,p=!0;d<n.length;d+=1){var h=n[d],y=O(h,0,1),v=O(h,-1);if(('"'===y||"'"===y||"`"===y||'"'===v||"'"===v||"`"===v)&&y!==v)throw new r("property names with quotes must have matching quotes");if("constructor"!==h&&p||(c=!0),b(m,u="%"+(o+="."+h)+"%"))l=m[u];else if(null!=l){if(!(h in l)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(s&&d+1>=n.length){var g=s(l,h);l=(p=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:l[h]}else p=b(l,h),l=l[h];p&&!c&&(m[u]=l)}}return l}},122:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.bugsnag={notify:function(e,t,n,r){if(!window.Bugsnag)return console.error(e,t,n);window.Bugsnag.notify(e,t,n,r)}};t.default=r},123:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Avatar=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),i=function(e){return e&&e.__esModule?e:{default:e}}(n(16));(t.Avatar=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"placeholder",value:function(){return o.createElement("span",{className:(0,i.default)("avatar",this.props.variations)},o.createElement("span",{className:"avatar__image avatar__image--placeholder"}))}},{key:"avatar",value:function(e){var t=this.props.isOnline?{"data-online":!0}:{},n=this.props.variations;return this.props.isLinked&&e.profileUrl?o.createElement("a",Object.assign({className:(0,i.default)("avatar",n),href:e.profileUrl},t),o.createElement("img",{alt:"",role:"presentation",className:"avatar__image",src:e.avatarUrl}),this.onlineIndicator()):o.createElement("span",Object.assign({className:(0,i.default)("avatar",n)},t),o.createElement("img",{alt:"",role:"presentation",className:"avatar__image",src:e.avatarUrl}),this.onlineIndicator())}},{key:"onlineIndicator",value:function(){return o.createElement("div",{className:"avatar__indicator"})}},{key:"render",value:function(){return this.props.user?this.avatar(this.props.user):this.placeholder()}}]),t}()).defaultProps={variations:["medium"],isLinked:!0,isOnline:!1}},124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(0,n(146).createBrowserHistory)();t.default=r},125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(0)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isToggled:e.isToggled,xhrUrl:e.xhrUrl},n.handleToggle=n.handleToggle.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentWillUnmount",value:function(){this.abortRequest()}},{key:"abortRequest",value:function(){this.request&&this.request.abort()}},{key:"save",value:function(){var e=this;this.abortRequest(),this.request=this.props.toggleRequest(this.state.isToggled,this.state.xhrUrl),this.request.then(function(){e.props.onSuccess(e.state.isToggled)}).catch(function(){e.setState(function(e){return{isToggled:!e.isToggled}})})}},{key:"handleToggle",value:function(){this.setState(function(e){return{isToggled:!e.isToggled}},this.save)}},{key:"render",value:function(){return this.props.render({isToggled:this.state.isToggled,onToggle:this.handleToggle})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.xhrUrl===t.xhrUrl?null:{isToggled:e.isToggled,xhrUrl:e.xhrUrl}}}]),t}();s.defaultProps={onSuccess:function(){}},s.propTypes={xhrUrl:i.default.string.isRequired,isToggled:i.default.bool.isRequired,render:i.default.func.isRequired,toggleRequest:i.default.func.isRequired,onSuccess:i.default.func},t.default=s},126:function(e,t,n){"use strict";var r=n(76),o=n(77),i=["statics","storeName","handlers","mixins"];function a(e,t){Object.keys(t).forEach(function(n){if(-1===i.indexOf(n))if("initialize"===n)e[n]?e[n]=function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}(e[n],t[n]):e[n]=t[n];else{if(e.hasOwnProperty(n))throw new Error('Mixin property collision for property "'+n+'"');e[n]=t[n]}})}e.exports=function(e){if(e.statics=e.statics||{},!e.storeName&&!e.statics.storeName)throw new Error("createStore called without a storeName");var t=function(e){o.call(this,e)};return r(t,o),Object.keys(e.statics).forEach(function(n){t[n]=e.statics[n]}),t.storeName=e.storeName||t.storeName,t.handlers=e.handlers||t.handlers,(t.mixins=e.mixins||t.mixins)&&t.mixins.forEach(function(e){a(t.prototype,e)}),a(t.prototype,e),t}},127:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function a(e,t,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new function(e,t,n){this.fn=e,this.context=t,this.once=n||!1}(n,r||e,i),s=o?o+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],a]:e._events[s].push(a):(e._events[s]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,a=new Array(i);r<i;r++)a[r]=n[r].fn;return a},u.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,r,i,a){var s=o?o+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,i),!0;case 6:return c.fn.call(c.context,t,n,r,i,a),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var d,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,r);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];c[l].fn.apply(c[l].context,u)}}return!0},u.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,r){var i=o?o+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||s(this,i);else{for(var u=0,l=[],c=a.length;u<c;u++)(a[u].fn!==t||r&&!a[u].once||n&&a[u].context!==n)&&l.push(a[u]);l.length?this._events[i]=1===l.length?l[0]:l:s(this,i)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=o,u.EventEmitter=u,e.exports=u},128:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(75));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=(0,o.default)({storeName:"DesignSketchesStore",handlers:{SET_DESIGN_SKETCH_STATE:"setDesignSketchState",SET_DESIGN_SKETCH:"setDesignSketch",ADD_DESIGN_PATH:"addDesignPath",UNDO_LAST_DESIGN_PATH:"undoLastDesignPath"},initialize:function(){this.designs={}},setDesignSketch:function(e){var t=e.designId,n=e.sketch;this.designs[t]=this.designs[t]||{sketch:[],state:null},this.designs=r({},this.designs,i({},t,r({},this.designs[t],{sketch:n}))),this.emitChange()},getDesignSketch:function(e){return this.designs[e]?this.designs[e].sketch:[]},getPathsFromDesignSketch:function(e){return this.getDesignSketch(e).map(function(e){return e.path})},addDesignPath:function(e){var t=e.designId,n=e.path;this.designs[t]=this.designs[t]||{sketch:[],state:null},this.designs=r({},this.designs,i({},t,r({},this.designs[t],{sketch:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.designs[t].sketch),[{path:n}])}))),this.emitChange()},undoLastDesignPath:function(e){var t=e.designId;this.designs[t]&&(this.designs=r({},this.designs,i({},t,r({},this.designs[t],{sketch:this.designs[t].sketch.slice(0,-1)}))),this.emitChange())},setDesignSketchState:function(e){var t=e.state,n=e.designId;this.designs[n]=this.designs[n]||{sketch:[],state:null},this.designs=r({},this.designs,i({},n,r({},this.designs[n],{state:t}))),this.emitChange()},getDesignSketchState:function(e){return this.designs[e]?this.designs[e].state:null}})},129:function(e,t,n){"use strict";var r=n(130);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var o=r(n(131));e.exports=t.default},13:function(e,t,n){"use strict";var r=n(51);e.exports=Function.prototype.bind||r},130:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},131:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},132:function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},1323:function(e,t,n){e.exports=n(1324)},1324:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=y(n(0)),i=y(n(9)),a=n(157),s=n(7),u=n(158),l=y(n(444)),c=y(n(494)),f=y(n(418)),d=y(n(192)),p=y(n(106)),h=y(n(498)),m=y(n(124));function y(e){return e&&e.__esModule?e:{default:e}}document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("design-details-app"),t=document.getElementById("ddo-app-data"),n=JSON.parse(t.textContent).initData,y=n.activeUser,v=n.intlMessages,g=n.designCollection,b=document.querySelector('meta[name="csrf-token"]').getAttribute("content");window.REQUEST_TOKENS={DESIGN_COMMENT_CREATE_FINISH:b,DESIGN_COMMENT_DELETE_FINISH:b,DESIGN_COMMENT_UPDATE:b,DESIGN_UPDATE_LIKE_STATUS:b};var _=new d.default({stores:[p.default]}),E=_.createContext(),w=(0,l.default)({fluxibleApp:_,fluxibleContext:E,activeUser:y,designCollection:c.default.designCollection.fromJSON(g),isInline:!1,models:c.default,goBack:function(){m.default.go(-1)},goTo:function(e){m.default.replace(e)},csrfToken:document.querySelector("meta[name=csrf-token]").getAttribute("content")}).DdoComponent;i.default.render(o.default.createElement(f.default,null,o.default.createElement(s.IntlProvider,{locale:document.documentElement.lang,messages:v},o.default.createElement(u.FluxibleComponent,{context:E.getComponentContext()},o.default.createElement(a.Router,{history:m.default},o.default.createElement(a.Switch,null,o.default.createElement(a.Route,{path:"/profiles/:parentId/designs/:designId",component:function(e){return o.default.createElement(w,{designId:e.match.params.designId,renderSidebar:function(e){return o.default.createElement(h.default,r({activeUser:y},e))}})}}),o.default.createElement(a.Redirect,{path:"*",to:r({},window.location,{pathname:window.location.pathname})})))))),e)})},133:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;a(n(1));var r=a(n(0)),o=n(9),i=a(n(81));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.handleLifecycle=function(e,t,n){var i,a=this.props.children,s=r.default.Children.toArray(a)[t];s.props[e]&&(i=s.props)[e].apply(i,n),this.props[e]&&this.props[e]((0,o.findDOMNode)(this))},n.render=function(){var e=this.props,t=e.children,n=e.in,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["children","in"]),a=r.default.Children.toArray(t),s=a[0],u=a[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,r.default.createElement(i.default,o,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(u,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(r.default.Component);s.propTypes={};var u=s;t.default=u,e.exports=t.default},134:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=o,t.mergeChildMappings=i,t.getInitialChildMapping=function(e,t){return o(e.children,function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})})},t.getNextChildMapping=function(e,t,n){var s=o(e.children),u=i(t,s);return Object.keys(u).forEach(function(o){var i=u[o];if((0,r.isValidElement)(i)){var l=o in t,c=o in s,f=t[o],d=(0,r.isValidElement)(f)&&!f.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,r.isValidElement)(f)&&(u[o]=(0,r.cloneElement)(i,{onExited:n.bind(null,i),in:f.props.in,exit:a(i,"exit",e),enter:a(i,"enter",e)})):u[o]=(0,r.cloneElement)(i,{in:!1}):u[o]=(0,r.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:a(i,"exit",e),enter:a(i,"enter",e)})}}),u};var r=n(0);function o(e,t){var n=Object.create(null);return e&&r.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)}),n}function i(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var u in t){if(o[u])for(r=0;r<o[u].length;r++){var l=o[u][r];s[o[u][r]]=n(l)}s[u]=n(u)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},135:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadDesignComments=function(e,t){var n=t.designId,a=t.commentsUrl,u=t.page,l=u?a+"?page="+u:a,f=(0,o.default)("GET",l,i.default.DESIGN_COMMENTS_LOADED);e.dispatch(i.default.DESIGN_COMMENTS_LOAD_START,{designId:n}),c&&c.abort();return{_promise:(0,r.resolve)(f).then(function(t){var r=e.getStore(s.default).getCollectionModel().fromJSON(t),o=t._embedded.pagination||null;e.dispatch(i.default.DESIGN_COMMENTS_LOAD_FINISH,{designId:n,comments:r,pagination:o})}).catch(function(t){throw e.dispatch("DESIGN_COMMENTS_LOAD_ERROR"),t})}},t.resetSelectedComment=function(e){return Promise.resolve().then(function(){e.dispatch(i.default.DESIGN_COMMENT_SELECTED,{comment:null})})},t.resetComments=function(e,t){return Promise.resolve().then(function(){e.dispatch(i.default.DESIGN_COMMENTS_CLEAR,t)})},t.selectDesignComment=function(e,t){var n=t.comment;return Promise.resolve().then(function(){e.dispatch(i.default.DESIGN_COMMENT_SELECTED,{comment:n})})},t.deleteDesignComment=function(e,t){var n=t.comment,a=t.csrfToken;if(e.dispatch(i.default.DESIGN_COMMENT_DELETE_START,{comment:n}),!n.links.delete)return Promise.reject(new Error("Invalid attempt to delete comment"));var u=(0,o.default)("DELETE",n.links.delete,i.default.DESIGN_COMMENT_DELETE_FINISH).set("X-Csrf-Token",a);return(0,r.resolve)(u).then(function(t){e.dispatch(i.default.DESIGN_COMMENT_DELETE_FINISH,{comment:e.getStore(s.default).getModel().fromJSON(t)})}).catch(function(t){e.dispatch(i.default.DESIGN_COMMENT_DELETE_ERROR,t)})},t.createDesignComment=function(e,t){var n=t.comment,o=t.design,u=t.csrfToken,l=t.selectCommentOnFinish,c=void 0===l||l;e.dispatch(i.default.DESIGN_COMMENT_CREATE_START,{comment:n});var f={message:n.message};n.annotation&&(f.annotationX=n.annotation.x,f.annotationY=n.annotation.y);var d=(0,r.post)(o.links.createComment,i.default.DESIGN_COMMENT_CREATE_FINISH).set("X-Csrf-Token",u).send(f);return e.executeAction(a.resolveRequest,{request:d}).then(function(t){e.dispatch(i.default.DESIGN_COMMENT_CREATE_FINISH,{comment:e.getStore(s.default).getModel().fromJSON(t),selectCommentOnFinish:c})}).catch(function(t){e.dispatch(i.default.DESIGN_COMMENT_CREATE_ERROR,t)})},t.editDesignComment=function(e,t){var n=t.comment,r=t.editingLocation;return Promise.resolve().then(function(){e.dispatch(i.default.DESIGN_COMMENT_EDIT_START,{comment:n,editingLocation:r})})},t.cancelEditDesignComment=function(e,t){var n=t.comment;return Promise.resolve().then(function(){e.dispatch(i.default.DESIGN_COMMENT_EDIT_CANCEL,{comment:n})})},t.updateDesignComment=function(e,t){var n=t.comment,o=t.csrfToken,a=(0,r.put)(n.links.edit).set("X-Csrf-Token",o).send(n);return Promise.resolve().then(function(){e.dispatch(i.default.DESIGN_COMMENT_UPDATE_START,{comment:n})}).then(function(){return(0,r.resolve)(a)}).then(function(t){e.dispatch(i.default.DESIGN_COMMENT_UPDATE_FINISH,{comment:e.getStore(s.default).getModel().fromJSON(t)})}).catch(function(t){throw e.dispatch(i.default.DESIGN_COMMENT_UPDATE_FINISH,{comment:n}),t})},t.enterDesignComment=function(e,t){var n=t.activeUser,r=t.position,o=u.default.create({creator:n,annotation:r});e.dispatch("DESIGN_COMMENT_ENTER_START",{comment:o})},t.cancelEnterDesignComment=function(e,t,n){e.dispatch("DESIGN_COMMENT_ENTER_CANCEL"),n()};var r=n(166),o=l(r),i=l(n(167)),a=n(266),s=l(n(104)),u=l(n(169));function l(e){return e&&e.__esModule?e:{default:e}}var c=null},136:function(e,t,n){"use strict";e.exports={BaseStore:n(137),createStore:n(75)}},137:function(e,t,n){"use strict";e.exports=n(77)},138:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(282));t.default=r.default},139:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(24));t.default={getOnlineStatus:function(e,t,n){var o=t.lastSeenTimesUrl,i={};r.default.get(o).end(function(t,r){if(!t){var o=r.body.times;for(var a in o){var s=new Date;i[a]={isOnline:new Date(o[a])>=s.setMinutes(s.getMinutes()-5),lastSeenTime:o[a]}}e.dispatch("ONLINE_STATUS_SUCCESS",i)}n()})}}},14:function(e,t,n){"use strict";var r=String.prototype.replace,o=/%20/g,i="RFC1738",a="RFC3986";e.exports={default:a,formatters:{RFC1738:function(e){return r.call(e,o,"+")},RFC3986:function(e){return String(e)}},RFC1738:i,RFC3986:a}},15:function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.type=(e=>e.split(/ *; */).shift()),t.params=(e=>{const t={};var n,o=r(e.split(/ *; */));try{for(o.s();!(n=o.n()).done;){const e=n.value.split(/ *= */),r=e.shift(),o=e.shift();r&&o&&(t[r]=o)}}catch(e){o.e(e)}finally{o.f()}return t}),t.parseLinks=(e=>{const t={};var n,o=r(e.split(/ *, */));try{for(o.s();!(n=o.n()).done;){const e=n.value.split(/ *; */),r=e[0].slice(1,-1);t[e[1].split(/ *= */)[1].slice(1,-1)]=r}}catch(e){o.e(e)}finally{o.f()}return t}),t.cleanHeader=((e,t)=>(delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e)),t.isObject=(e=>null!==e&&"object"==typeof e),t.hasOwn=Object.hasOwn||function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(e),t)},t.mixin=((e,n)=>{for(const r in n)t.hasOwn(n,r)&&(e[r]=n[r])})},153:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(201);Object.defineProperty(t,"DisplayName",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},159:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Desktop=void 0;var r=a(n(0)),o=a(n(32)),i=a(n(39));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.Desktop=function(e){var t=e.children,n=e.values;return r.default.createElement(o.default,{minWidth:i.default.normal[0],children:t,values:n})};t.default=s},16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(11));t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];return(0,r.default)(e,t.filter(function(e){return""!==e}).map(function(t){return e+"--"+t}),n).trim()}},160:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mobile=void 0;var r=a(n(0)),o=a(n(32)),i=a(n(39));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.Mobile=function(e){var t=e.values,n=e.children;return r.default.createElement(o.default,{maxWidth:i.default.normal[0],children:n,values:t})};t.default=s},162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(4);t.default=function(e){var t=e.title,n=e.variations,i=void 0===n?["tag"]:n,a=e.children,s=e.onDelete,u=e.deleteButtonProps;return r.default.createElement("span",{className:(0,o.getComponentClasses)("pill",i.concat(s?["deletable"]:[])),title:t},a,s&&r.default.createElement("button",Object.assign({},u,{type:"button",className:"pill__delete",onClick:s})))}},163:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(4);t.default=function(e){var t=e.children,n=e.variations;return r.default.createElement("div",{className:(0,o.getComponentClasses)("pill-group",n)},r.default.Children.map(t,function(e){return r.default.createElement("div",{className:"pill-group__item"},e)}))}},164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n(244);var o=s(n(75)),i=s(n(447)),a=s(n(261));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)({storeName:"DesignCollectionStore",handlers:{SET_DESIGN_COLLECTION:"setDesignCollection",UPDATE_DESIGN_START:"startUpdateDesign",UPDATE_DESIGN_FAILED:"revertUpdateDesign",UPDATE_DESIGN_SUCCESS:"updateDesign",UPDATE_DESIGN_COLLECTION_PAGE_DATA_APPEND:"appendDesignData",UPDATE_DESIGN_COLLECTION_PAGE_DATA_PREPEND:"prependDesignData",LOAD_DESIGN_SUCCESS:"reloadDesignData",SET_DESIGN_DATA:"reloadDesignData"},initialize:function(){this.designs=[],this.totalDesignCount=null,this.designOffset=null,this.isLoading=!0,this.designPageUrls=[],this.prevPageUrl=null,this.nextPageUrl=null},setModel:function(e){this.model=e},getModel:function(){return this.model},setCollectionModel:function(e){this.collectionModel=e},getCollectionModel:function(){return this.collectionModel},getCurrentPage:function(e){return this.getDesignIndexByDesignId(e)+this.designOffset+1},getDesign:function(e){var t=this.getDesignIndexByDesignId(e);return this.getDesignByIndex(t)},getPreviousDesign:function(e){var t=this.getDesignIndexByDesignId(e);return this.getDesignByIndex(t-1)},getNextDesign:function(e){var t=this.getDesignIndexByDesignId(e);return this.getDesignByIndex(t+1)},setDesignCollection:function(e){if(this.initialize(),this.designs=e.designs,this.designPageUrls=e.designPageUrls,this.totalDesignCount=e.totalDesignCount,this.designOffset=e.designPageOffset,this.designPageUrls&&this.designPageUrls.length>1){var t=this.designPageUrls.indexOf(e.currentPageUrl);this.prevPageUrl=this.designPageUrls[t-1],this.nextPageUrl=this.designPageUrls[t+1]}this.emitChange()},reloadDesignData:function(e){var t=this.getDesignIndexByDesignId(e.designId);t&&(this.designs[t]=e,this.emitChange()),window.dispatchEvent(new CustomEvent("ddoDidLoadDesign",{detail:{design:e}}))},appendDesignData:function(e){this.designs=(0,i.default)((0,a.default)([this.designs,e.designs]),function(e){return e.designId}),this.updateNextPageUrl(e.pageUrl),this.emitChange()},prependDesignData:function(e){var t=this.designs.length;this.designs=(0,i.default)((0,a.default)([e.designs,this.designs]),function(e){return e.designId});var n=this.designs.length-t;this.designOffset=this.designOffset-n,this.updatePrevPageUrl(e.pageUrl),this.emitChange()},startUpdateDesign:function(e){var t=r({},e.design,e.data);this.emitChangeForUpdatedDesign(t)},revertUpdateDesign:function(e){var t=r({},e.design);this.emitChangeForUpdatedDesign(t)},updateDesign:function(e){this.emitChangeForUpdatedDesign(e);var t=new window.CustomEvent("uiDesignDetailsOverlayDesignUpdated",{bubbles:!0});document.querySelector("html").dispatchEvent(t)},getDesignByIndex:function(e){return this.designs[e]||null},emitChangeForUpdatedDesign:function(e){var t=this.getDesignIndexByDesignId(e.designId),n=this.designs[t];n&&(this.designs[t]=r({},n,e)),this.emitChange()},getDesignIndexByDesignId:function(e){return this.designs.findIndex(function(t){return t&&t.designId===parseInt(e,10)})},updatePrevPageUrl:function(e){if(this.prevPageUrl===e){var t=this.designPageUrls.indexOf(this.prevPageUrl)-1;this.prevPageUrl=this.designPageUrls[t]}},updateNextPageUrl:function(e){if(this.nextPageUrl===e){var t=this.designPageUrls.indexOf(this.nextPageUrl)+1;this.nextPageUrl=this.designPageUrls[t]}}})},165:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(455);Object.defineProperty(t,"ButtonList",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}}),Object.defineProperty(t,"ButtonListItem",{enumerable:!0,get:function(){return r.ButtonListItem}})},166:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STATUS=void 0,t.default=a,t.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a("GET",e,t)},t.post=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a("POST",e,t).type("form")},t.put=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a("PUT",e,t).type("form")},t.resolve=function(e){e.requestKey&&function(e){var t=e.requestKey;if(!t)return;o.hasOwnProperty(t)&&o[t].abort();o[t]=e}(e);return new Promise(function(t,n){e.end(function(e,r){if(e)return e.timeout===i?n(new Error("API timeout")):n(e);"application/hal+json"===r.type&&(r.body=JSON.parse(r.text)),403===r.status?n(new Error("Forbidden response from API")):r.ok?t(r.body):n(new Error("API returned bad response"))})})},t.pendingRequestKeys=function(){return Object.keys(o)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(457));var o={},i=1e4;t.STATUS={NOT_FOUND:404,TIMEOUT:408,FORBIDDEN:403,ERROR:500};function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=(0,r.default)(e,t).timeout(i).type("application/json");return o.requestKey=n,o}},167:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={API_REQUEST_START:"API_REQUEST_START",API_REQUEST_END:"API_REQUEST_END",DESIGN_COMMENTS_LOAD_START:"DESIGN_COMMENTS_LOAD_START",DESIGN_COMMENTS_LOAD_FINISH:"DESIGN_COMMENTS_LOAD_FINISH",DESIGN_COMMENT_SELECTED:"DESIGN_COMMENT_SELECTED",DESIGN_COMMENT_DELETE_START:"DESIGN_COMMENT_DELETE_START",DESIGN_COMMENT_DELETE_FINISH:"DESIGN_COMMENT_DELETE_FINISH",DESIGN_COMMENT_DELETE_ERROR:"DESIGN_COMMENT_DELETE_ERROR",DESIGN_COMMENT_CREATE_START:"DESIGN_COMMENT_CREATE_START",DESIGN_COMMENT_CREATE_FINISH:"DESIGN_COMMENT_CREATE_FINISH",DESIGN_COMMENT_CREATE_ERROR:"DESIGN_COMMENT_CREATE_ERROR",DESIGN_COMMENT_EDIT_START:"DESIGN_COMMENT_EDIT_START",DESIGN_COMMENT_EDIT_CANCEL:"DESIGN_COMMENT_EDIT_CANCEL",DESIGN_COMMENT_UPDATE:"DESIGN_COMMENT_UPDATE",DESIGN_COMMENT_UPDATE_START:"DESIGN_COMMENT_UPDATE_START",DESIGN_COMMENT_UPDATE_FINISH:"DESIGN_COMMENT_UPDATE_FINISH",DESIGN_COMMENT_UPDATE_ERROR:"DESIGN_COMMENT_UPDATE_FINISH",UPDATE_DESIGN_START:"UPDATE_DESIGN_START",UPDATE_DESIGN_SUCCESS:"UPDATE_DESIGN_SUCCESS",UPDATE_DESIGN_FAILED:"UPDATE_DESIGN_FAILED",LOAD_DESIGN_SUCCESS:"LOAD_DESIGN_SUCCESS",LOAD_DESIGN_FAILED:"LOAD_DESIGN_FAILED",DELETE_FILE:"DELETE_FILE",SET_DESIGN_DATA:"SET_DESIGN_DATA",SET_DESIGN_COLLECTION:"SET_DESIGN_COLLECTION",UPDATE_DESIGN_COLLECTION_PAGE_DATA_APPEND:"UPDATE_DESIGN_COLLECTION_PAGE_DATA_APPEND",UPDATE_DESIGN_COLLECTION_PAGE_DATA_PREPEND:"UPDATE_DESIGN_COLLECTION_PAGE_DATA_PREPEND",DESIGN_COMMENTS_CLEAR:"DESIGN_COMMENTS_CLEAR",DESIGN_COMMENTS_LOADED:"DESIGN_COMMENTS_LOADED",SET_DESIGN_SKETCH_STATE:"SET_DESIGN_SKETCH_STATE",SET_DESIGN_SKETCH:"SET_DESIGN_SKETCH",ADD_DESIGN_PATH:"ADD_DESIGN_PATH",UNDO_LAST_DESIGN_PATH:"UNDO_LAST_DESIGN_PATH"}},168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=n(4),a=n(8);var s=t.Alert=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={hidden:!1},e.hide=function(){e.setState({hidden:!0},e.onHide)},e.onHide=function(){e.props.onDismiss&&e.props.onDismiss()},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this.props.variations?this.props.variations.slice():[];return this.props.alertType&&((0,i.deprecated)("alertType={${this.props.alertType}} is deprecated, use variations={['`${this.props.alertType}`']}"),e=[this.props.alertType]),this.state.hidden?null:o.default.createElement("div",{className:(0,i.getComponentClasses)("alert",e)},o.default.createElement("div",{className:"alert__icon"},this.props.icon),o.default.createElement("div",{className:"alert__body"},o.default.createElement("div",{className:"alert__message"},this.props.children)),o.default.createElement(t.HideButton,{isDismissable:Boolean(this.props.canBeDismissed),onClick:this.hide}))}}]),t}();s.HideButton=function(e){var t=e.isDismissable,n=e.onClick;return t?o.default.createElement("div",{role:"button","aria-label":"Dismiss",className:"alert__dismiss",onClick:n}):null},s.defaultProps={variations:["info"],icon:o.default.createElement(a.Icon,{type:"exclamation-point-1"}),canBeDismissed:!1},t.default=s},169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(19)),o=a(n(212)),i=a(n(267));function a(e){return e&&e.__esModule?e:{default:e}}function s(){return{id:null,message:null,createdAt:(new Date).toString(),annotation:null,isDeleted:!1,creator:null,design:null,designId:null,links:{self:null,delete:null,edit:null},permission:{canDelete:!1,canEdit:!1,secondsRemainingEdit:0,secondsRemainingDelete:0}}}t.default={create:function(e){return Object.assign({},s(),e)},defaultProperties:s,fromJSON:function(e){if(!e)return null;var t=s();return{id:(0,r.default)(e._links.self,"href"),designId:(0,r.default)(e._embedded.design,"designId"),message:e.message,formattedMessage:e.formattedMessage,annotation:e.annotationX&&e.annotationY?{x:e.annotationX||null,y:e.annotationY||null}:null,isDeleted:e.isDeleted,links:{self:(0,r.default)(e._links.self,"href"),edit:(0,r.default)(e._links.edit,"href"),delete:(0,r.default)(e._links.delete,"href")},createdAt:e.createdAt,creator:o.default.fromJSON(e._embedded.creator),permission:Object.assign({},t.permission,e._embedded.permission||{}),design:i.default.fromJSON(e._embedded.file)}},isPersisted:function(e){return!!e.id},equal:function(e,t){return e&&t&&e.id===t.id}}},170:function(e,t,n){(function(t){var n=1/0,r="[object Symbol]",o="object"==typeof t&&t&&t.Object===Object&&t,i="object"==typeof self&&self&&self.Object===Object&&self,a=o||i||Function("return this")(),s=0,u=Object.prototype.toString,l=a.Symbol,c=l?l.prototype:void 0,f=c?c.toString:void 0;function d(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&u.call(e)==r}(e))return f?f.call(e):"";var t=e+"";return"0"==t&&1/e==-n?"-0":t}e.exports=function(e){var t=++s;return function(e){return null==e?"":d(e)}(e)+t}}).call(t,n(10))},171:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(172);Object.defineProperty(t,"DetachableElement",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DetachableElement=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(0)),i=a(n(9));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.DetachableElement=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.el=document.createElement("div"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){return i.default.createPortal(this.props.children,this.el)}}]),t}();t.default=s},179:function(e,t,n){(function(e,n){var r=200,o="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,u="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",f="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Function]",m="[object GeneratorFunction]",y="[object Map]",v="[object Number]",g="[object Null]",b="[object Object]",_="[object Proxy]",E="[object RegExp]",w="[object Set]",O="[object String]",S="[object Symbol]",k="[object Undefined]",C="[object ArrayBuffer]",P="[object DataView]",T=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[u]=x[l]=x[C]=x[f]=x[P]=x[d]=x[p]=x[h]=x[y]=x[v]=x[b]=x[E]=x[w]=x[O]=x["[object WeakMap]"]=!1;var A="object"==typeof e&&e&&e.Object===Object&&e,M="object"==typeof self&&self&&self.Object===Object&&self,D=A||M||Function("return this")(),I="object"==typeof t&&t&&!t.nodeType&&t,N=I&&"object"==typeof n&&n&&!n.nodeType&&n,R=N&&N.exports===I,L=R&&A.process,U=function(){try{return L&&L.binding&&L.binding("util")}catch(e){}}(),F=U&&U.isTypedArray;function B(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function z(e,t){return e.has(t)}function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function H(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var G=Array.prototype,W=Function.prototype,V=Object.prototype,K=D["__core-js_shared__"],Q=W.toString,$=V.hasOwnProperty,X=function(){var e=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),J=V.toString,Z=RegExp("^"+Q.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=R?D.Buffer:void 0,ee=D.Symbol,te=D.Uint8Array,ne=V.propertyIsEnumerable,re=G.splice,oe=ee?ee.toStringTag:void 0,ie=Object.getOwnPropertySymbols,ae=Y?Y.isBuffer:void 0,se=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ue=Re(D,"DataView"),le=Re(D,"Map"),ce=Re(D,"Promise"),fe=Re(D,"Set"),de=Re(D,"WeakMap"),pe=Re(Object,"create"),he=Be(ue),me=Be(le),ye=Be(ce),ve=Be(fe),ge=Be(de),be=ee?ee.prototype:void 0,_e=be?be.valueOf:void 0;function Ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Oe;++t<n;)this.add(e[t])}function ke(e){var t=this.__data__=new we(e);this.size=t.size}function Ce(e,t){var n=He(e),r=!n&&qe(e),o=!n&&!r&&Ge(e),i=!n&&!r&&!o&&$e(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var l in e)!t&&!$.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Fe(l,u))||s.push(l);return s}function Pe(e,t){for(var n=e.length;n--;)if(ze(e[n][0],t))return n;return-1}function Te(e){return null==e?void 0===e?k:g:oe&&oe in Object(e)?function(e){var t=$.call(e,oe),n=e[oe];try{e[oe]=void 0;var r=!0}catch(e){}var o=J.call(e);r&&(t?e[oe]=n:delete e[oe]);return o}(e):function(e){return J.call(e)}(e)}function je(e){return Qe(e)&&Te(e)==u}function xe(e,t,n,r,o){return e===t||(null==e||null==t||!Qe(e)&&!Qe(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var c=He(e),h=He(t),m=c?l:Ue(e),g=h?l:Ue(t),_=(m=m==u?b:m)==b,k=(g=g==u?b:g)==b,T=m==g;if(T&&Ge(e)){if(!Ge(t))return!1;c=!0,_=!1}if(T&&!_)return s||(s=new ke),c||$e(e)?De(e,t,n,r,o,s):function(e,t,n,r,o,s,u){switch(n){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!s(new te(e),new te(t)));case f:case d:case v:return ze(+e,+t);case p:return e.name==t.name&&e.message==t.message;case E:case O:return e==t+"";case y:var l=q;case w:var c=r&i;if(l||(l=H),e.size!=t.size&&!c)return!1;var h=u.get(e);if(h)return h==t;r|=a,u.set(e,t);var m=De(l(e),l(t),r,o,s,u);return u.delete(e),m;case S:if(_e)return _e.call(e)==_e.call(t)}return!1}(e,t,m,n,r,o,s);if(!(n&i)){var j=_&&$.call(e,"__wrapped__"),x=k&&$.call(t,"__wrapped__");if(j||x){var A=j?e.value():e,M=x?t.value():t;return s||(s=new ke),o(A,M,n,r,s)}}if(!T)return!1;return s||(s=new ke),function(e,t,n,r,o,a){var s=n&i,u=Ie(e),l=u.length,c=Ie(t).length;if(l!=c&&!s)return!1;for(var f=l;f--;){var d=u[f];if(!(s?d in t:$.call(t,d)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var h=!0;a.set(e,t),a.set(t,e);for(var m=s;++f<l;){d=u[f];var y=e[d],v=t[d];if(r)var g=s?r(v,y,d,t,e,a):r(y,v,d,e,t,a);if(!(void 0===g?y===v||o(y,v,n,r,a):g)){h=!1;break}m||(m="constructor"==d)}if(h&&!m){var b=e.constructor,_=t.constructor;b!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,o,s)}(e,t,n,r,xe,o))}function Ae(e){return!(!Ke(e)||function(e){return!!X&&X in e}(e))&&(We(e)?Z:T).test(Be(e))}function Me(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||V;return e===n}(e))return se(e);var t=[];for(var n in Object(e))$.call(e,n)&&"constructor"!=n&&t.push(n);return t}function De(e,t,n,r,o,s){var u=n&i,l=e.length,c=t.length;if(l!=c&&!(u&&c>l))return!1;var f=s.get(e);if(f&&s.get(t))return f==t;var d=-1,p=!0,h=n&a?new Se:void 0;for(s.set(e,t),s.set(t,e);++d<l;){var m=e[d],y=t[d];if(r)var v=u?r(y,m,d,t,e,s):r(m,y,d,e,t,s);if(void 0!==v){if(v)continue;p=!1;break}if(h){if(!B(t,function(e,t){if(!z(h,t)&&(m===e||o(m,e,n,r,s)))return h.push(t)})){p=!1;break}}else if(m!==y&&!o(m,y,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function Ie(e){return function(e,t,n){var r=t(e);return He(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Xe,Le)}function Ne(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Re(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ae(n)?n:void 0}Ee.prototype.clear=function(){this.__data__=pe?pe(null):{},this.size=0},Ee.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ee.prototype.get=function(e){var t=this.__data__;if(pe){var n=t[e];return n===o?void 0:n}return $.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return pe?void 0!==t[e]:$.call(t,e)},Ee.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=pe&&void 0===t?o:t,this},we.prototype.clear=function(){this.__data__=[],this.size=0},we.prototype.delete=function(e){var t=this.__data__,n=Pe(t,e);return!(n<0||(n==t.length-1?t.pop():re.call(t,n,1),--this.size,0))},we.prototype.get=function(e){var t=this.__data__,n=Pe(t,e);return n<0?void 0:t[n][1]},we.prototype.has=function(e){return Pe(this.__data__,e)>-1},we.prototype.set=function(e,t){var n=this.__data__,r=Pe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Oe.prototype.clear=function(){this.size=0,this.__data__={hash:new Ee,map:new(le||we),string:new Ee}},Oe.prototype.delete=function(e){var t=Ne(this,e).delete(e);return this.size-=t?1:0,t},Oe.prototype.get=function(e){return Ne(this,e).get(e)},Oe.prototype.has=function(e){return Ne(this,e).has(e)},Oe.prototype.set=function(e,t){var n=Ne(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Se.prototype.add=Se.prototype.push=function(e){return this.__data__.set(e,o),this},Se.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.clear=function(){this.__data__=new we,this.size=0},ke.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ke.prototype.get=function(e){return this.__data__.get(e)},ke.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.set=function(e,t){var n=this.__data__;if(n instanceof we){var o=n.__data__;if(!le||o.length<r-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new Oe(o)}return n.set(e,t),this.size=n.size,this};var Le=ie?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(ie(e),function(t){return ne.call(e,t)}))}:function(){return[]},Ue=Te;function Fe(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||j.test(e))&&e>-1&&e%1==0&&e<t}function Be(e){if(null!=e){try{return Q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ze(e,t){return e===t||e!=e&&t!=t}(ue&&Ue(new ue(new ArrayBuffer(1)))!=P||le&&Ue(new le)!=y||ce&&"[object Promise]"!=Ue(ce.resolve())||fe&&Ue(new fe)!=w||de&&"[object WeakMap]"!=Ue(new de))&&(Ue=function(e){var t=Te(e),n=t==b?e.constructor:void 0,r=n?Be(n):"";if(r)switch(r){case he:return P;case me:return y;case ye:return"[object Promise]";case ve:return w;case ge:return"[object WeakMap]"}return t});var qe=je(function(){return arguments}())?je:function(e){return Qe(e)&&$.call(e,"callee")&&!ne.call(e,"callee")},He=Array.isArray;var Ge=ae||function(){return!1};function We(e){if(!Ke(e))return!1;var t=Te(e);return t==h||t==m||t==c||t==_}function Ve(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Ke(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Qe(e){return null!=e&&"object"==typeof e}var $e=F?function(e){return function(t){return e(t)}}(F):function(e){return Qe(e)&&Ve(e.length)&&!!x[Te(e)]};function Xe(e){return function(e){return null!=e&&Ve(e.length)&&!We(e)}(e)?Ce(e):Me(e)}n.exports=function(e,t){return xe(e,t)}}).call(t,n(10),n(73)(e))},19:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(function(e,t){return e&&void 0!==e[t]?e[t]:null},e)}},198:function(e,t,n){var r,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in i)i[u]&&(s+="; "+u,!0!==i[u]&&(s+="="+i[u].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=t(s[0]);if(u=(r.read||r)(u,l)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(o[l]=u,e===l)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}(function(){})})},20:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(100);Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},200:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),o=n(31),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.paneTop,n=e.viewportHeight,i=e.paneHeight,a=n>i?i:n,s=t<0?a:a-t,u={position:"absolute",top:t<0?Math.abs(t):0,left:0,height:s,width:"100%"};return r.default.createElement("div",{style:u},r.default.createElement(o.Spinner,{variations:["centered","large","soft"]}))}s.propTypes={paneTop:i.default.number.isRequired,viewportHeight:i.default.number.isRequired,paneHeight:i.default.number.isRequired},t.default=s},201:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayName=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(7),i=n(4);var a=t.DisplayName=function(e){var t=e.user,n=void 0===t?{isActive:!1}:t,a=e.variations,s=void 0===a?[]:a,u=e.isLinked,l=void 0===u||u,c=e.isTruncated,f=void 0!==c&&c,d=e.limit,p=void 0===d?20:d;l&&n.profileUrl&&s.push("link"),f&&s.push("truncate");var h=(0,i.getComponentClasses)("display-name",s),m=n.isActive&&r.default.createElement(o.FormattedMessage,{id:"own_username"})||f&&n.name&&function(e,t){return e.split("").slice(0,t).join("")}(n.name,p)||n.name;return l&&n.profileUrl?r.default.createElement("a",{className:h,href:n.profileUrl},m):r.default.createElement("span",{className:h},m)};t.default=a},203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sidebar=t.Main=t.Frame=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=n(4);t.Frame=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e={};return this.props.isSidebarHidden&&(e["data-sidebar-hidden"]=!0),this.props.isAnimatable&&(e["data-animatable"]=!0),o.default.createElement("div",Object.assign({className:"fullscreen-frame"},e),this.props.children)}}]),t}(),t.Main=(0,i.bemComponent)("fullscreen-frame__main","Main"),t.Sidebar=(0,i.bemComponent)("fullscreen-frame__sidebar","Sidebar")},204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Item=t.Header=void 0;var r=n(4);t.Header=(0,r.bemComponent)("fullscreen-header"),t.Item=(0,r.bemComponent)("fullscreen-header__item")},205:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Body=t.Header=t.Main=void 0;var r=a(n(11)),o=a(n(0)),i=n(4);function a(e){return e&&e.__esModule?e:{default:e}}t.Main=function(e){var t=e.hasHeader,n=e.children;return o.default.createElement("div",{className:(0,r.default)({"fullscreen-main":!0,"fullscreen-main--has-header":t})},n)},t.Header=(0,i.bemComponent)("fullscreen-main__header","Header"),t.Body=(0,i.bemComponent)("fullscreen-main__body","Body")},206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(11)),i=l(n(0)),a=n(84),s=n(4),u=n(207);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"overlayBody",value:function(){return i.default.createElement("div",null,!this.props.isClosing&&i.default.createElement("div",{role:"button",onClick:this.props.onClick,className:"fullscreen-overlay__content"},this.props.children))}},{key:"animatedOverlayBody",value:function(){return i.default.createElement(a.CSSTransition,{in:!0,classNames:"fullscreen-overlay-",timeout:this.props.animationDuration||230,appear:!0,unmountOnExit:!0},this.overlayBody())}},{key:"renderBody",value:function(){var e={},t=(0,o.default)((0,s.getComponentClasses)("fullscreen-overlay",this.props.variations),{"fullscreen-overlay--scrollable-small-screen":this.props.isScrollableSmallScreens});return this.props.isActive&&(e["data-fullscreen-overlay-active"]=!0,this.props.enableScroll&&(e["data-enable-scroll"]=!0)),this.props.hasAdminBarOffset&&(e["data-offset-admin-bar"]=!0),i.default.createElement("div",Object.assign({className:t},e),this.props.hasOpeningAndClosingAnimation?this.animatedOverlayBody():this.overlayBody())}},{key:"render",value:function(){return this.props.isActive&&!this.props.isClosing?i.default.createElement(u.FixedViewportElement,null,this.renderBody()):this.renderBody()}}]),t}();t.default=c},207:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(208);Object.defineProperty(t,"FixedViewportElement",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var i=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.toggleFixedViewport=function(){var e=t.instanceCount>0,n=document.querySelector("body");n&&(e?n.setAttribute("data-fixed-viewport-active","true"):n.removeAttribute("data-fixed-viewport-active"))},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){this.scrollPosition=window.pageYOffset,this.incrementNumberOfOverlays(),this.toggleFixedViewport()}},{key:"componentWillUnmount",value:function(){this.decrementNumberOfOverlays(),this.toggleFixedViewport(),this.scrollPosition&&window.scrollTo(0,this.scrollPosition)}},{key:"incrementNumberOfOverlays",value:function(){t.instanceCount++}},{key:"decrementNumberOfOverlays",value:function(){t.instanceCount--}},{key:"render",value:function(){return this.props.children}}]),t}();t.default=i,i.instanceCount=0},209:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Body=t.Footer=t.Header=t.Main=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(4);t.Main=function(e){var t=e.children;return r.default.createElement("div",{className:"fullscreen-sidebar"},r.default.createElement("div",{className:"fullscreen-sidebar__inner"},t))},t.Header=(0,o.bemComponent)("fullscreen-sidebar__header","Header"),t.Footer=(0,o.bemComponent)("fullscreen-sidebar__footer","Footer"),t.Body=function(e){var t=e.children;return r.default.createElement("div",{className:"fullscreen-sidebar__body"},r.default.createElement("div",{className:"fullscreen-sidebar__body__inner",id:"fullscreenSidebar"},t))}},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(99);Object.defineProperty(t,"IconButton",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={FLUID:"fluid",FIT_TO_WIDTH:"fit-to-width",FIT_TO_CONTAINER:"fit-to-container",FIT_TO_NATIVE:"fit-to-native"}},211:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadDesignSketches=function(e,t){var n=t.loadDesignSketchesUrl,a=t.designId;e.dispatch(i.default.SET_DESIGN_SKETCH_STATE,{state:"loading",designId:a});var s=(0,o.default)("GET",n,i.default.SET_DESIGN_SKETCH);(0,r.resolve)(s).then(function(t){e.dispatch(i.default.SET_DESIGN_SKETCH,{designId:a,sketch:t}),e.dispatch(i.default.SET_DESIGN_SKETCH_STATE,{state:null,designId:a})}).catch(function(){e.dispatch(i.default.SET_DESIGN_SKETCH_STATE,{state:"error",designId:a})})},t.updateDesignSketches=c,t.undoLastDesignPath=function(e,t){var n=t.designId,r=t.csrfToken;e.dispatch(i.default.UNDO_LAST_DESIGN_PATH,{designId:n}),f(e,n,r)},t.addDesignPath=function(e,t){var n=t.designId,r=t.path,o=t.csrfToken,a=r.map(function(e){return{x:Math.round(e.x),y:Math.round(e.y)}});e.dispatch(i.default.ADD_DESIGN_PATH,{designId:n,path:a}),f(e,n,o)};var r=n(166),o=l(r),i=l(n(167)),a=n(266),s=l(n(128)),u=l(n(164));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=t.designId,r=t.csrfToken;e.dispatch(i.default.SET_DESIGN_SKETCH_STATE,{state:"saving",designId:n});var l=e.getStore(s.default).getDesignSketch(n),c=e.getStore(u.default).getDesign(n),f=(0,o.default)("POST",c.links.updateSketches,i.default.DESIGN_SKETCH_UPDATE_SUCCESS).set("X-Csrf-Token",r).send(l);return e.executeAction(a.resolveRequest,{request:f}).then(function(){e.dispatch(i.default.SET_DESIGN_SKETCH_STATE,{state:"saved",designId:n})}).catch(function(){e.dispatch(i.default.SET_DESIGN_SKETCH_STATE,{state:"error",designId:n})})}var f=(0,l(n(26)).default)(function(e,t,n){e.executeAction(c,{designId:t,csrfToken:n})},1e3)},212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(19));function o(){return{userId:null,showUrl:null,name:null,avatarUrl:null}}t.default={create:function(e){return Object.assign({},{userId:null,showUrl:null,name:null,avatarUrl:null},e)},defaultProperties:o,fromJSON:function(e){if(!e)return null;var t={userId:(0,r.default)(e,"userId"),name:(0,r.default)(e,"name")||(0,r.default)(e,"displayName"),avatarUrl:(0,r.default)(e,"avatarUrl")};e.profileUrl?t.profileUrl=e.profileUrl:e.showUrl?t.profileUrl=e.showUrl:e._links&&e._links.self&&(t.profileUrl=e._links.self.href);return t},equal:function(e,t){return e&&t&&e.userId===t.userId}}},213:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(480);Object.defineProperty(t,"avatars",{enumerable:!0,get:function(){return d(r).default}});var o=n(481);Object.defineProperty(t,"borders",{enumerable:!0,get:function(){return d(o).default}});var i=n(482);Object.defineProperty(t,"boxShadows",{enumerable:!0,get:function(){return d(i).default}});var a=n(39);Object.defineProperty(t,"breakpoints",{enumerable:!0,get:function(){return d(a).default}});var s=n(268);Object.defineProperty(t,"colors",{enumerable:!0,get:function(){return d(s).default}});var u=n(483);Object.defineProperty(t,"minHeights",{enumerable:!0,get:function(){return d(u).default}});var l=n(484);Object.defineProperty(t,"semanticIcons",{enumerable:!0,get:function(){return d(l).default}});var c=n(485);Object.defineProperty(t,"spaces",{enumerable:!0,get:function(){return d(c).default}});var f=n(486);function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"typography",{enumerable:!0,get:function(){return d(f).default}})},214:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(19));function o(){return{userId:null,showUrl:null,name:null,avatarUrl:null,isFavorite:!1}}t.default={create:function(e){return Object.assign({},{userId:null,showUrl:null,name:null,avatarUrl:null,isFavorite:!1},e)},defaultProperties:o,fromJSON:function(e){if(!e)return null;var t={userId:(0,r.default)(e,"userId"),name:(0,r.default)(e,"name")||(0,r.default)(e,"displayName"),avatarUrl:(0,r.default)(e,"avatarUrl"),isFavorite:(0,r.default)(e,"isFavorite")};e.profileUrl?t.profileUrl=e.profileUrl:e.showUrl?t.profileUrl=e.showUrl:e._links&&e._links.self&&(t.profileUrl=e._links.self.href);return t},equal:function(e,t){return e&&t&&e.userId===t.userId}}},215:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(267)),o=a(n(214)),i=a(n(19));function a(e){return e&&e.__esModule?e:{default:e}}t.default=Object.assign({},r.default,{fromJSON:function(e){if(!e)return null;var t={designId:(0,i.default)(e,"design_id"),projectDesignId:(0,i.default)(e,"projectDesignId"),creator:o.default.fromJSON(e._embedded.creator),permission:e._embedded.permission||{},showUrl:(0,i.default)(e._links.showUrl,"href"),likes:e.likes||[],links:{self:(0,i.default)(e._links.self,"href"),delete:(0,i.default)(e._links.delete,"href"),comments:(0,i.default)(e._links.comments,"href"),createComment:(0,i.default)(e._links.createComment,"href"),toggleDeliverable:(0,i.default)(e._links.toggleDeliverable,"href"),inviteToWorkUrl:(0,i.default)(e._links.inviteToWorkUrl,"href"),profileUrl:(0,i.default)(e._links.profileUrl,"href"),likeDesignUrl:(0,i.default)(e._links.likeDesignUrl,"href"),editDesignUrl:(0,i.default)(e._links.editDesignUrl,"href"),contestUrl:(0,i.default)(e._links.contestUrl,"href"),lastSeenTimeUrl:(0,i.default)(e._links.lastSeenTimeUrl,"href"),lastSeenTimesUrl:(0,i.default)(e._links.lastSeenTimesUrl,"href"),designLikesUrl:(0,i.default)(e._links.designLikesUrl,"href")}};return["name","isDeleted","size","width","height","s3Bucket","s3Object","createdAt","previewUrl","showUrl","likeCount","likedByUser","shareData","description","categoryEntryInfo","tags","marketingCtaButton","dataFavoriteDesignerUrl","login_or_signup"].forEach(function(n){t[n]=(0,i.default)(e,n)}),t}})},216:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(217);Object.defineProperty(t,"HoverableElement",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HoverableElement=void 0;var r=s(n(170)),o=s(n(0)),i=n(4),a=n(218);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.HoverableElement=function(e){var t=e.alignmentOffset,n=void 0===t?0:t,s=e.hasTransition,u=void 0!==s&&s,l=e.hoverElement,c=e.hoverPosition,f=void 0===c?"down-center":c,d=e.isActive,p=void 0!==d&&d,h=e.type,m=void 0===h?"tooltip":h,y=e.onHoverElementShow,v=e.onHoverElementHide,g=e.variations,b=void 0===g?[]:g,_=e.hoverCardVariations,E=void 0===_?[""]:_,w=e.children,O=(0,r.default)("hoverable_");return o.default.createElement("span",{className:(0,i.getComponentClasses)("hover-card-anchor",b),id:O},w,o.default.createElement(a.HoverCard,{anchorNodeSelector:"#"+O,alignmentOffset:n,hasTransition:u,hasAnimation:!1,hoverPosition:f,isActive:p,type:m,onShow:y,onHide:v,variations:E},l))};t.default=u},218:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(219);Object.defineProperty(t,"HoverCard",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HoverCard=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(11)),i=f(n(26)),a=f(n(0)),s=n(84),u=n(4),l=n(30),c=n(171);function f(e){return e&&e.__esModule?e:{default:e}}var d=t.HoverCard=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updatePosition=n.updatePosition.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidUpdate",value:function(){this.props.isActive&&this.props.onShow?this.props.onShow(this.contentNode):this.props.onHide&&this.props.onHide(),this.updatePosition()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.debouncedUpdatePositionFunc,!0)}},{key:"componentDidMount",value:function(){this.updatePosition(),this.debouncedUpdatePositionFunc||(this.debouncedUpdatePositionFunc=(0,i.default)(this.updatePosition,50)),window.addEventListener("scroll",this.debouncedUpdatePositionFunc,!0)}},{key:"updatePosition",value:function(){var e=document.querySelector(this.props.anchorNodeSelector),t=this.cardNode,n=this.triangleNode,r=this.props.hoverPosition||"",o=void 0;this.props.isActive&&e&&this.triangleNode&&this.cardNode&&(o=this.positionCard(t,e,n,r),this.positionTriangle(n,e,t,o),this.setTransformOrigin(t,n))}},{key:"getPercentageString",value:function(e,t){return t>0?Math.round(e/t*100)+"%":"0%"}},{key:"positionCard",value:function(e,t,n,r){var o=n.getBoundingClientRect(),i=this.props.distance||0;return(0,l.positionElementWithAutoAdjustment)(e,t,r,i+o.height/2,this.props.alignmentOffset)||""}},{key:"positionTriangle",value:function(e,t,n,r){var o=r.split("-").shift(),i={},a=t.getBoundingClientRect(),s=n.getBoundingClientRect(),u=e.getBoundingClientRect(),l=a.left+a.width/2-u.width/2,c=a.top+a.height/2-u.height/2;return o&&["down","up"].indexOf(o)>-1&&(s.width>=a.width?i.left=l-s.left:i.left=(s.width-u.width)/2),o&&["left","right"].indexOf(o)>-1&&(s.height>=a.height?i.top=c-s.top:i.top=(s.height-u.height)/2),e.style.top=i.top+"px",e.style.left=i.left+"px",e.className="",e.classList.add("hover-card__triangle","hover-card__triangle--"+o),i}},{key:"setTransformOrigin",value:function(e,t){var n={left:t.offsetLeft,top:t.offsetTop},r=e.getBoundingClientRect(),o={};this.props.hasAnimation&&(o["transform-origin-x"]=this.getPercentageString(n.left,r.width),o["transform-origin-y"]=this.getPercentageString(n.top,r.height),e.style.transformOrigin=o["transform-origin-x"]+" "+o["transform-origin-y"])}},{key:"hoverCardContent",value:function(e){var t=this;return a.default.createElement("div",{className:e,ref:function(e){e&&(t.cardNode=e)}},a.default.createElement("div",{className:"hover-card__content",ref:function(e){e&&(t.contentNode=e)}},this.props.children),a.default.createElement("div",{className:"hover-card__triangle",ref:function(e){e&&(t.triangleNode=e)}}))}},{key:"render",value:function(){var e=(0,o.default)((0,u.getComponentClasses)("hover-card",this.props.variations),{"hover-card--with-transition":this.props.hasTransition,"hover-card--with-animation":this.props.hasAnimation,"hover-card--tooltip":"tooltip"===this.props.type,"hover-card--dropdown":"dropdown"===this.props.type,"hover-card--tour":"tour"===this.props.type});return this.props.isActive?this.props.hasAnimation||this.props.hasTransition?a.default.createElement(c.DetachableElement,null,a.default.createElement(s.CSSTransition,{in:!0,timeout:{enter:this.props.hasAnimation?300:200,exit:0},classNames:"hover-card-",appear:!0},this.hoverCardContent(e))):a.default.createElement(c.DetachableElement,null,this.hoverCardContent(e)):null}}]),t}();d.defaultProps={alignmentOffset:0,distance:3,hasTransition:!1,hasAnimation:!1,hoverPosition:"down-center",isActive:!1,type:"tooltip",onShow:function(e){},onHide:function(){},variations:[],children:""},t.default=d},232:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(280);Object.defineProperty(t,"AnchorMenuItemAction",{enumerable:!0,get:function(){return u(r).default}});var o=n(283);Object.defineProperty(t,"ButtonMenuItemAction",{enumerable:!0,get:function(){return u(o).default}});var i=n(285);Object.defineProperty(t,"Menu",{enumerable:!0,get:function(){return u(i).default}});var a=n(138);Object.defineProperty(t,"MenuItemAction",{enumerable:!0,get:function(){return u(a).default}});var s=n(286);function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"MenuItemActionList",{enumerable:!0,get:function(){return u(s).default}})},233:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.message,n=e.values,a=Math.floor(1099511627776*Math.random()).toString(16),s=function(){var e=0;return function(){return"ELEMENT-"+a+"-"+(e+=1)}}(),u="@__"+a+"__@",l={},c={};n&&Object.keys(n).length>0&&Object.keys(n).forEach(function(e){var t=n[e];if((0,r.isValidElement)(t)){var o=s();l[e]=u+o+u,c[o]=t}else l[e]=t});var f=(0,i.default)(t,l||n),d=void 0;d=c&&Object.keys(c).length>0?f.split(u).filter(function(e){return!!e}).map(function(e){return c[e]||e}):[f];return r.createElement.apply(void 0,[o.default.Fragment,null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(d)))};var r=n(0),o=a(r),i=a(n(116));function a(e){return e&&e.__esModule?e:{default:e}}},24:function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}let i;"undefined"!=typeof window?i=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),i=void 0):i=self;const a=n(38),s=n(44),u=n(45),l=n(58),c=n(15),f=c.isObject,d=c.mixin,p=c.hasOwn,h=n(60),m=n(61);function y(){}e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1===arguments.length?new t.Request("GET",e):new t.Request(e,n)};const v=t=e.exports;t.Request=S,v.getXHR=(()=>{if(i.XMLHttpRequest)return new i.XMLHttpRequest;throw new Error("Browser-only version of superagent could not find XHR")});const g="".trim?e=>e.trim():e=>e.replace(/(^\s*|\s*$)/g,"");function b(e){if(!f(e))return e;const t=[];for(const n in e)p(e,n)&&_(t,n,e[n]);return t.join("&")}function _(e,t,n){if(void 0!==n)if(null!==n)if(Array.isArray(n)){var o,i=r(n);try{for(i.s();!(o=i.n()).done;){_(e,t,o.value)}}catch(e){i.e(e)}finally{i.f()}}else if(f(n))for(const r in n)p(n,r)&&_(e,`${t}[${r}]`,n[r]);else e.push(encodeURI(t)+"="+encodeURIComponent(n));else e.push(encodeURI(t))}function E(e){const t={},n=e.split("&");let r,o;for(let e=0,i=n.length;e<i;++e)-1===(o=(r=n[e]).indexOf("="))?t[decodeURIComponent(r)]="":t[decodeURIComponent(r.slice(0,o))]=decodeURIComponent(r.slice(o+1));return t}function w(e){return/[/+]json($|[^-\w])/i.test(e)}function O(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;let t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.headers=function(e){const t=e.split(/\r?\n/),n={};let r,o,i,a;for(let e=0,s=t.length;e<s;++e)-1!==(r=(o=t[e]).indexOf(":"))&&(i=o.slice(0,r).toLowerCase(),a=g(o.slice(r+1)),n[i]=a);return n}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function S(e,t){const n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",()=>{let e,t=null,r=null;try{r=new O(n)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",r);try{n._isResponseOK(r)||(e=new Error(r.statusText||r.text||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=r,e.status=e.status||r.status,n.callback(e,r)):n.callback(null,r)})}v.serializeObject=b,v.parseString=E,v.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},v.serialize={"application/x-www-form-urlencoded":u.stringify,"application/json":s},v.parse={"application/x-www-form-urlencoded":E,"application/json":JSON.parse},d(O.prototype,h.prototype),O.prototype._parseBody=function(e){let t=v.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&w(this.type)&&(t=v.parse["application/json"]),t&&e&&(e.length>0||e instanceof Object)?t(e):null)},O.prototype.toError=function(){const e=this.req,t=e.method,n=e.url,r=`cannot ${t} ${n} (${this.status})`,o=new Error(r);return o.status=this.status,o.method=t,o.url=n,o},v.Response=O,a(S.prototype),d(S.prototype,l.prototype),S.prototype.type=function(e){return this.set("Content-Type",v.types[e]||e),this},S.prototype.accept=function(e){return this.set("Accept",v.types[e]||e),this},S.prototype.auth=function(e,t,n){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(n=t,t=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});const r=n.encoder?n.encoder:e=>{if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,n,r)},S.prototype.query=function(e){return"string"!=typeof e&&(e=b(e)),e&&this._query.push(e),this},S.prototype.attach=function(e,t,n){if(t){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},S.prototype._getFormData=function(){return this._formData||(this._formData=new i.FormData),this._formData},S.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();const n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},S.prototype.crossDomainError=function(){const e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},S.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},S.prototype.ca=S.prototype.agent,S.prototype.buffer=S.prototype.ca,S.prototype.write=(()=>{throw new Error("Streaming is not supported in browser version of superagent")}),S.prototype.pipe=S.prototype.write,S.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},S.prototype.end=function(e){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||y,this._finalizeQueryString(),this._end()},S.prototype._setUploadTimeout=function(){const e=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(()=>{e._timeoutError("Upload timeout of ",e._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},S.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));const e=this;this.xhr=v.getXHR();const t=this.xhr;let n=this._formData||this._data;this._setTimeouts(),t.addEventListener("readystatechange",()=>{const n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4!==n)return;let r;try{r=t.status}catch(e){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")});const r=(t,n)=>{n.total>0&&(n.percent=n.loaded/n.total*100,100===n.percent&&clearTimeout(e._uploadTimeoutTimer)),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.addEventListener("progress",r.bind(null,"download")),t.upload&&t.upload.addEventListener("progress",r.bind(null,"upload"))}catch(e){}t.upload&&this._setUploadTimeout();try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof n&&!this._isHost(n)){const e=this._header["content-type"];let t=this._serializer||v.serialize[e?e.split(";")[0]:""];!t&&w(e)&&(t=v.serialize["application/json"]),t&&(n=t(n))}for(const e in this.header)null!==this.header[e]&&p(this.header,e)&&t.setRequestHeader(e,this.header[e]);this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0===n?null:n)},v.agent=(()=>new m);for(var k=0,C=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];k<C.length;k++){const e=C[k];m.prototype[e.toLowerCase()]=function(t,n){const r=new v.Request(e,t);return this._setDefaults(r),n&&r.end(n),r}}function P(e,t,n){const r=v("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}m.prototype.del=m.prototype.delete,v.get=((e,t,n)=>{const r=v("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r}),v.head=((e,t,n)=>{const r=v("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r}),v.options=((e,t,n)=>{const r=v("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}),v.del=P,v.delete=P,v.patch=((e,t,n)=>{const r=v("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}),v.post=((e,t,n)=>{const r=v("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}),v.put=((e,t,n)=>{const r=v("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r})},244:function(e,t){try{var n=new window.CustomEvent("test");if(n.preventDefault(),!0!==n.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var r=function(e,t){var n,r;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};r.prototype=window.Event.prototype,window.CustomEvent=r}},25:function(e,t,n){"use strict";var r=n(14),o=Object.prototype.hasOwnProperty,i=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],a=o.obj[o.prop],s=Object.keys(a),u=0;u<s.length;++u){var l=s[u],c=a[l];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:a,prop:l}),n.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(i(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,o,i){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var u="",l=0;l<s.length;++l){var c=s.charCodeAt(l);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===r.RFC1738&&(40===c||41===c)?u+=s.charAt(l):c<128?u+=a[c]:c<2048?u+=a[192|c>>6]+a[128|63&c]:c<55296||c>=57344?u+=a[224|c>>12]+a[128|c>>6&63]+a[128|63&c]:(l+=1,c=65536+((1023&c)<<10|1023&s.charCodeAt(l)),u+=a[240|c>>18]+a[128|c>>12&63]+a[128|c>>6&63]+a[128|63&c])}return u},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(i(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(i(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return i(t)&&!i(n)&&(a=s(t,r)),i(t)&&i(n)?(n.forEach(function(n,i){if(o.call(t,i)){var a=t[i];a&&"object"==typeof a&&n&&"object"==typeof n?t[i]=e(a,n,r):t.push(n)}else t[i]=n}),t):Object.keys(n).reduce(function(t,i){var a=n[i];return o.call(t,i)?t[i]=e(t[i],a,r):t[i]=a,t},a)}}},250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(251);Object.defineProperty(t,"LinkWithIcon",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},251:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=n(4);var a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"getLinkChildren",value:function(){return[o.default.createElement("span",{className:"link-with-icon__icon",key:"icon"},this.props.icon),o.default.createElement("span",{className:"link-with-icon__label",key:"label"},this.props.children)]}},{key:"render",value:function(){var e=(0,i.getComponentClasses)("link-with-icon",this.props.variations),t=this.props,n=(t.variations,t.icon,a(t,["variations","icon"]));return o.default.createElement("a",Object.assign({},n,{className:e}),this.getLinkChildren())}}]),t}();t.default=s},252:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(253);Object.defineProperty(t,"RelativeTime",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},253:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(7);function i(e,t){var n=e.date,i=t.intl;return r.default.createElement("span",{title:function(e,t){return Intl.DateTimeFormat(t,{weekday:"short",day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"numeric",hour12:!1,timeZoneName:"short"}).format(new Date(e))}(n,i.locale)},r.default.createElement(o.FormattedRelative,{value:n}))}i.contextTypes={intl:o.intlShape}},26:function(e,t,n){(function(t){var n="Expected a function",r=NaN,o="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,d=c||f||Function("return this")(),p=Object.prototype.toString,h=Math.max,m=Math.min,y=function(){return d.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==o}(e))return r;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):a.test(e)?r:+e}e.exports=function(e,t,r){var o,i,a,s,u,l,c=0,f=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(n);function b(t){var n=o,r=i;return o=i=void 0,c=t,s=e.apply(r,n)}function _(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=a}function E(){var e=y();if(_(e))return w(e);u=setTimeout(E,function(e){var n=t-(e-l);return d?m(n,a-(e-c)):n}(e))}function w(e){return u=void 0,p&&o?b(e):(o=i=void 0,s)}function O(){var e=y(),n=_(e);if(o=arguments,i=this,l=e,n){if(void 0===u)return function(e){return c=e,u=setTimeout(E,t),f?b(e):s}(l);if(d)return u=setTimeout(E,t),b(l)}return void 0===u&&(u=setTimeout(E,t)),s}return t=g(t)||0,v(r)&&(f=!!r.leading,a=(d="maxWait"in r)?h(g(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p),O.cancel=function(){void 0!==u&&clearTimeout(u),c=0,o=l=i=u=void 0},O.flush=function(){return void 0===u?s:w(y())},O}}).call(t,n(10))},261:function(e,t,n){(function(t){var n=9007199254740991,r="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,u=a||s||Function("return this")();function l(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var c=Object.prototype,f=c.hasOwnProperty,d=c.toString,p=u.Symbol,h=c.propertyIsEnumerable,m=p?p.isConcatSpreadable:void 0;function y(e){return v(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?d.call(e):"";return t==o||t==i}(e)}(e)}(e)&&f.call(e,"callee")&&(!h.call(e,"callee")||d.call(e)==r)}(e)||!!(m&&e&&e[m])}var v=Array.isArray;e.exports=function(e){return e&&e.length?function e(t,n,r,o,i){var a=-1,s=t.length;for(r||(r=y),i||(i=[]);++a<s;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,o,i):l(i,u):o||(i[i.length]=u)}return i}(e,1):[]}}).call(t,n(10))},262:function(e,t,n){(function(e,r){var o;/*! https://mths.be/punycode v1.4.0 by @mathias */!function(i){"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,l=36,c=1,f=26,d=38,p=700,h=72,m=128,y="-",v=/^xn--/,g=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=l-c,w=Math.floor,O=String.fromCharCode;function S(e){throw new RangeError(_[e])}function k(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function C(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+k((e=e.replace(b,".")).split("."),t).join(".")}function P(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function T(e){return k(e,function(e){var t="";return e>65535&&(t+=O((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=O(e)}).join("")}function j(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:l}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function A(e,t,n){var r=0;for(e=n?w(e/p):e>>1,e+=w(e/t);e>E*f>>1;r+=l)e=w(e/E);return w(r+(E+1)*e/(e+d))}function M(e){var t,n,r,o,i,a,s,d,p,v,g=[],b=e.length,_=0,E=m,O=h;for((n=e.lastIndexOf(y))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&S("not-basic"),g.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<b;){for(i=_,a=1,s=l;o>=b&&S("invalid-input"),((d=j(e.charCodeAt(o++)))>=l||d>w((u-_)/a))&&S("overflow"),_+=d*a,!(d<(p=s<=O?c:s>=O+f?f:s-O));s+=l)a>w(u/(v=l-p))&&S("overflow"),a*=v;O=A(_-i,t=g.length+1,0==i),w(_/t)>u-E&&S("overflow"),E+=w(_/t),_%=t,g.splice(_++,0,E)}return T(g)}function D(e){var t,n,r,o,i,a,s,d,p,v,g,b,_,E,k,C=[];for(b=(e=P(e)).length,t=m,n=0,i=h,a=0;a<b;++a)(g=e[a])<128&&C.push(O(g));for(r=o=C.length,o&&C.push(y);r<b;){for(s=u,a=0;a<b;++a)(g=e[a])>=t&&g<s&&(s=g);for(s-t>w((u-n)/(_=r+1))&&S("overflow"),n+=(s-t)*_,t=s,a=0;a<b;++a)if((g=e[a])<t&&++n>u&&S("overflow"),g==t){for(d=n,p=l;!(d<(v=p<=i?c:p>=i+f?f:p-i));p+=l)k=d-v,E=l-v,C.push(O(x(v+k%E,0))),d=w(k/E);C.push(O(x(d,0))),i=A(n,_,r==o),n=0,++r}++n,++t}return C.join("")}s={version:"1.3.2",ucs2:{decode:P,encode:T},decode:M,encode:D,toASCII:function(e){return C(e,function(e){return g.test(e)?"xn--"+D(e):e})},toUnicode:function(e){return C(e,function(e){return v.test(e)?M(e.slice(4).toLowerCase()):e})}},void 0===(o=function(){return s}.call(t,n,t,e))||(e.exports=o)}()}).call(t,n(73)(e),n(10))},263:function(e,t,n){var r,o;
/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(i,a){"use strict";"object"==typeof e&&e.exports?e.exports=a():void 0===(o="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=o)}(0,function(e){"use strict";var t=e&&e.IPv6;return{best:function(e){var t,n,r=e.toLowerCase().split(":"),o=r.length,i=8;for(""===r[0]&&""===r[1]&&""===r[2]?(r.shift(),r.shift()):""===r[0]&&""===r[1]?r.shift():""===r[o-1]&&""===r[o-2]&&r.pop(),-1!==r[(o=r.length)-1].indexOf(".")&&(i=7),t=0;t<o&&""!==r[t];t++);if(t<i)for(r.splice(t,1,"0000");r.length<i;)r.splice(t,0,"0000");for(var a=0;a<i;a++){n=r[a].split("");for(var s=0;s<3&&"0"===n[0]&&n.length>1;s++)n.splice(0,1);r[a]=n.join("")}var u=-1,l=0,c=0,f=-1,d=!1;for(a=0;a<i;a++)d?"0"===r[a]?c+=1:(d=!1,c>l&&(u=f,l=c)):"0"===r[a]&&(d=!0,f=a,c=1);c>l&&(u=f,l=c),l>1&&r.splice(u,l,""),o=r.length;var p="";for(""===r[0]&&(p=":"),a=0;a<o&&(p+=r[a],a!==o-1);a++)p+=":";return""===r[o-1]&&(p+=":"),p},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}})},264:function(e,t,n){var r,o;
/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(i,a){"use strict";"object"==typeof e&&e.exports?e.exports=a():void 0===(o="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=o)}(0,function(e){"use strict";var t=e&&e.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return!1;var o=n.list[e.slice(t+1)];return!!o&&o.indexOf(" "+e.slice(r+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(".",t-1)>=0)return!1;var r=n.list[e.slice(t+1)];return!!r&&r.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return null;var o=n.list[e.slice(t+1)];return o?o.indexOf(" "+e.slice(r+1,t)+" ")<0?null:e.slice(r+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return n})},265:function(e,t,n){"use strict";e.exports=function(e){return null!==e&&"object"==typeof e}},266:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveRequest=function(e,t){var n=t.request,o=t.dispatchEnd,s=void 0===o||o;return e.executeAction(i,n.requestKey).then(function(){return(0,r.resolve)(n)}).then(function(t){return s?(e.executeAction(a,n.requestKey),t):t})},t.requestStart=i,t.requestEnd=a;var r=n(166),o=function(e){return e&&e.__esModule?e:{default:e}}(n(167));function i(e,t){return Promise.resolve(t).then(function(){e.dispatch(o.default.API_REQUEST_START,t)})}function a(e,t){return Promise.resolve(t).then(function(){e.dispatch(o.default.API_REQUEST_END,t)})}},267:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(19)),o=i(n(212));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return{designId:null,size:null,width:null,height:null,createdAt:(new Date).toString(),downloadUrl:null,previewUrl:null,showUrl:null,s3Bucket:null,s3Object:null,creator:null,permission:{canAnnotate:!1,canComment:!1,canView:!1,canSketch:!1,canViewComments:!1,canViewSketches:!1},links:{self:null,delete:null,comments:null,createComment:null,sketches:null,updateSketches:null}}}t.default={create:function(e){return Object.assign({},a(),e)},defaultProperties:a,fromJSON:function(e){if(!e)return null;var t=a(),n={designId:(0,r.default)(e,"designId"),creator:o.default.fromJSON(e._embedded.creator),permission:Object.assign({},t.permission,e._embedded.permission||{}),links:{self:(0,r.default)(e._links.self,"href"),delete:(0,r.default)(e._links.delete,"href"),comments:(0,r.default)(e._links.messages,"href"),createComment:(0,r.default)(e._links.createMessage,"href"),sketches:(0,r.default)(e._links.sketches,"href"),updateSketches:(0,r.default)(e._links.updateSketches,"href")}};return["name","isDeliverable","isDeleted","size","width","height","s3Bucket","s3Object","createdAt","downloadUrl","previewUrl","showUrl"].forEach(function(t){return n[t]=(0,r.default)(e,t)}),n}}},268:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.heritage="#fe5f50",o=t.sandyButt="#f6caa2",i=t.risingSun="#ce283D",a=t.littlePiggy="#f0a9b7",s=t.berlinThing="#752873",u=t.lavendork="#b36ea7",l=t.pacific="#1f3ca6",c=t.carnaval="#81a3e6",f=t.forrestLyf="#2f9780",d=t.mildredsCar="#a4d2d4",p=t.looseAlmond="#95837b",h=t.theTanTan="#cbbba5",m=t.grey900="#1c1b1a",y=t.grey800="#313030",v=t.grey700="#5b5a58",g=t.grey600="#6e6d6c",b=t.grey500="#969694",_=t.grey400="#b6b5b3",E=t.grey300="#dad9d7",w=t.grey200="#eae9e7",O=t.grey100="#f3f2f0",S=t.grey050="#faf9f7",k=t.white="#ffffff",C={heritage:r,sandyButt:o,risingSun:i,littlePiggy:a,berlinThing:s,lavendork:u,pacific:l,carnaval:c,forrestLyf:f,mildredsCar:d,looseAlmond:p,theTanTan:h,grey900:m,grey800:y,grey700:v,grey600:g,grey500:b,grey400:_,grey300:E,grey200:w,grey100:O,grey050:S,white:k,semantic:t.semantic={success:f,error:i,info:y,caution:s,callout:r,active:r},typography:t.typography={root:y,heading:y,linkText:l,small:b,blockquote:{base:"inherit",cite:b},attribution:v,displayName:y,hr:y,soft:v,softer:b,softText:b,softIcon:E,softIconFocus:b,actionHover:l,contentBorder:E,contentBackground:k},vivid:t.vivid={heritage:r,sandyButt:o,risingSun:i,littlePiggy:a,berlinThing:s,lavendork:u,pacific:l,carnaval:c,forrestLyf:f,mildredsCar:d,looseAlmond:p,theTanTan:h},social:t.social={twitter:"#55acee",facebook:"#3b5998",pinterest:"#bd081c",linkedin:"#0077b5"},packages:t.packages={bronze:"#e0b48c",silver:_,gold:"#e8b954",platinum:v,custom:c}};t.default=C},269:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(270);Object.defineProperty(t,"PopoverCard",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},270:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(0)),i=n(9),a=u(i),s=u(n(271));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cardNode=null,n.layerNode=null,n.target=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){this.layerNode=this.props.layerSelector?document.querySelector(this.props.layerSelector):this.createTempLayer(),this.cardNode=document.createElement("div"),this.layerNode.appendChild(this.cardNode),this.update()}},{key:"createTempLayer",value:function(){return this.tempLayer=document.createElement("div"),this.tempLayer.style.zIndex="10",this.tempLayer.style.position="absolute",this.tempLayer.style.width="100%",this.tempLayer.style.top="0",document.body.appendChild(this.tempLayer),this.tempLayer}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){this.target instanceof HTMLElement?(0,i.unstable_renderSubtreeIntoContainer)(this,o.default.createElement(s.default,{target:this.target,variations:this.props.variations,placement:this.props.placement},this.props.card),this.cardNode):console.error("PopoverCard render error")}},{key:"componentWillUnmount",value:function(){var e=this;this.cardNode.dataset.closing="true",window.setTimeout(function(){a.default.unmountComponentAtNode(e.cardNode),e.layerNode.removeChild(e.cardNode),e.tempLayer&&document.body.removeChild(e.tempLayer)},200)}},{key:"render",value:function(){var e=this;return o.default.cloneElement(o.default.Children.only(this.props.children),{ref:function(t){return e.target=a.default.findDOMNode(t)}})}}]),t}();t.default=l},271:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(179)),i=u(n(272)),a=u(n(0)),s=n(4);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.popper=null,n.card=null,n.arrow=null,n.state={popperStyle:{},popperAttributes:{},arrowStyle:{}},n.applyReactStyle=n.applyReactStyle.bind(n),n.update=n.update.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props.placement;if(this.arrow){var t={placement:e||"bottom",modifiers:{offset:{offset:"10,10"},flip:e?{}:{behavior:["bottom","top","left","right"]},preventOverflow:e?void 0:{boundariesElement:"viewport",padding:10},arrow:{element:this.arrow},applyStyle:{enabled:!1},applyReactStyle:{enabled:!0,fn:this.applyReactStyle,order:900}}};this.popper=new i.default(this.props.target,this.card,t),window.addEventListener("promo-bar-show",this.update),window.addEventListener("promo-bar-hide",this.update)}}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,o.default)(this.props,e)||!(0,o.default)(this.state,t)}},{key:"componentDidUpdate",value:function(){this.popper.update()}},{key:"componentWillUnmount",value:function(){this.popper.destroy(),this.popper=null,window.removeEventListener("promo-bar-show",this.update),window.removeEventListener("promo-bar-hide",this.update)}},{key:"update",value:function(){this.popper&&this.popper.update()}},{key:"applyReactStyle",value:function(e){var t={"data-placement":e.placement||"bottom","data-out-of-boundaries":e.hide||void 0};return this.setState({popperStyle:e.styles,popperAttributes:t,arrowStyle:e.offsets.arrow}),e}},{key:"render",value:function(){var e=this,t=(0,s.getComponentClasses)("popover-card",this.props.variations);return a.default.createElement("div",Object.assign({className:t,ref:function(t){return e.card=t},style:this.state.popperStyle},this.state.popperAttributes),a.default.createElement("div",{className:"popover-card__arrow",style:this.state.arrowStyle,ref:function(t){return e.arrow=t}}),a.default.createElement("div",{className:"popover-card__content"},a.default.createElement("div",{className:"popover-card__content__inner"},this.props.children)))}}]),t}();t.default=l},272:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var o=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},r))}};function i(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function u(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=a(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:u(s(e))}function l(e){return e&&e.referenceNode?e.referenceNode:e}var c=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function d(e){return 11===e?c:10===e?f:c||f}function p(e){if(!e)return document.documentElement;for(var t=d(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function h(e){return null!==e.parentNode?h(e.parentNode):e}function m(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a=i.commonAncestorContainer;if(e!==a&&t!==a||r.contains(o))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||p(e.firstElementChild)===e)}(a)?a:p(a);var s=h(e);return s.host?m(s.host,t):m(e,h(t).host)}function y(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function v(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function g(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],d(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function b(e){var t=e.body,n=e.documentElement,r=d(10)&&getComputedStyle(n);return{height:g("Height",t,n,r),width:g("Width",t,n,r)}}var _=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function S(e){return O({},e,{right:e.left+e.width,bottom:e.top+e.height})}function k(e){var t={};try{if(d(10)){t=e.getBoundingClientRect();var n=y(e,"top"),r=y(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?b(e.ownerDocument):{},s=i.width||e.clientWidth||o.width,u=i.height||e.clientHeight||o.height,l=e.offsetWidth-s,c=e.offsetHeight-u;if(l||c){var f=a(e);l-=v(f,"x"),c-=v(f,"y"),o.width-=l,o.height-=c}return S(o)}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=d(10),o="HTML"===t.nodeName,i=k(e),s=k(t),l=u(e),c=a(t),f=parseFloat(c.borderTopWidth),p=parseFloat(c.borderLeftWidth);n&&o&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=S({top:i.top-s.top-f,left:i.left-s.left-p,width:i.width,height:i.height});if(h.marginTop=0,h.marginLeft=0,!r&&o){var m=parseFloat(c.marginTop),v=parseFloat(c.marginLeft);h.top-=f-m,h.bottom-=f-m,h.left-=p-v,h.right-=p-v,h.marginTop=m,h.marginLeft=v}return(r&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=y(t,"top"),o=y(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}(h,t)),h}function P(e){if(!e||!e.parentElement||d())return document.documentElement;for(var t=e.parentElement;t&&"none"===a(t,"transform");)t=t.parentElement;return t||document.documentElement}function T(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},c=o?P(e):m(e,l(t));if("viewport"===r)i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=C(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:y(n),s=t?0:y(n,"left");return S({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:o,height:i})}(c,o);else{var f=void 0;"scrollParent"===r?"BODY"===(f=u(s(t))).nodeName&&(f=e.ownerDocument.documentElement):f="window"===r?e.ownerDocument.documentElement:r;var d=C(f,c,o);if("HTML"!==f.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===a(t,"position"))return!0;var r=s(t);return!!r&&e(r)}(c))i=d;else{var p=b(e.ownerDocument),h=p.height,v=p.width;i.top+=d.top-d.marginTop,i.bottom=h+d.top,i.left+=d.left-d.marginLeft,i.right=v+d.left}}var g="number"==typeof(n=n||0);return i.left+=g?n:n.left||0,i.top+=g?n:n.top||0,i.right-=g?n:n.right||0,i.bottom-=g?n:n.bottom||0,i}function j(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=T(n,r,i,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},u=Object.keys(s).map(function(e){return O({key:e},s[e],{area:function(e){return e.width*e.height}(s[e])})}).sort(function(e,t){return t.area-e.area}),l=u.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),c=l.length>0?l[0].key:u[0].key,f=e.split("-")[1];return c+(f?"-"+f:"")}function x(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return C(n,r?P(t):m(t,l(n)),r)}function A(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function M(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function D(e,t,n){n=n.split("-")[0];var r=A(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",u=i?"height":"width",l=i?"width":"height";return o[a]=t[a]+t[u]/2-r[u]/2,o[s]=n===s?t[s]-r[l]:t[M(s)],o}function I(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function N(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=I(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&i(n)&&(t.offsets.popper=S(t.offsets.popper),t.offsets.reference=S(t.offsets.reference),t=n(t,e))}),t}function R(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function L(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function U(e){var t=e.ownerDocument;return t?t.defaultView:window}function F(e,t,n,r){n.updateBound=r,U(e).addEventListener("resize",n.updateBound,{passive:!0});var o=u(e);return function e(t,n,r,o){var i="BODY"===t.nodeName,a=i?t.ownerDocument.defaultView:t;a.addEventListener(n,r,{passive:!0}),i||e(u(a.parentNode),n,r,o),o.push(a)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function B(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(e,t){return U(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}(this.reference,this.state))}function z(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function q(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&z(t[n])&&(r="px"),e.style[n]=t[n]+r})}var H=n&&/Firefox/i.test(navigator.userAgent);function G(e,t,n){var r=I(e,function(e){return e.name===t}),o=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var W=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],V=W.slice(3);function K(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=V.indexOf(e),r=V.slice(n+1).concat(V.slice(0,n));return t?r.reverse():r}var Q={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function $(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(I(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return(l=l.map(function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return S(s)[t]/100*i}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(e,o,t,n)})})).forEach(function(e,t){e.forEach(function(n,r){z(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))})}),o}var X={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",l=s?"width":"height",c={start:w({},u,i[u]),end:w({},u,i[u]+i[l]-a[l])};e.offsets.popper=O({},a,c[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],u=void 0;return u=z(+n)?[+n,0]:$(n,i,a,s),"left"===s?(i.top+=u[0],i.left-=u[1]):"right"===s?(i.top+=u[0],i.left+=u[1]):"top"===s?(i.left+=u[0],i.top-=u[1]):"bottom"===s&&(i.left+=u[0],i.top+=u[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var r=L("transform"),o=e.instance.popper.style,i=o.top,a=o.left,s=o[r];o.top="",o.left="",o[r]="";var u=T(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=s,t.boundaries=u;var l=t.priority,c=e.offsets.popper,f={primary:function(e){var n=c[e];return c[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(c[e],u[e])),w({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=c[n];return c[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(c[n],u[e]-("right"===e?c.width:c.height))),w({},n,r)}};return l.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=O({},c,f[t](e))}),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",u=a?"left":"top",l=a?"width":"height";return n[s]<i(r[u])&&(e.offsets.popper[u]=i(r[u])-n[l]),n[u]>i(r[s])&&(e.offsets.popper[u]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!G(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,s=i.popper,u=i.reference,l=-1!==["left","right"].indexOf(o),c=l?"height":"width",f=l?"Top":"Left",d=f.toLowerCase(),p=l?"left":"top",h=l?"bottom":"right",m=A(r)[c];u[h]-m<s[d]&&(e.offsets.popper[d]-=s[d]-(u[h]-m)),u[d]+m>s[h]&&(e.offsets.popper[d]+=u[d]+m-s[h]),e.offsets.popper=S(e.offsets.popper);var y=u[d]+u[c]/2-m/2,v=a(e.instance.popper),g=parseFloat(v["margin"+f]),b=parseFloat(v["border"+f+"Width"]),_=y-e.offsets.popper[d]-g-b;return _=Math.max(Math.min(s[c]-m,_),0),e.arrowElement=r,e.offsets.arrow=(w(n={},d,Math.round(_)),w(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(R(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=T(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=M(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case Q.FLIP:a=[r,o];break;case Q.CLOCKWISE:a=K(r);break;case Q.COUNTERCLOCKWISE:a=K(r,!0);break;default:a=t.behavior}return a.forEach(function(s,u){if(r!==s||a.length===u+1)return e;r=e.placement.split("-")[0],o=M(r);var l=e.offsets.popper,c=e.offsets.reference,f=Math.floor,d="left"===r&&f(l.right)>f(c.left)||"right"===r&&f(l.left)<f(c.right)||"top"===r&&f(l.bottom)>f(c.top)||"bottom"===r&&f(l.top)<f(c.bottom),p=f(l.left)<f(n.left),h=f(l.right)>f(n.right),m=f(l.top)<f(n.top),y=f(l.bottom)>f(n.bottom),v="left"===r&&p||"right"===r&&h||"top"===r&&m||"bottom"===r&&y,g=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(g&&"start"===i&&p||g&&"end"===i&&h||!g&&"start"===i&&m||!g&&"end"===i&&y),_=!!t.flipVariationsByContent&&(g&&"start"===i&&h||g&&"end"===i&&p||!g&&"start"===i&&y||!g&&"end"===i&&m),E=b||_;(d||v||E)&&(e.flipped=!0,(d||v)&&(r=a[u+1]),E&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=O({},e.offsets.popper,D(e.instance.popper,e.offsets.reference,e.placement)),e=N(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),e.placement=M(t),e.offsets.popper=S(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!G(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=I(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=I(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,s=p(e.instance.popper),u=k(s),l={position:o.position},c=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,s=function(e){return e},u=i(o.width),l=i(r.width),c=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),d=t?c||f||u%2==l%2?i:a:s,p=t?i:s;return{left:d(u%2==1&&l%2==1&&!f&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:d(r.right)}}(e,window.devicePixelRatio<2||!H),f="bottom"===n?"top":"bottom",d="right"===r?"left":"right",h=L("transform"),m=void 0,y=void 0;if(y="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-u.height+c.bottom:c.top,m="right"===d?"HTML"===s.nodeName?-s.clientWidth+c.right:-u.width+c.right:c.left,a&&h)l[h]="translate3d("+m+"px, "+y+"px, 0)",l[f]=0,l[d]=0,l.willChange="transform";else{var v="bottom"===f?-1:1,g="right"===d?-1:1;l[f]=y*v,l[d]=m*g,l.willChange=f+", "+d}var b={"x-placement":e.placement};return e.attributes=O({},b,e.attributes),e.styles=O({},l,e.styles),e.arrowStyles=O({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return q(e.instance.popper,e.styles),function(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&q(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=x(o,t,e,n.positionFixed),a=j(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),q(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},J=function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=o(this.update.bind(this)),this.options=O({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(O({},e.Defaults.modifiers,a.modifiers)).forEach(function(t){r.options.modifiers[t]=O({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return O({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&i(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return E(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=x(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=j(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=D(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=N(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,R(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[L("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=F(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return B.call(this)}}]),e}();J.Utils=("undefined"!=typeof window?window:e).PopperUtils,J.placements=W,J.Defaults=X,t.default=J}.call(t,n(10))},273:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=b(n(1)),i=b(n(0)),a=b(n(11)),s=n(7),u=n(252),l=n(37),c=n(153),f=n(165),d=n(21),p=n(8),h=n(115),m=b(n(19)),y=b(n(274)),v=b(n(105)),g=n(135);function b(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.element=i.default.createRef(),n.deleteActionTimeout=null,n.editActionTimeout=null,n.state={isEditActionBlocked:!1,isDeleteActionBlocked:!1,isVisible:!0,maxHeight:"none"},n.handleClick=n.handleClick.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleCancel=n.handleCancel.bind(n),n.handleDeleteClick=n.handleDeleteClick.bind(n),n.handleEditClick=n.handleEditClick.bind(n),n.handleDelete=n.handleDelete.bind(n),n.setMaxHeightBeforeAnimatingOut=n.setMaxHeightBeforeAnimatingOut.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentWillUnmount",value:function(){window.clearTimeout(this.deleteActionTimeout),window.clearTimeout(this.editActionTimeout)}},{key:"UNSAFE_componentWillMount",value:function(){this.setActionExpiry(this.props.comment)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){"error"===e.status&&this.setState({isVisible:!1}),e.comment.permission.secondsRemainingEdit!==this.props.comment.permission.secondsRemainingEdit&&this.setActionExpiry(e.comment),parseInt(this.props.comment.permission.secondsRemainingDelete,10)>0&&e.comment.permission.secondsRemainingDelete!==this.props.comment.permission.secondsRemainingDelete&&this.setActionExpiry(e.comment)}},{key:"render",value:function(){var e=this,t=this.props.comment,n=(0,a.default)({comment:!0,"comment--comment-pane":"pane"===this.props.commentLocation,"comment--spacious":this.props.hasExtraPadding,"comment--highlight":this.isHighlighted(),"comment--sending":"saving"===this.props.status,"comment--deleting":"deleting"===this.props.status,"comment--error":"error"===this.props.status,"comment--annotation":t.annotation&&this.props.canShowAnnotationMarker,"comment--deleted":t.isDeleted});return i.default.createElement(v.default,{classNames:"collapsible-",in:this.state.isVisible,timeout:500,onExit:this.setMaxHeightBeforeAnimatingOut,onExiting:function(){"pane"===e.props.commentLocation&&e.setState({maxHeight:0})},onExited:function(){return e.handleDelete()}},i.default.createElement("div",{className:"collapsible",style:{maxHeight:this.state.maxHeight}},i.default.createElement("div",{ref:this.element,className:n,onClick:this.handleClick},this.visibleHeader(),this.deletedAlert(),i.default.createElement("div",{className:"comment__body"},this.getCommentBodyElement(this.props.comment,this.props.status)),this.commentActions())))}},{key:"setActionExpiry",value:function(e){var t=this,n={};["Edit","Delete"].forEach(function(r){!(0,m.default)(e.permissions,"can"+r)&&t.state["is"+r+"ActionBlocked"]&&(n["is"+r+"ActionBlocked"]=!1,window.clearTimeout(t[r.toLowerCase()+"ActionTimeout"])),parseInt((0,m.default)(e.permission,"secondsRemaining"+r),10)>0&&(t[r.toLowerCase()+"ActionTimeout"]=window.setTimeout(function(){var e={};e["is"+r+"ActionBlocked"]=!0,t.setState(e)},1e3*e.permission["secondsRemaining"+r]))}),this.setState(n)}},{key:"handleClick",value:function(){this.props.isSelected||this.context.executeAction(g.selectDesignComment,{comment:this.props.comment})}},{key:"handleSubmit",value:function(e){var t=Object.assign({},this.props.comment,{message:e,creator:this.getUser()});this.props.comment.id?this.context.executeAction(g.updateDesignComment,{comment:t,csrfToken:this.context.csrfToken}):this.context.executeAction(g.createDesignComment,{comment:t,design:this.props.design,csrfToken:this.context.csrfToken,selectCommentOnFinish:this.props.selectCommentAfterCreate})}},{key:"handleCancel",value:function(){this.props.comment.id?this.context.executeAction(g.cancelEditDesignComment,{comment:this.props.comment}):this.context.executeAction(g.cancelEnterDesignComment,{comment:this.props.comment})}},{key:"handleDelete",value:function(){this.context.executeAction(g.deleteDesignComment,{comment:this.props.comment,csrfToken:this.context.csrfToken})}},{key:"setMaxHeightBeforeAnimatingOut",value:function(){var e=this;if(this.element.current){var t=this.element.current.getBoundingClientRect().height;this.setState({maxHeight:t+"px"},function(){return e.setState({isVisible:!1})})}}},{key:"handleDeleteClick",value:function(){this.setState({isVisible:!1})}},{key:"handleEditClick",value:function(){this.context.executeAction(g.editDesignComment,{comment:this.props.comment,editingLocation:this.props.commentLocation})}},{key:"getUser",value:function(){return this.context.activeUser}},{key:"getCommentForm",value:function(e){return i.default.createElement(y.default,{onSubmit:this.handleSubmit,onCancel:this.handleCancel,hasCancelButton:!0,isAutoFocus:!0,isVertical:!0,comment:e,criticalError:this.timeoutErrorMessage()})}},{key:"timeoutErrorMessage",value:function(){if((this.hasEditActionTimedOut()||this.haveAllActionsTimedOut())&&"editing"===this.props.status)return i.default.createElement(s.FormattedMessage,{id:"comment_action_timeout"})}},{key:"getCommentContent",value:function(e,t){return"saving"===t||"error"===t?e.message.split("\n").map(function(e,t){return i.default.createElement("p",{key:"unsaved-comment#"+t},e)}):i.default.createElement("div",{dangerouslySetInnerHTML:{__html:e.formattedMessage},key:e.id})}},{key:"getCommentStatusElement",value:function(e,t){return"error"===t?i.default.createElement(s.FormattedMessage,{id:"comment_error"}):"deleting"===t?i.default.createElement(s.FormattedMessage,{id:"comment_deleting"}):"saving"===t?i.default.createElement(s.FormattedMessage,{id:"comment_sending"}):i.default.createElement(u.RelativeTime,{date:e.createdAt})}},{key:"getCommentBodyElement",value:function(e,t){return"editing"===t||"creating"===t?this.getCommentForm(e):this.getCommentContent(e,t)}},{key:"hasEditActionTimedOut",value:function(){return this.state.isEditActionBlocked}},{key:"haveAllActionsTimedOut",value:function(){return this.state.isEditActionBlocked&&this.state.isDeleteActionBlocked}},{key:"isHighlighted",value:function(){return this.props.isSelected&&this.props.canHighlight}},{key:"commentActions",value:function(){var e=[],t=this.props.comment.permission;return this.props.isSelected&&(t.canDelete||t.canEdit)?(t.canEdit&&!this.state.isEditActionBlocked&&e.push(i.default.createElement(f.ButtonListItem,{key:"editButton"},i.default.createElement(d.IconButton,{variations:this.isHighlighted()?[]:["on-white"],onClick:this.handleEditClick},i.default.createElement(p.Icon,{type:"edit-1"})))),t.canDelete&&!this.state.isDeleteActionBlocked&&e.push(i.default.createElement(f.ButtonListItem,{key:"deleteButton"},i.default.createElement(d.IconButton,{variations:this.isHighlighted()?[]:["on-white"],onClick:this.handleDeleteClick},i.default.createElement(p.Icon,{type:"trash-2"})))),0===e.length?null:i.default.createElement("div",{className:"comment__footer"},i.default.createElement(f.ButtonList,{variations:["spacious"]},e))):null}},{key:"visibleHeader",value:function(){if(this.props.isHeaderVisible)return i.default.createElement("div",{className:"comment__header"},i.default.createElement("div",{className:"comment__header__avatar"},i.default.createElement(l.Avatar,{user:this.props.comment.creator,variations:["block","extra-small"]})),i.default.createElement("div",{className:"comment__header__user"},i.default.createElement(c.DisplayName,{user:this.props.comment.creator})),i.default.createElement("div",{className:"comment__header__status"},this.getCommentStatusElement(this.props.comment,this.props.status)))}},{key:"deletedAlert",value:function(){if(this.props.comment.isDeleted)return i.default.createElement(h.Alert,null,i.default.createElement(s.FormattedMessage,{id:"comment_deleted"}))}}]),t}();t.default=_,_.contextTypes={executeAction:o.default.func,activeUser:o.default.object,csrfToken:o.default.string},_.propTypes={design:o.default.object.isRequired,canHighlight:o.default.bool,canShowAnnotationMarker:o.default.bool,comment:o.default.object,hasExtraPadding:o.default.bool,isHeaderVisible:o.default.bool,isSelected:o.default.bool,status:o.default.oneOf(["creating","editing","saving","deleting","error"]),commentLocation:o.default.oneOf(["pane","canvas"]),selectCommentAfterCreate:o.default.bool},_.defaultProps={hasExtraPadding:!1,isSelected:!1,isHeaderVisible:!0,canHighlight:!0,canShowAnnotationMarker:!0,commentLocation:"pane"}},274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(1)),i=c(n(0)),a=n(275),s=n(37),u=n(490),l=n(7);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.errorMessage=n.errorMessage.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"errorMessage",value:function(){return this.props.showErrorMessage?i.default.createElement("div",null,i.default.createElement(l.FormattedMessage,{id:"comment_submit_failure"})):null}},{key:"render",value:function(){var e=i.default.createElement("span",{className:"icon icon--sent-1"});return i.default.createElement(a.ScrollIntoViewElement,{scrollingContainer:this.props.scrollingContainer,isEnabled:!0},this.errorMessage(),i.default.createElement("div",{className:"comment-submit",onClick:this.props.onClick},this.props.author&&i.default.createElement("div",{className:"comment-submit__avatar"},i.default.createElement(s.Avatar,{user:this.props.author,variations:["block","extra-small"]})),i.default.createElement("div",{className:"comment-submit__form"},i.default.createElement(u.CommentField,{placeholder:this.context.intl.formatMessage({id:"comment_form_placeholder"}),layout:this.props.isVertical?"vertical":"horizontal",isAutoFocus:this.props.isAutoFocus,submitButtonLabel:e,submitButtonTooltip:this.context.intl.formatMessage({id:"send_message_tooltip"}),cancelButtonLabel:this.context.intl.formatMessage({id:"comment_cancel"}),textValue:this.props.comment&&this.props.comment.message,hasCancelButton:this.props.hasCancelButton,onCancel:this.props.onCancel,onSubmit:this.props.onSubmit,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp,criticalError:this.props.criticalError,hasFieldError:this.props.showErrorMessage}))))}}]),t}();t.default=f,f.contextTypes={intl:o.default.object},f.propTypes={author:o.default.object,comment:o.default.object,isVertical:o.default.bool,isAutoFocus:o.default.bool,hasCancelButton:o.default.bool,onCancel:o.default.func,onClick:o.default.func,onSubmit:o.default.func,onKeyDown:o.default.func,onKeyUp:o.default.func,scrollingContainer:o.default.object,showErrorMessage:o.default.bool,criticalError:o.default.object},f.defaultProps={hasCancelButton:!1,isAutoFocus:!1,isVertical:!1,onCancel:function(){},onClick:function(){},onSubmit:function(){},onKeyDown:function(){},onKeyUp:function(){}}},275:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(489);Object.defineProperty(t,"ScrollIntoViewElement",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},276:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(277);Object.defineProperty(t,"Textarea",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},277:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(1)),i=u(n(0)),a=u(n(9)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.handleFocus=n.handleFocus.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"updateHeight",value:function(e){this.props.isExpandable&&e.scrollHeight>e.clientHeight?(0,s.default)(e).innerHeight(e.scrollHeight):this.props.isCollapsible&&(this.initialiseHeight(e),(0,s.default)(e).innerHeight(e.scrollHeight))}},{key:"initialiseHeight",value:function(e){(0,s.default)(e).outerHeight(this.props.minHeight||"auto")}},{key:"maybeFocus",value:function(){this.props.isFocused&&this._input.focus()}},{key:"componentDidMount",value:function(){var e=this._input;this.initialiseHeight(e),this.applyResizeBehaviors(e),this.updateHeight(e),this.maybeFocus()}},{key:"componentDidUpdate",value:function(e){var t=this._input;this.updateHeight(t),t.textContent||t.removeAttribute("style"),this.props.isFocused!=e.isFocused&&this.maybeFocus()}},{key:"applyResizeBehaviors",value:function(e){var t=function(t){e.clientWidth===e.originalW&&e.clientHeight===e.originalH||(e.originalX=t.clientX,e.originalY=t.clientY,e.onmousemove=n)},n=function(t){var n=e.originalW+t.clientX-e.originalX,r=e.originalH+t.clientY-e.originalY,o=e.style.resize;n<e.originalW&&["horizontal","both"].indexOf(o)>-1&&(e.style.width=n+"px"),r<e.originalH&&["vertical","both"].indexOf(o)>-1&&(e.style.height=r+"px")},r=function(){e.onmousemove=null,e.onmouseout=null,e.onmouseup=null};e.onmouseover=function(){e.originalW=e.clientWidth,e.originalH=e.clientHeight,e.onmousemove=t,e.onmouseup=r,e.onmouseout=r}}},{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"handleFocus",value:function(e){this.props.onFocus(e),this.props.value.length>0&&a.default.findDOMNode(this).setSelectionRange(this.props.value.length,this.props.value.length)}},{key:"render",value:function(){var e=this,t={resize:this.props.resize,minHeight:this.props.minHeight,maxHeight:this.props.maxHeight,boxSizing:"border-box"};return i.default.createElement("textarea",{ref:function(t){return e._input=t},onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp,style:t,disabled:this.props.isDisabled,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.props.onBlur,value:this.props.value,placeholder:this.props.placeholder,className:"input-text input-width--max"})}}]),t}();l.propTypes={value:o.default.string,onChange:o.default.func,onFocus:o.default.func,onBlur:o.default.func,minHeight:o.default.number,maxHeight:o.default.number,isExpandable:o.default.bool,isCollapsible:o.default.bool,isDisabled:o.default.bool,isFocused:o.default.bool,resize:o.default.oneOf(["none","both","horizontal","vertical"]),onKeyDown:o.default.func,onKeyUp:o.default.func,placeholder:o.default.string},l.defaultProps={value:"",minHeight:0,isExpandable:!1,isCollapsible:!1,isFocused:!1,resize:"vertical",onKeyDown:function(){},onKeyUp:function(){},onFocus:function(){},onBlur:function(){},onChange:function(){},placeholder:""},t.default=l},278:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(1)),i=l(n(0)),a=n(21),s=n(8),u=l(n(36));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"sidebar-header"},this.props.isCloseButtonEnabled&&i.default.createElement("div",{className:"sidebar-header__close-button"},i.default.createElement(a.IconButton,{onClick:this.props.closeOverlayHandler,variations:["on-white"]},i.default.createElement(s.Icon,{type:"x-3"}))),this.props.children)}}]),t}();c.propTypes={closeOverlayHandler:o.default.func,isCloseButtonEnabled:o.default.bool,children:o.default.node},c.defaultProps={closeOverlayHandler:null,isCloseButtonEnabled:!0},t.default={Main:c,Heading:(0,u.default)("sidebar-header__heading"),HeadingText:(0,u.default)("sidebar-header__heading__text"),HeadingPill:(0,u.default)("sidebar-header__heading__pill"),SubHeading:(0,u.default)("sidebar-header__sub-heading"),Section:(0,u.default)("sidebar-header__section"),Description:(0,u.default)("sidebar-header__description"),DescriptionItem:(0,u.default)("sidebar-header__description__item")}},279:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(0)),a=f(n(5)),s=f(n(1)),u=n(232),l=n(216),c=f(n(28));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isActive:!1,currentFocusIndex:-1,isAnchorFocused:!1},n.anchorWrapper=null,n.onItemSelect=n.onItemSelect.bind(n),n.onItemKeyDown=n.onItemKeyDown.bind(n),n.onBlur=n.onBlur.bind(n),n.getMenuItem=n.getMenuItem.bind(n),n.deactivate=n.deactivate.bind(n),n.activate=n.activate.bind(n),n.toggle=n.toggle.bind(n),n.focusNextItem=n.focusNextItem.bind(n),n.focusPrevItem=n.focusPrevItem.bind(n),n.onAnchorClick=n.onAnchorClick.bind(n),n.onAnchorFocus=n.onAnchorFocus.bind(n),n.onAnchorKeyDown=n.onAnchorKeyDown.bind(n),n.handleEscKey=n.handleEscKey.bind(n),n.handleLetterKeys=n.handleLetterKeys.bind(n),n.handleHoverElementShow=n.handleHoverElementShow.bind(n),n.handleHoverElementHide=n.handleHoverElementHide.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentDidUpdate",value:function(){this.state.isAnchorFocused&&(this.focusOnAnchor(),this.setState({isAnchorFocused:!1}))}},{key:"focusOnAnchor",value:function(){(0,a.default)(this.anchorWrapper).children().focus()}},{key:"getMenuItem",value:function(e,t){return i.default.createElement(u.ButtonMenuItemAction,r({},e,{key:e.key||e.label+t,isEnabled:!0,isFocused:this.state.isActive&&this.state.currentFocusIndex===t,onSelect:this.onItemSelect.bind(this,e),onKeyDown:this.onItemKeyDown.bind(this,e),onBlur:this.onBlur}))}},{key:"getHoverElement",value:function(e){return i.default.createElement(u.Menu,{variations:["constrained"]},i.default.createElement(u.MenuItemActionList,null,e.map(this.getMenuItem)))}},{key:"activate",value:function(){this.state.isActive||this.setState({isActive:!0})}},{key:"deactivate",value:function(e){this.state.isActive&&this.setState({isActive:!1,currentFocusIndex:-1,isAnchorFocused:e||!1})}},{key:"toggle",value:function(){this.state.isActive?this.deactivate(!0):this.activate()}},{key:"focusNextItem",value:function(e,t){for(var n,r,o=this.props.itemData,i=t?-1:1,a=1;a<=o.length;a++)if(r=o[n=(this.state.currentFocusIndex+o.length+i*a)%o.length],!e||e(r))return this.setState({currentFocusIndex:n})}},{key:"focusPrevItem",value:function(e){this.focusNextItem(e,!0)}},{key:"onAnchorClick",value:function(){this.toggle()}},{key:"onAnchorFocus",value:function(){this.setState({isAnchorFocused:!0})}},{key:"onAnchorKeyDown",value:function(e){var t=!1;t=(t=t||this.handleEscKey(e))||this.handleLetterKeys(e),e.key!==c.default.SPACE&&e.key!==c.default.ENTER||(this.toggle(),t=!0),e.key===c.default.DOWN&&(this.activate(),this.focusNextItem(),t=!0),t&&(e.preventDefault(),e.stopPropagation())}},{key:"onBlur",value:function(){setTimeout(function(){var e=document.activeElement;this.hoverElementNode&&!a.default.contains(this.hoverElementNode,e)&&this.deactivate()}.bind(this),0)}},{key:"onItemKeyDown",value:function(e,t){var n=!1;n=(n=n||this.handleEscKey(t))||this.handleLetterKeys(t),t.key===c.default.DOWN&&this.state.isActive&&(this.focusNextItem(),n=!0),t.key===c.default.UP&&this.state.isActive&&(this.focusPrevItem(),n=!0),n&&(t.preventDefault(),t.stopPropagation())}},{key:"onItemSelect",value:function(e){this.props.onSelect&&this.props.onSelect(e),this.deactivate(!0)}},{key:"handleEscKey",value:function(e){return!(e.key!==c.default.ESCAPE||!this.state.isActive)&&(this.deactivate(!0),!0)}},{key:"handleLetterKeys",value:function(e){var t=String.fromCharCode(e.keyCode);return!(!function(e){return e>=65&&e<=90}(e.keyCode)||!this.state.isActive)&&(this.focusNextItem(function(e){return e.label&&e.label.charAt(0).toLowerCase()===t.toLowerCase()}),!0)}},{key:"handleHoverElementShow",value:function(e){this.hoverElementNode=e}},{key:"handleHoverElementHide",value:function(){this.hoverElementNode=null}},{key:"render",value:function(){var e=this;return i.default.createElement(l.HoverableElement,{hoverElement:this.getHoverElement(this.props.itemData),hoverPosition:this.props.position,isActive:this.state.isActive,type:"dropdown",hasTransition:!1,onHoverElementShow:this.handleHoverElementShow,onHoverElementHide:this.handleHoverElementHide},i.default.createElement("span",{onKeyDown:this.onAnchorKeyDown,onBlur:this.onBlur,onFocus:this.onAnchorFocus,onClick:this.onAnchorClick,className:"hover-card-anchor","aria-haspopup":!0,"aria-expanded":this.state.isActive,ref:function(t){e.anchorWrapper=t}},this.props.children))}}]),t}();d.defaultProps={itemData:[],position:"down-center"},d.propTypes={onSelect:s.default.func,itemData:s.default.arrayOf(s.default.object),position:s.default.oneOf(["up-left","up-center","up-right","down-left","down-center","down-right","left-top","left-middle","left-bottom","right-top","right-middle","right-bottom","up-fluid","down-fluid"])},t.default=d},28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ENTER:"Enter",SPACE:" ",ESCAPE:"Escape",UP:"ArrowUp",DOWN:"ArrowDown",TAB:"Tab"}},280:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(281));t.default=r.default},281:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnchorMenuItemAction=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(0)),i=a(n(138));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},u=t.AnchorMenuItemAction=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.anchorProps,n=void 0===t?{}:t,r=e.children,i=e.forwardRef,a=e.url,u=s(e,["anchorProps","children","forwardRef","url"]);return o.default.createElement("a",Object.assign({ref:i,className:"menu__item__action__link",href:a},n,u),r)}}]),t}();t.default=(0,i.default)(u)},282:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.MenuItemAction=u;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=n(4),a=n(114);var s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function u(e){var t=function(t){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return e._menuItemAction=o.default.createRef(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default.Component),r(n,[{key:"maybeFocus",value:function(){this._menuItemAction&&this._menuItemAction.current&&this.props.isFocused&&this._menuItemAction.current.focus()}},{key:"componentDidMount",value:function(){this.maybeFocus()}},{key:"componentDidUpdate",value:function(e){this.props.isFocused!=e.isFocused&&this.maybeFocus()}},{key:"render",value:function(){var t=this.props,r=t.icon,a=t.label,u=t.notification,l=t.count,c=(t.isFocused,t.isSelected),f=t.isDisabled,d=t.variations,p=t.onBlur,h=t.onKeyDown,m=t.children,y=s(t,["icon","label","notification","count","isFocused","isSelected","isDisabled","variations","onBlur","onKeyDown","children"]),v=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(d?d.slice():[]),[c?"selected":"",r?"has-icon":"",u&&u>0?"has-pill":""]).filter(function(e){return e});return o.default.createElement("li",{className:(0,i.getComponentClasses)("menu__item__action",v),role:"menuitem",onBlur:p,onKeyDown:h,"data-disabled":f},o.default.createElement(e,Object.assign({tabIndex:0,forwardRef:this._menuItemAction},y),o.default.createElement(n.Icon,{icon:r}),o.default.createElement("span",{className:"menu__item__action__label"},a||m,o.default.createElement(n.Count,{amount:l})),o.default.createElement(n.Notification,{notification:u})))}}]),n}();return t.Count=function(e){var t=e.amount;return void 0!==t?o.default.createElement("small",{className:"menu__item__action__label__small"},"("+t+")"):null},t.Icon=function(e){var t=e.icon;return t?o.default.createElement("span",{className:"menu__item__action__icon"},t):null},t.Notification=function(e){var t=e.notification;return t?o.default.createElement("span",{className:"menu__item__action__pill"},o.default.createElement(a.Pill,{variations:["notification","small"]},t)):null},t.defaultProps={variations:[],isFocused:!1,isSelected:!1,isDisabled:!1,onBlur:function(){},onSelect:function(){},onKeyDown:function(){},anchorProps:{}},t}t.default=u},283:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(284));t.default=r.default},284:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonMenuItemAction=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(0)),i=s(n(28)),a=s(n(138));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.ButtonMenuItemAction=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"onKeyDown",value:function(e){if(e.key===i.default.SPACE||e.key===i.default.ENTER){var t=e;this.props.onSelect(t),e.preventDefault(),e.stopPropagation()}}},{key:"render",value:function(){return o.default.createElement("button",{ref:this.props.forwardRef,onKeyDown:this.onKeyDown,className:"menu__item__action__link",onClick:this.props.onSelect},this.props.children)}}]),t}();t.default=(0,a.default)(u)},285:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Menu=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(4);var i=t.Menu=function(e){var t=e.variations,n=void 0===t?[]:t,i=e.onClick,a=e.children;return r.default.createElement("div",{role:"menu",className:(0,o.getComponentClasses)("menu",n),onClick:i},r.default.createElement("div",{className:"menu__inner"},a))};t.default=i},286:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(287));t.default=r.default},287:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItemActionList=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var o=t.MenuItemActionList=function(e){var t=e.children;return r.default.createElement("ul",{className:"menu__item menu__item--action-list"},t)};t.default=o},288:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DdoCommentProps=t.SelectedCommentEditingLocation=t.SelectedCommentStatus=t.SidebarPanes=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o=n(289);t.SidebarPanes=r.default.oneOf([o.SIDEBAR_PANE_DEFAULT,o.SIDEBAR_PANE_LIKES_LIST]);var i=t.SelectedCommentStatus=r.default.oneOf(["creating","editing","saving","deleting","error"]),a=t.SelectedCommentEditingLocation=r.default.oneOf(["canvas","pane",null]);t.DdoCommentProps={isLoadingComments:r.default.bool.isRequired,comments:r.default.any.isRequired,selectedComment:r.default.object,selectedCommentStatus:i,selectedCommentEditingLocation:a}},289:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SIDEBAR_PANE_DEFAULT="default",t.SIDEBAR_PANE_LIKES_LIST="likes"},30:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.positionElement=a,t.positionElementWithAutoAdjustment=function(e,t,n,i,s){var u=null;Object.keys(r).sort(function(e,t){return o(e,n)-o(t,n)}).every(function(n){return a(e,t,n,i,s),u=n,function(e){var t=e&&e.getBoundingClientRect(),n=document.documentElement.clientWidth,r=document.documentElement.clientHeight;return n&&r&&t&&(t.right>n||t.bottom>r||t.left<0||t.top<0)}(e)})&&(a(e,t,n,i,s),u=n);return u},t.getPossiblePositions=function(){return Object.keys(r)};var r={"up-left":{direction:"up",alignment:"left",coordinate:[-1,-2]},"up-center":{direction:"up",alignment:"center",coordinate:[0,-2]},"up-right":{direction:"up",alignment:"right",coordinate:[1,-2]},"down-left":{direction:"down",alignment:"left",coordinate:[-1,2]},"down-center":{direction:"down",alignment:"center",coordinate:[0,2]},"down-right":{direction:"down",alignment:"right",coordinate:[1,2]},"left-top":{direction:"left",alignment:"top",coordinate:[-6,-1]},"left-middle":{direction:"left",alignment:"middle",coordinate:[-6,0]},"left-bottom":{direction:"left",alignment:"bottom",coordinate:[-6,1]},"right-top":{direction:"right",alignment:"top",coordinate:[6,-1]},"right-middle":{direction:"right",alignment:"middle",coordinate:[6,0]},"right-bottom":{direction:"right",alignment:"bottom",coordinate:[6,1]},"up-fluid":{direction:"up",alignment:"fluid",coordinate:[0,-15]},"down-fluid":{direction:"down",alignment:"fluid",coordinate:[0,15]}};function o(e,t){var n=r[e],o=r[t];return Math.pow(n.coordinate[0]-o.coordinate[0],2)+Math.pow(n.coordinate[1]-o.coordinate[1],2)}function i(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=e&&e.getBoundingClientRect(),a=t&&t.getBoundingClientRect(),s=document.documentElement.scrollTop,u={};if(!i||!a)return u;switch(n.direction){case"up":u.top=i.top+s-r-a.height;break;case"down":u.top=i.top+s+r+i.height;break;case"left":u.left=i.left-r-a.width;break;case"right":u.left=i.left+r+i.width}if("fluid"!==n.alignment)switch(n.alignment){case"left":u.left=i.left+o;break;case"center":u.left=i.left+i.width/2-a.width/2;break;case"right":u.left=i.left+i.width-a.width-o;break;case"top":u.top=i.top+s+o;break;case"middle":u.top=i.top+s+i.height/2-a.height/2;break;case"bottom":u.top=i.top+s+(i.height-a.height)-o}return u}function a(e,t,n,o,a){var s=r[n];if(e.style.top="",e.style.left="",e.style.width="","fluid"!==s.alignment){var u=e&&Math.ceil(e.getBoundingClientRect().width)+1;e.style.width=u+"px"}var l=i(t,e,s,o,a);if(e.style.top=l.top+"px",e.style.left=l.left+"px","up"===s.direction){var c=i(t,e,s,o,a);e.style.top=c.top+"px",e.style.left=c.left+"px"}return n}},31:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(101);Object.defineProperty(t,"Spinner",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},32:function(e,t,n){!function(t,r){e.exports=r(n(0))}("undefined"!=typeof self&&self,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){var r=n(1);e.exports=n(8)(r.isElement,!0)},function(e,t,n){"use strict";e.exports=n(7)},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){return"-"+e.toLowerCase()}var o=/[A-Z]/g,i=/^ms-/,a={};t.a=function(e){if(a.hasOwnProperty(e))return a[e];var t=e.replace(o,r);return a[e]=i.test(t)?"-"+t:t}},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(0),a=n.n(i),s=a.a.oneOfType([a.a.string,a.a.number]),u={orientation:a.a.oneOf(["portrait","landscape"]),scan:a.a.oneOf(["progressive","interlace"]),aspectRatio:a.a.string,deviceAspectRatio:a.a.string,height:s,deviceHeight:s,width:s,deviceWidth:s,color:a.a.bool,colorIndex:a.a.bool,monochrome:a.a.bool,resolution:s},l=r({minAspectRatio:a.a.string,maxAspectRatio:a.a.string,minDeviceAspectRatio:a.a.string,maxDeviceAspectRatio:a.a.string,minHeight:s,maxHeight:s,minDeviceHeight:s,maxDeviceHeight:s,minWidth:s,maxWidth:s,minDeviceWidth:s,maxDeviceWidth:s,minColor:a.a.number,maxColor:a.a.number,minColorIndex:a.a.number,maxColorIndex:a.a.number,minMonochrome:a.a.number,maxMonochrome:a.a.number,minResolution:s,maxResolution:s},u),c={all:a.a.bool,grid:a.a.bool,aural:a.a.bool,braille:a.a.bool,handheld:a.a.bool,print:a.a.bool,projection:a.a.bool,screen:a.a.bool,tty:a.a.bool,tv:a.a.bool,embossed:a.a.bool},f=r({},c,l);u.type=Object.keys(c),t.a={all:f,types:c,matchers:u,features:l}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return E});var l=n(6),c=n.n(l),f=n(0),d=n.n(f),p=n(11),h=n.n(p),m=n(3),y=n(4),v=n(13);n.d(t,"toQuery",function(){return v.a});var g={component:d.a.node,query:d.a.string,values:d.a.shape(y.a.matchers),children:d.a.oneOfType([d.a.node,d.a.func]),onChange:d.a.func},b=Object.keys(g),_=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}({},e);return t.forEach(function(e){return delete n[e]}),n},E=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return u(a(n=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}(this,(e=i(t)).call.apply(e,[this].concat(s)))),"state",{matches:!1,mq:null,query:"",values:null}),u(a(n),"componentDidMount",function(){n.state.mq.addListener(n.updateMatches),n.updateMatches()}),u(a(n),"componentDidUpdate",function(e,t){n.state.mq!==t.mq&&(n.cleanupMediaQuery(t.mq),n.state.mq.addListener(n.updateMatches)),n.props.onChange&&t.matches!==n.state.matches&&n.props.onChange(n.state.matches)}),u(a(n),"componentWillUnmount",function(){n._unmounted=!0,n.cleanupMediaQuery(n.state.mq)}),u(a(n),"cleanupMediaQuery",function(e){e&&(e.removeListener(n.updateMatches),e.dispose())}),u(a(n),"updateMatches",function(){n._unmounted||n.state.mq.matches!==n.state.matches&&n.setState({matches:n.state.mq.matches})}),u(a(n),"render",function(){return"function"==typeof n.props.children?n.props.children(n.state.matches):n.state.matches?n.props.children:null}),n}return s(t,c.a.Component),function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=function(e){return e.query||Object(v.a)(_(e,b))}(e);if(!n)throw new Error("Invalid or missing MediaQuery!");var r=function(e){var t=e.values;if(!t)return null;var n=Object.keys(t);return 0===n.length?null:n.reduce(function(e,n){return e[Object(m.a)(n)]=t[n],e},{})}(e);if(n===t.query&&r===t.values)return null;var o=h()(n,r||{},!!r);return{matches:o.matches,mq:o,query:n,values:r}}}]),t}();u(E,"displayName","MediaQuery"),u(E,"defaultProps",{values:null})},function(t,n){t.exports=e},function(e,t,n){"use strict";!function(){function e(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:var n=e.type;switch(n){case f:case d:case a:case u:case s:case h:return n;default:var r=n&&n.$$typeof;switch(r){case c:case p:case l:return r;default:return t}}case y:case m:case i:return t}}}function n(t){return e(t)===d}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,v=function(e,t){if(void 0===t)throw new Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.warn(i);try{throw new Error(i)}catch(e){}}).apply(void 0,[t].concat(r))}},g=f,b=d,_=c,E=l,w=o,O=p,S=a,k=y,C=m,P=i,T=u,j=s,x=h,A=!1;t.typeOf=e,t.AsyncMode=g,t.ConcurrentMode=b,t.ContextConsumer=_,t.ContextProvider=E,t.Element=w,t.ForwardRef=O,t.Fragment=S,t.Lazy=k,t.Memo=C,t.Portal=P,t.Profiler=T,t.StrictMode=j,t.Suspense=x,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===u||e===s||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p)},t.isAsyncMode=function(t){return A||(A=!0,v(!1,"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),n(t)||e(t)===f},t.isConcurrentMode=n,t.isContextConsumer=function(t){return e(t)===c},t.isContextProvider=function(t){return e(t)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(t){return e(t)===p},t.isFragment=function(t){return e(t)===a},t.isLazy=function(t){return e(t)===y},t.isMemo=function(t){return e(t)===m},t.isPortal=function(t){return e(t)===i},t.isProfiler=function(t){return e(t)===u},t.isStrictMode=function(t){return e(t)===s},t.isSuspense=function(t){return e(t)===h}}()},function(e,t,n){"use strict";function r(){return null}var o=n(1),i=n(9),a=n(2),s=n(10),u=Function.call.bind(Object.prototype.hasOwnProperty),l=function(){};l=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},e.exports=function(e,t){function n(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function c(e){this.message=e,this.stack=""}function f(e){function n(n,i,s,u,f,d,p){if(u=u||b,d=d||s,p!==a){if(t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}if("undefined"!=typeof console){var m=u+":"+s;!r[m]&&o<3&&(l("You are manually calling a React.PropTypes validation function for the `"+d+"` prop on `"+u+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),r[m]=!0,o++)}}return null==i[s]?n?new c(null===i[s]?"The "+f+" `"+d+"` is marked as required in `"+u+"`, but its value is `null`.":"The "+f+" `"+d+"` is marked as required in `"+u+"`, but its value is `undefined`."):null:e(i,s,u,f,d)}var r={},o=0,i=n.bind(null,!1);return i.isRequired=n.bind(null,!0),i}function d(e){return f(function(t,n,r,o,i,a){var s=t[n];return h(s)!==e?new c("Invalid "+o+" `"+i+"` of type `"+m(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null})}function p(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(p);if(null===t||e(t))return!0;var n=function(e){var t=e&&(v&&e[v]||e[g]);if("function"==typeof t)return t}(t);if(!n)return!1;var r,o=n.call(t);if(n!==t.entries){for(;!(r=o.next()).done;)if(!p(r.value))return!1}else for(;!(r=o.next()).done;){var i=r.value;if(i&&!p(i[1]))return!1}return!0;default:return!1}}function h(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function m(e){if(void 0===e||null===e)return""+e;var t=h(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function y(e){var t=m(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}var v="function"==typeof Symbol&&Symbol.iterator,g="@@iterator",b="<<anonymous>>",_={array:d("array"),bool:d("boolean"),func:d("function"),number:d("number"),object:d("object"),string:d("string"),symbol:d("symbol"),any:f(r),arrayOf:function(e){return f(function(t,n,r,o,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new c("Invalid "+o+" `"+i+"` of type `"+h(s)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<s.length;u++){var l=e(s,u,r,o,i+"["+u+"]",a);if(l instanceof Error)return l}return null})},element:function(){return f(function(t,n,r,o,i){var a=t[n];return e(a)?null:new c("Invalid "+o+" `"+i+"` of type `"+h(a)+"` supplied to `"+r+"`, expected a single ReactElement.")})}(),elementType:function(){return f(function(e,t,n,r,i){var a=e[t];return o.isValidElementType(a)?null:new c("Invalid "+r+" `"+i+"` of type `"+h(a)+"` supplied to `"+n+"`, expected a single ReactElement type.")})}(),instanceOf:function(e){return f(function(t,n,r,o,i){if(!(t[n]instanceof e)){var a=e.name||b;return new c("Invalid "+o+" `"+i+"` of type `"+function(e){return e.constructor&&e.constructor.name?e.constructor.name:b}(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null})},node:function(){return f(function(e,t,n,r,o){return p(e[t])?null:new c("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")})}(),objectOf:function(e){return f(function(t,n,r,o,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],l=h(s);if("object"!==l)return new c("Invalid "+o+" `"+i+"` of type `"+l+"` supplied to `"+r+"`, expected an object.");for(var f in s)if(u(s,f)){var d=e(s,f,r,o,i+"."+f,a);if(d instanceof Error)return d}return null})},oneOf:function(e){return Array.isArray(e)?f(function(t,r,o,i,a){for(var s=t[r],u=0;u<e.length;u++)if(n(s,e[u]))return null;var l=JSON.stringify(e,function(e,t){return"symbol"===m(t)?String(t):t});return new c("Invalid "+i+" `"+a+"` of value `"+String(s)+"` supplied to `"+o+"`, expected one of "+l+".")}):(l(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),r)},oneOfType:function(e){if(!Array.isArray(e))return l("Invalid argument supplied to oneOfType, expected an instance of array."),r;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return l("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+y(n)+" at index "+t+"."),r}return f(function(t,n,r,o,i){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,r,o,i,a))return null;return new c("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")})},shape:function(e){return f(function(t,n,r,o,i){var s=t[n],u=h(s);if("object"!==u)return new c("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var f=e[l];if(f){var d=f(s,l,r,o,i+"."+l,a);if(d)return d}}return null})},exact:function(e){return f(function(t,n,r,o,s){var u=t[n],l=h(u);if("object"!==l)return new c("Invalid "+o+" `"+s+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");var f=i({},t[n],e);for(var d in f){var p=e[d];if(!p)return new c("Invalid "+o+" `"+s+"` key `"+d+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var m=p(u,d,r,o,s+"."+d,a);if(m)return m}return null})}};return c.prototype=Error.prototype,_.checkPropTypes=s,_.resetWarningCache=s.resetWarningCache,_.PropTypes=_,_}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))o.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var c=0;c<a.length;c++)i.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(e,t,n){"use strict";function r(e,t,n,r,u){for(var l in e)if(s(e,l)){var c;try{if("function"!=typeof e[l]){var f=Error((r||"React class")+": "+n+" type `"+l+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[l]+"`.");throw f.name="Invariant Violation",f}c=e[l](t,l,r,n,null,i)}catch(e){c=e}if(!c||c instanceof Error||o((r||"React class")+": type specification of "+n+" `"+l+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof c+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),c instanceof Error&&!(c.message in a)){a[c.message]=!0;var d=u?u():"";o("Failed "+n+" type: "+c.message+(null!=d?d:""))}}}var o=function(){},i=n(2),a={},s=Function.call.bind(Object.prototype.hasOwnProperty);o=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},r.resetWarningCache=function(){a={}},e.exports=r},function(e,t,n){"use strict";var r=n(12).match,o="undefined"!=typeof window?window.matchMedia:null;e.exports=function(e,t,n){return new function(e,t,n){function i(e){a.matches=e.matches,a.media=e.media}var a=this;if(o&&!n){var s=o.call(window,e);this.matches=s.matches,this.media=s.media,s.addListener(i)}else this.matches=r(e,t),this.media=e;this.addListener=function(e){s&&s.addListener(e)},this.removeListener=function(e){s&&s.removeListener(e)},this.dispose=function(){s&&s.removeListener(i)}}(e,t,n)}},function(e,t,n){"use strict";function r(e){return e.split(",").map(function(e){var t=(e=e.trim()).match(s),n=t[1],r=t[2],o=t[3]||"",i={};return i.inverse=!!n&&"not"===n.toLowerCase(),i.type=r?r.toLowerCase():"all",o=o.match(/\([^\)]+\)/g)||[],i.expressions=o.map(function(e){var t=e.match(u),n=t[1].toLowerCase().match(l);return{modifier:n[1],feature:n[2],value:t[2]}}),i})}function o(e){var t,n=Number(e);return n||(n=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),n}function i(e){var t=parseFloat(e);switch(String(e).match(f)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function a(e){var t=parseFloat(e);switch(String(e).match(c)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}t.match=function(e,t){return r(e).some(function(e){var n=e.inverse,r="all"===e.type||t.type===e.type;if(r&&n||!r&&!n)return!1;var s=e.expressions.every(function(e){var n=e.feature,r=e.modifier,s=e.value,u=t[n];if(!u)return!1;switch(n){case"orientation":case"scan":return u.toLowerCase()===s.toLowerCase();case"width":case"height":case"device-width":case"device-height":s=a(s),u=a(u);break;case"resolution":s=i(s),u=i(u);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":s=o(s),u=o(u);break;case"grid":case"color":case"color-index":case"monochrome":s=parseInt(s,10)||1,u=parseInt(u,10)||0}switch(r){case"min":return u>=s;case"max":return u<=s;default:return u===s}});return s&&!n||!s&&n})},t.parse=r;var s=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,u=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,l=/^(?:(min|max)-)?(.+)/,c=/(em|rem|px|cm|mm|in|pt|pc)?$/,f=/(dpi|dpcm|dppx)?$/},function(e,t,n){"use strict";var r=n(3),o=n(4),i=function(e){return"not ".concat(e)};t.a=function(e){var t=[];return Object.keys(o.a.all).forEach(function(n){var o=e[n];null!=o&&t.push(function(e,t){var n=Object(r.a)(e);return"number"==typeof t&&(t="".concat(t,"px")),!0===t?e:!1===t?i(e):"(".concat(n,": ").concat(t,")")}(n,o))}),function(e){return e.join(" and ")}(t)}}])})},36:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(16));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Block",n=r.default.forwardRef(function(t,n){var i=t.variations,s=t.className,u=a(t,["variations","className"]);return r.default.createElement("div",Object.assign({className:(0,o.default)(e,i,s),ref:n},u))});return n.displayName=t,n}},37:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(123);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},38:function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={small:[0,599],medium:[600,899],normal:[900,1299],large:[1300,null]}},4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementPosition=t.keyConstants=t.filterObjectByKeys=t.propertyOrNull=t.getComponentClasses=t.deprecated=t.bemComponent=t.assignProps=void 0;var r=n(40);Object.defineProperty(t,"assignProps",{enumerable:!0,get:function(){return f(r).default}});var o=n(36);Object.defineProperty(t,"bemComponent",{enumerable:!0,get:function(){return f(o).default}});var i=n(41);Object.defineProperty(t,"deprecated",{enumerable:!0,get:function(){return f(i).default}});var a=n(16);Object.defineProperty(t,"getComponentClasses",{enumerable:!0,get:function(){return f(a).default}});var s=n(19);Object.defineProperty(t,"propertyOrNull",{enumerable:!0,get:function(){return f(s).default}});var u=n(42);Object.defineProperty(t,"filterObjectByKeys",{enumerable:!0,get:function(){return f(u).default}});var l=n(28);Object.defineProperty(t,"keyConstants",{enumerable:!0,get:function(){return f(l).default}});var c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(30));function f(e){return e&&e.__esModule?e:{default:e}}t.elementPosition=c},40:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=function(n){var o=Object.assign({},t,n);return r.default.createElement(e,Object.assign({},o))};return n.displayName="assignProps("+(e.displayName||e.name)+")",n};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0))},41:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){0}},418:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(0)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidCatch",value:function(e,t){!function(e,t){window.Bugsnag&&window.Bugsnag.notifyException(e,t)}(e,{react:t})}},{key:"render",value:function(){return this.props.children}}]),t}();t.default=s,s.propTypes={children:i.default.node.isRequired}},42:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n={};return Object.keys(e).forEach(function(r){-1!==t.indexOf(r)&&(n[r]=e[r])}),n}},44:function(e,t){e.exports=s,s.default=s,s.stable=c,s.stableStringify=c;var n="[...]",r="[Circular]",o=[],i=[];function a(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function s(e,t,s,l){var c;void 0===l&&(l=a()),function e(t,o,i,a,s,l,c){l+=1;var f;if("object"==typeof t&&null!==t){for(f=0;f<a.length;f++)if(a[f]===t)return void u(r,t,o,s);if(void 0!==c.depthLimit&&l>c.depthLimit)return void u(n,t,o,s);if(void 0!==c.edgesLimit&&i+1>c.edgesLimit)return void u(n,t,o,s);if(a.push(t),Array.isArray(t))for(f=0;f<t.length;f++)e(t[f],f,f,a,t,l,c);else{var d=Object.keys(t);for(f=0;f<d.length;f++){var p=d[f];e(t[p],p,f,a,t,l,c)}}a.pop()}}(e,"",0,[],void 0,0,l);try{c=0===i.length?JSON.stringify(e,t,s):JSON.stringify(e,f(t),s)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==o.length;){var d=o.pop();4===d.length?Object.defineProperty(d[0],d[1],d[3]):d[0][d[1]]=d[2]}}return c}function u(e,t,n,r){var a=Object.getOwnPropertyDescriptor(r,n);void 0!==a.get?a.configurable?(Object.defineProperty(r,n,{value:e}),o.push([r,n,t,a])):i.push([t,n,e]):(r[n]=e,o.push([r,n,t]))}function l(e,t){return e<t?-1:e>t?1:0}function c(e,t,s,c){void 0===c&&(c=a());var d,p=function e(t,i,a,s,c,f,d){f+=1;var p;if("object"==typeof t&&null!==t){for(p=0;p<s.length;p++)if(s[p]===t)return void u(r,t,i,c);try{if("function"==typeof t.toJSON)return}catch(e){return}if(void 0!==d.depthLimit&&f>d.depthLimit)return void u(n,t,i,c);if(void 0!==d.edgesLimit&&a+1>d.edgesLimit)return void u(n,t,i,c);if(s.push(t),Array.isArray(t))for(p=0;p<t.length;p++)e(t[p],p,p,s,t,f,d);else{var h={},m=Object.keys(t).sort(l);for(p=0;p<m.length;p++){var y=m[p];e(t[y],y,p,s,t,f,d),h[y]=t[y]}if(void 0===c)return h;o.push([c,i,t]),c[i]=h}s.pop()}}(e,"",0,[],void 0,0,c)||e;try{d=0===i.length?JSON.stringify(p,t,s):JSON.stringify(p,f(t),s)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==o.length;){var h=o.pop();4===h.length?Object.defineProperty(h[0],h[1],h[3]):h[0][h[1]]=h[2]}}return d}function f(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(i.length>0)for(var r=0;r<i.length;r++){var o=i[r];if(o[1]===t&&o[0]===n){n=o[2],i.splice(r,1);break}}return e.call(this,t,n)}}},444:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=e.fluxibleApp,n=e.fluxibleContext,b=e.activeUser,_=void 0===b?{}:b,E=e.designCollection,w=void 0===E?null:E,O=e.isInline,S=void 0!==O&&O,k=e.models,C=void 0===k?{}:k,P=e.goBack,T=void 0===P?function(){}:P,j=e.goTo,x=void 0===j?function(){}:j,A=e.csrfToken,M=void 0===A?null:A;[f.default,d.default,p.default].map(t.registerStore,t),n.getStore(d.default).setModel(C.designComment),n.getStore(d.default).setCollectionModel(C.designCommentCollection),n.getStore(f.default).setModel(C.design),n.getStore(f.default).setCollectionModel(C.designCollection),w&&n.getStore(f.default).setDesignCollection(w);var D=(0,u.default)(h.default,[f.default,d.default],function(e,t){var n=e.getStore(f.default),r=n.getDesign(t.designId),o=n.getNextDesign(t.designId),i=n.getPreviousDesign(t.designId);return window.Bugsnag&&!r&&window.Bugsnag.notify("ddo-missing-design","DDO missing designid: "+t.designId,{designId:t.designId,len:n.designs.length,designs:JSON.stringify(n.designs.map(function(e){return e.designId}))}),{design:r,nextPageUrl:n.nextPageUrl,prevPageUrl:n.prevPageUrl,previousDesign:i,nextDesign:o,selectedComment:e.getStore(d.default).selectedComment,commentPagination:e.getStore(d.default).getPagination(),isInline:S,isTransitioning:t.isTransitioning,goBack:T,goToNext:function(){t.setTransitioning(!0),o&&e.executeAction(y.resetComments,{callback:function(){return x((0,l.default)(o.showUrl).resource())}})},goToPrevious:function(){t.setTransitioning(!0),i&&e.executeAction(y.resetComments,{callback:function(){return x((0,l.default)(i.showUrl).resource())}})},clearDesignCommentSelection:function(){e.executeAction(y.resetSelectedComment)}}},{executeAction:i.default.func}),I=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isTransitioning:!1},n.setTransitioning=n.setTransitioning.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"getChildContext",value:function(){return{activeUser:g.default.fromJSON(_),csrfToken:M||(0,c.default)(),scribblesEnabled:!0}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.designId!==this.props.designId&&(this.setDesign(e.designId),this.setTransitioning(!1))}},{key:"componentDidMount",value:function(){this.setDesign(this.props.designId)}},{key:"setDesign",value:function(e){this.context.executeAction(m.loadDesign,e),this.context.executeAction(m.loadMoreDesigns,e),this.context.executeAction(y.resetComments);var t=this.context.getStore(f.default).getDesign(e);t.links.comments&&t.permission.canViewComments&&this.context.executeAction(y.loadDesignComments,{commentsUrl:t.links.comments,designId:t.designId}),t.links.sketches&&t.permission.canViewSketches&&this.context.executeAction(v.loadDesignSketches,{loadDesignSketchesUrl:t.links.sketches,designId:t.designId})}},{key:"setTransitioning",value:function(e){this.setState({isTransitioning:e})}},{key:"render",value:function(){return s.default.createElement(D,r({},this.props,{setTransitioning:this.setTransitioning,isTransitioning:this.state.isTransitioning}))}}]),t}(a.Component);return I.propTypes={designId:i.default.string.isRequired},I.contextTypes={executeAction:i.default.func,getStore:i.default.func},I.childContextTypes={activeUser:i.default.object,csrfToken:i.default.string,scribblesEnabled:i.default.bool},{DdoComponent:I,setDesignCollection:function(e){return n.executeAction(m.setDesignCollection,e)},setDesignData:function(e){return n.executeAction(m.setDesignData,e)}}};var i=b(n(1)),a=n(0),s=b(a),u=b(n(86)),l=b(n(445)),c=b(n(446)),f=b(n(164)),d=b(n(104)),p=b(n(128)),h=b(n(449)),m=n(493),y=n(135),v=n(211),g=b(n(212));function b(e){return e&&e.__esModule?e:{default:e}}},445:function(e,t,n){var r,o,i;
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(a,s){"use strict";"object"==typeof e&&e.exports?e.exports=s(n(262),n(263),n(264)):(o=[n(262),n(263),n(264)],void 0===(i="function"==typeof(r=s)?r.apply(t,o):r)||(e.exports=i))}(0,function(e,t,n,r){"use strict";var o=r&&r.URI;function i(e,t){var n=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof i))return n?r?new i(e,t):new i(e):new i;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&n)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}i.version="1.19.11";var a=i.prototype,s=Object.prototype.hasOwnProperty;function u(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function l(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function c(e){return"Array"===l(e)}function f(e,t){var n,r,o={};if("RegExp"===l(t))o=null;else if(c(t))for(n=0,r=t.length;n<r;n++)o[t[n]]=!0;else o[t]=!0;for(n=0,r=e.length;n<r;n++){(o&&void 0!==o[e[n]]||!o&&t.test(e[n]))&&(e.splice(n,1),r--,n--)}return e}function d(e,t){var n,r;if(c(t)){for(n=0,r=t.length;n<r;n++)if(!d(e,t[n]))return!1;return!0}var o=l(t);for(n=0,r=e.length;n<r;n++)if("RegExp"===o){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function p(e,t){if(!c(e)||!c(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function h(e){return e.replace(/^\/+|\/+$/g,"")}function m(e){return escape(e)}function y(e){return encodeURIComponent(e).replace(/[!'()*]/g,m).replace(/\*/g,"%2A")}i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:i.preventInvalidHostname,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.preventInvalidHostname=!1,i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\._-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},i.leading_whitespace_expression=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,i.ascii_tab_whitespace=/[\u0009\u000A\u000D]+/g,i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.hostProtocols=["http","https"],i.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},i.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return i.domAttributes[t]}},i.encode=y,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=y,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},i.encodeQuery=function(e,t){var n=i.encode(e+"");return void 0===t&&(t=i.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},i.decodeQuery=function(e,t){e+="",void 0===t&&(t=i.escapeQuerySpace);try{return i.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var v,g={encode:"encode",decode:"decode"},b=function(e,t){return function(n){try{return i[t](n+"").replace(i.characters[e][t].expression,function(n){return i.characters[e][t].map[n]})}catch(e){return n}}};for(v in g)i[v+"PathSegment"]=b("pathname",g[v]),i[v+"UrnPathSegment"]=b("urnpath",g[v]);var _=function(e,t,n){return function(r){var o;o=n?function(e){return i[t](i[n](e))}:i[t];for(var a=(r+"").split(e),s=0,u=a.length;s<u;s++)a[s]=o(a[s]);return a.join(e)}};function E(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function w(e,t){return function(n,r){return void 0===n?this._parts[e]||"":(null!==n&&(n+="").charAt(0)===t&&(n=n.substring(1)),this._parts[e]=n,this.build(!r),this)}}i.decodePath=_("/","decodePathSegment"),i.decodeUrnPath=_(":","decodeUrnPathSegment"),i.recodePath=_("/","encodePathSegment","decode"),i.recodeUrnPath=_(":","encodeUrnPathSegment","decode"),i.encodeReserved=b("reserved","encode"),i.parse=function(e,t){var n;return t||(t={preventInvalidHostname:i.preventInvalidHostname}),(n=(e=(e=e.replace(i.leading_whitespace_expression,"")).replace(i.ascii_tab_whitespace,"")).indexOf("#"))>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),(n=e.indexOf("?"))>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===(e=(e=e.replace(/^(https?|ftp|wss?)?:+[/\\]*/i,"$1://")).replace(/^[/\\]{2,}/i,"//")).substring(0,2)?(t.protocol=null,e=e.substring(2),e=i.parseAuthority(e,t)):(n=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(i.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3).replace(/\\/g,"/")?(e=e.substring(n+3),e=i.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},i.parseHost=function(e,t){e||(e="");var n,r,o=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===o&&(o=e.length),"["===e.charAt(0))n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,o)||null,"/"===t.port&&(t.port=null);else{var a=e.indexOf(":"),s=e.indexOf("/"),u=e.indexOf(":",a+1);-1!==u&&(-1===s||u<s)?(t.hostname=e.substring(0,o)||null,t.port=null):(r=e.substring(0,o).split(":"),t.hostname=r[0]||null,t.port=r[1]||null)}return t.hostname&&"/"!==e.substring(o).charAt(0)&&(o++,e="/"+e),t.preventInvalidHostname&&i.ensureValidHostname(t.hostname,t.protocol),t.port&&i.ensureValidPort(t.port),e.substring(o)||"/"},i.parseAuthority=function(e,t){return e=i.parseUserinfo(e,t),i.parseHost(e,t)},i.parseUserinfo=function(e,t){var n=e;-1!==e.indexOf("\\")&&(e=e.replace(/\\/g,"/"));var r,o=e.indexOf("/"),a=e.lastIndexOf("@",o>-1?o:e.length-1);return a>-1&&(-1===o||a<o)?(r=e.substring(0,a).split(":"),t.username=r[0]?i.decode(r[0]):null,r.shift(),t.password=r[0]?i.decode(r.join(":")):null,e=n.substring(a+1)):(t.username=null,t.password=null),e},i.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,r,o,a={},u=e.split("&"),l=u.length,c=0;c<l;c++)n=u[c].split("="),r=i.decodeQuery(n.shift(),t),o=n.length?i.decodeQuery(n.join("="),t):null,"__proto__"!==r&&(s.call(a,r)?("string"!=typeof a[r]&&null!==a[r]||(a[r]=[a[r]]),a[r].push(o)):a[r]=o);return a},i.build=function(e){var t="",n=!1;return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//",n=!0),t+=i.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&n&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},i.buildHost=function(e){var t="";return e.hostname?(i.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},i.buildAuthority=function(e){return i.buildUserinfo(e)+i.buildHost(e)},i.buildUserinfo=function(e){var t="";return e.username&&(t+=i.encode(e.username)),e.password&&(t+=":"+i.encode(e.password)),t&&(t+="@"),t},i.buildQuery=function(e,t,n){var r,o,a,u,l="";for(o in e)if("__proto__"!==o&&s.call(e,o))if(c(e[o]))for(r={},a=0,u=e[o].length;a<u;a++)void 0!==e[o][a]&&void 0===r[e[o][a]+""]&&(l+="&"+i.buildQueryParameter(o,e[o][a],n),!0!==t&&(r[e[o][a]+""]=!0));else void 0!==e[o]&&(l+="&"+i.buildQueryParameter(o,e[o],n));return l.substring(1)},i.buildQueryParameter=function(e,t,n){return i.encodeQuery(e,n)+(null!==t?"="+i.encodeQuery(t,n):"")},i.addQuery=function(e,t,n){if("object"==typeof t)for(var r in t)s.call(t,r)&&i.addQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),c(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},i.setQuery=function(e,t,n){if("object"==typeof t)for(var r in t)s.call(t,r)&&i.setQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===n?null:n}},i.removeQuery=function(e,t,n){var r,o,a;if(c(t))for(r=0,o=t.length;r<o;r++)e[t[r]]=void 0;else if("RegExp"===l(t))for(a in e)t.test(a)&&(e[a]=void 0);else if("object"==typeof t)for(a in t)s.call(t,a)&&i.removeQuery(e,a,t[a]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===l(n)?!c(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=f(e[t],n):e[t]!==String(n)||c(n)&&1!==n.length?c(e[t])&&(e[t]=f(e[t],n)):e[t]=void 0:e[t]=void 0}},i.hasQuery=function(e,t,n,r){switch(l(t)){case"String":break;case"RegExp":for(var o in e)if(s.call(e,o)&&t.test(o)&&(void 0===n||i.hasQuery(e,o,n)))return!0;return!1;case"Object":for(var a in t)if(s.call(t,a)&&!i.hasQuery(e,a,t[a]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(l(n)){case"Undefined":return t in e;case"Boolean":return n===Boolean(c(e[t])?e[t].length:e[t]);case"Function":return!!n(e[t],t,e);case"Array":return!!c(e[t])&&(r?d:p)(e[t],n);case"RegExp":return c(e[t])?!!r&&d(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return c(e[t])?!!r&&d(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.joinPaths=function(){for(var e=[],t=[],n=0,r=0;r<arguments.length;r++){var o=new i(arguments[r]);e.push(o);for(var a=o.segment(),s=0;s<a.length;s++)"string"==typeof a[s]&&t.push(a[s]),a[s]&&n++}if(!t.length||!n)return new i("");var u=new i("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||u.path("/"+u.path()),u.normalize()},i.commonPath=function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},i.withinString=function(e,t,n){n||(n={});var r=n.start||i.findUri.start,o=n.end||i.findUri.end,a=n.trim||i.findUri.trim,s=n.parens||i.findUri.parens,u=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var l=r.exec(e);if(!l)break;var c=l.index;if(n.ignoreHtml){var f=e.slice(Math.max(c-3,0),c);if(f&&u.test(f))continue}for(var d=c+e.slice(c).search(o),p=e.slice(c,d),h=-1;;){var m=s.exec(p);if(!m)break;var y=m.index+m[0].length;h=Math.max(h,y)}if(!((p=h>-1?p.slice(0,h)+p.slice(h).replace(a,""):p.replace(a,"")).length<=l[0].length||n.ignore&&n.ignore.test(p))){var v=t(p,c,d=c+p.length,e);void 0!==v?(v=String(v),e=e.slice(0,c)+v+e.slice(d),r.lastIndex=c+v.length):r.lastIndex=d}}return r.lastIndex=0,e},i.ensureValidHostname=function(t,n){var r=!!t,o=!1;if(!!n&&(o=d(i.hostProtocols,n)),o&&!r)throw new TypeError("Hostname cannot be empty, if protocol is "+n);if(t&&t.match(i.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(i.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},i.ensureValidPort=function(e){if(e){var t=Number(e);if(!(function(e){return/^[0-9]+$/.test(e)}(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},i.noConflict=function(e){if(e){var t={URI:this.noConflict()};return r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(t.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(t.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=r.SecondLevelDomains.noConflict()),t}return r.URI===this&&(r.URI=o),this},a.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},a.clone=function(){return new i(this)},a.valueOf=a.toString=function(){return this.build(!1)._string},a.protocol=E("protocol"),a.username=E("username"),a.password=E("password"),a.hostname=E("hostname"),a.port=E("port"),a.query=w("query","?"),a.fragment=w("fragment","#"),a.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},a.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},a.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?i.decodeUrnPath:i.decodePath)(n):n}return this._parts.urn?this._parts.path=e?i.recodeUrnPath(e):"":this._parts.path=e?i.recodePath(e):"/",this.build(!t),this},a.path=a.pathname,a.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=i._parts();var r=e instanceof i,o="object"==typeof e&&(e.hostname||e.path||e.pathname);e.nodeName&&(e=e[i.getDomAttribute(e)]||"",o=!1);if(!r&&o&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=i.parse(String(e),this._parts);else{if(!r&&!o)throw new TypeError("invalid input");var a=r?e._parts:e;for(n in a)"query"!==n&&s.call(this._parts,n)&&(this._parts[n]=a[n]);a.query&&this.query(a.query,!1)}return this.build(!t),this},a.is=function(e){var t=!1,r=!1,o=!1,a=!1,s=!1,u=!1,l=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,r=i.ip4_expression.test(this._parts.hostname),o=i.ip6_expression.test(this._parts.hostname),s=(a=!(t=r||o))&&n&&n.has(this._parts.hostname),u=a&&i.idn_expression.test(this._parts.hostname),l=a&&i.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return a;case"sld":return s;case"ip":return t;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return o;case"idn":return u;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return l}return null};var O=a.protocol,S=a.port,k=a.hostname;a.protocol=function(e,t){if(e&&!(e=e.replace(/:(\/\/)?$/,"")).match(i.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return O.call(this,e,t)},a.scheme=a.protocol,a.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),i.ensureValidPort(e))),S.call(this,e,t))},a.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==i.parseHost(e,n))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname,this._parts.preventInvalidHostname&&i.ensureValidHostname(e,this._parts.protocol)}return k.call(this,e,t)},a.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+"://":"")+this.authority():""}var r=i(e);return this.protocol(r.protocol()).authority(r.authority()).build(!t),this},a.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildHost(this._parts):"";if("/"!==i.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},a.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildAuthority(this._parts):"";if("/"!==i.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},a.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=i.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return"@"!==e[e.length-1]&&(e+="@"),i.parseUserinfo(e,this._parts),this.build(!t),this},a.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=i.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},a.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var r=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,r),a=new RegExp("^"+u(o));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&i.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(a,e),this.build(!t),this},a.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(t).length-1;return r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(i.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var o=new RegExp(u(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},a.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),o=this._parts.hostname.substring(r+1);return!0!==t&&n&&n.list[o.toLowerCase()]&&n.get(this._parts.hostname)||o}var i;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');i=new RegExp(u(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");i=new RegExp(u(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},a.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?i.decodePath(r):r}var o=this._parts.path.length-this.filename().length,a=this._parts.path.substring(0,o),s=new RegExp("^"+u(a));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=i.recodePath(e),this._parts.path=this._parts.path.replace(s,e),this.build(!t),this},a.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),r=this._parts.path.substring(n+1);return e?i.decodePathSegment(r):r}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var a=new RegExp(u(this.filename())+"$");return e=i.recodePath(e),this._parts.path=this._parts.path.replace(a,e),o?this.normalizePath(t):this.build(!t),this},a.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n,r,o=this.filename(),a=o.lastIndexOf(".");return-1===a?"":(n=o.substring(a+1),r=/^[a-z0-9%]+$/i.test(n)?n:"",e?i.decodePathSegment(r):r)}"."===e.charAt(0)&&(e=e.substring(1));var s,l=this.suffix();if(l)s=e?new RegExp(u(l)+"$"):new RegExp(u("."+l)+"$");else{if(!e)return this;this._parts.path+="."+i.recodePath(e)}return s&&(e=i.recodePath(e),this._parts.path=this._parts.path.replace(s,e)),this.build(!t),this},a.segment=function(e,t,n){var r=this._parts.urn?":":"/",o=this.path(),i="/"===o.substring(0,1),a=o.split(r);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(i&&a.shift(),e<0&&(e=Math.max(a.length+e,0)),void 0===t)return void 0===e?a:a[e];if(null===e||void 0===a[e])if(c(t)){a=[];for(var s=0,u=t.length;s<u;s++)(t[s].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(h(t[s])))}else(t||"string"==typeof t)&&(t=h(t),""===a[a.length-1]?a[a.length-1]=t:a.push(t));else t?a[e]=h(t):a.splice(e,1);return i&&a.unshift(""),this.path(a.join(r),n)},a.segmentCoded=function(e,t,n){var r,o,a;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(c(r=this.segment(e,t,n)))for(o=0,a=r.length;o<a;o++)r[o]=i.decode(r[o]);else r=void 0!==r?i.decode(r):void 0;return r}if(c(t))for(o=0,a=t.length;o<a;o++)t[o]=i.encode(t[o]);else t="string"==typeof t||t instanceof String?i.encode(t):t;return this.segment(e,t,n)};var C=a.query;return a.query=function(e,t){if(!0===e)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=i.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=i.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):C.call(this,e,t)},a.setQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)r[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in e)s.call(e,o)&&(r[o]=e[o])}return this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},a.addQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(r,e,void 0===t?null:t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},a.removeQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(r,e,t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},a.hasQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(r,e,t,n)},a.setSearch=a.setQuery,a.addSearch=a.addQuery,a.removeSearch=a.removeQuery,a.hasSearch=a.hasQuery,a.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},a.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},a.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},a.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},a.normalizePath=function(e){var t,n=this._parts.path;if(!n)return this;if(this._parts.urn)return this._parts.path=i.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var r,o,a="";for("/"!==(n=i.recodePath(n)).charAt(0)&&(t=!0,n="/"+n),"/.."!==n.slice(-3)&&"/."!==n.slice(-2)||(n+="/"),n=n.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(a=n.substring(1).match(/^(\.\.\/)+/)||"")&&(a=a[0]);-1!==(r=n.search(/\/\.\.(\/|$)/));)0!==r?(-1===(o=n.substring(0,r).lastIndexOf("/"))&&(o=r),n=n.substring(0,o)+n.substring(r+3)):n=n.substring(3);return t&&this.is("relative")&&(n=a+n.substring(1)),this._parts.path=n,this.build(!e),this},a.normalizePathname=a.normalizePath,a.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},a.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},a.normalizeSearch=a.normalizeQuery,a.normalizeHash=a.normalizeFragment,a.iso8859=function(){var e=i.encode,t=i.decode;i.encode=escape,i.decode=decodeURIComponent;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},a.unicode=function(){var e=i.encode,t=i.decode;i.encode=y,i.decode=unescape;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},a.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var r="",o=0,a=t._parts.query.split("&"),s=a.length;o<s;o++){var u=(a[o]||"").split("=");r+="&"+i.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==u[1]&&(r+="="+i.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+=i.decodeQuery(t.hash(),!0)},a.absoluteTo=function(e){var t,n,r,o=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof i||(e=new i(e)),o._parts.protocol)return o;if(o._parts.protocol=e._parts.protocol,this._parts.hostname)return o;for(n=0;r=a[n];n++)o._parts[r]=e._parts[r];return o._parts.path?(".."===o._parts.path.substring(-2)&&(o._parts.path+="/"),"/"!==o.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),o._parts.path=(t?t+"/":"")+o._parts.path,o.normalizePath())):(o._parts.path=e._parts.path,o._parts.query||(o._parts.query=e._parts.query)),o.build(),o},a.relativeTo=function(e){var t,n,r,o,a,s=this.clone().normalize();if(s._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new i(e).normalize(),t=s._parts,n=e._parts,o=s.path(),a=e.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return s.build();if(null!==t.protocol||null!==t.username||null!==t.password)return s.build();if(t.hostname!==n.hostname||t.port!==n.port)return s.build();if(t.hostname=null,t.port=null,o===a)return t.path="",s.build();if(!(r=i.commonPath(o,a)))return s.build();var u=n.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=u+t.path.substring(r.length)||"./",s.build()},a.equals=function(e){var t,n,r,o,a,u=this.clone(),l=new i(e),f={};if(u.normalize(),l.normalize(),u.toString()===l.toString())return!0;if(r=u.query(),o=l.query(),u.query(""),l.query(""),u.toString()!==l.toString())return!1;if(r.length!==o.length)return!1;for(a in t=i.parseQuery(r,this._parts.escapeQuerySpace),n=i.parseQuery(o,this._parts.escapeQuerySpace),t)if(s.call(t,a)){if(c(t[a])){if(!p(t[a],n[a]))return!1}else if(t[a]!==n[a])return!1;f[a]=!0}for(a in n)if(s.call(n,a)&&!f[a])return!1;return!0},a.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},a.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},a.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},i})},446:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,r.get)("_99csrf")};var r=n(198)},447:function(e,t,n){(function(e,n){var r=200,o="Expected a function",i="__lodash_hash_undefined__",a=1,s=2,u=1/0,l=9007199254740991,c="[object Arguments]",f="[object Array]",d="[object Boolean]",p="[object Date]",h="[object Error]",m="[object Function]",y="[object GeneratorFunction]",v="[object Map]",g="[object Number]",b="[object Object]",_="[object RegExp]",E="[object Set]",w="[object String]",O="[object Symbol]",S="[object ArrayBuffer]",k="[object DataView]",C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P=/^\w*$/,T=/^\./,j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,x=/\\(\\)?/g,A=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D[c]=D[f]=D[S]=D[d]=D[k]=D[p]=D[h]=D[m]=D[v]=D[g]=D[b]=D[_]=D[E]=D[w]=D["[object WeakMap]"]=!1;var I="object"==typeof e&&e&&e.Object===Object&&e,N="object"==typeof self&&self&&self.Object===Object&&self,R=I||N||Function("return this")(),L="object"==typeof t&&t&&!t.nodeType&&t,U=L&&"object"==typeof n&&n&&!n.nodeType&&n,F=U&&U.exports===L&&I.process,B=function(){try{return F&&F.binding("util")}catch(e){}}(),z=B&&B.isTypedArray;function q(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!=t)return function(e,t,n,r){var o=e.length,i=n+(r?1:-1);for(;r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,W,n);var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function H(e,t,n){for(var r=-1,o=e?e.length:0;++r<o;)if(n(t,e[r]))return!0;return!1}function G(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function W(e){return e!=e}function V(e,t){return e.has(t)}function K(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function Q(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function $(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var X=Array.prototype,J=Function.prototype,Z=Object.prototype,Y=R["__core-js_shared__"],ee=function(){var e=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),te=J.toString,ne=Z.hasOwnProperty,re=Z.toString,oe=RegExp("^"+te.call(ne).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=R.Symbol,ae=R.Uint8Array,se=Z.propertyIsEnumerable,ue=X.splice,le=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ce=ze(R,"DataView"),fe=ze(R,"Map"),de=ze(R,"Promise"),pe=ze(R,"Set"),he=ze(R,"WeakMap"),me=ze(Object,"create"),ye=$e(ce),ve=$e(fe),ge=$e(de),be=$e(pe),_e=$e(he),Ee=ie?ie.prototype:void 0,we=Ee?Ee.valueOf:void 0,Oe=Ee?Ee.toString:void 0;function Se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pe(e){var t=-1,n=e?e.length:0;for(this.__data__=new Ce;++t<n;)this.add(e[t])}function Te(e){this.__data__=new ke(e)}function je(e,t){var n=Ye(e)||Ze(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!ne.call(e,i)||o&&("length"==i||He(i,r))||n.push(i);return n}function xe(e,t){for(var n=e.length;n--;)if(Je(e[n][0],t))return n;return-1}function Ae(e,t){for(var n=0,r=(t=Ge(t,e)?[t]:Le(t)).length;null!=e&&n<r;)e=e[Qe(t[n++])];return n&&n==r?e:void 0}function Me(e,t){return null!=e&&t in Object(e)}function De(e,t,n,r,o){return e===t||(null==e||null==t||!rt(e)&&!ot(t)?e!=e&&t!=t:function(e,t,n,r,o,i){var u=Ye(e),l=Ye(t),m=f,y=f;u||(m=(m=qe(e))==c?b:m);l||(y=(y=qe(t))==c?b:y);var C=m==b&&!K(e),P=y==b&&!K(t),T=m==y;if(T&&!C)return i||(i=new Te),u||at(e)?Fe(e,t,n,r,o,i):function(e,t,n,r,o,i,u){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!r(new ae(e),new ae(t)));case d:case p:case g:return Je(+e,+t);case h:return e.name==t.name&&e.message==t.message;case _:case w:return e==t+"";case v:var l=Q;case E:var c=i&s;if(l||(l=$),e.size!=t.size&&!c)return!1;var f=u.get(e);if(f)return f==t;i|=a,u.set(e,t);var m=Fe(l(e),l(t),r,o,i,u);return u.delete(e),m;case O:if(we)return we.call(e)==we.call(t)}return!1}(e,t,m,n,r,o,i);if(!(o&s)){var j=C&&ne.call(e,"__wrapped__"),x=P&&ne.call(t,"__wrapped__");if(j||x){var A=j?e.value():e,M=x?t.value():t;return i||(i=new Te),n(A,M,r,o,i)}}if(!T)return!1;return i||(i=new Te),function(e,t,n,r,o,i){var a=o&s,u=st(e),l=u.length,c=st(t).length;if(l!=c&&!a)return!1;for(var f=l;f--;){var d=u[f];if(!(a?d in t:ne.call(t,d)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var h=!0;i.set(e,t),i.set(t,e);for(var m=a;++f<l;){d=u[f];var y=e[d],v=t[d];if(r)var g=a?r(v,y,d,t,e,i):r(y,v,d,e,t,i);if(!(void 0===g?y===v||n(y,v,r,o,i):g)){h=!1;break}m||(m="constructor"==d)}if(h&&!m){var b=e.constructor,_=t.constructor;b!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(h=!1)}return i.delete(e),i.delete(t),h}(e,t,n,r,o,i)}(e,t,De,n,r,o))}function Ie(e){return!(!rt(e)||function(e){return!!ee&&ee in e}(e))&&(tt(e)||K(e)?oe:A).test($e(e))}function Ne(e){return"function"==typeof e?e:null==e?ut:"object"==typeof e?Ye(e)?function(e,t){if(Ge(e)&&We(t))return Ve(Qe(e),t);return function(n){var r=function(e,t,n){var r=null==e?void 0:Ae(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&function(e,t,n){var r,o=-1,i=(t=Ge(t,e)?[t]:Le(t)).length;for(;++o<i;){var a=Qe(t[o]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;return!!(i=e?e.length:0)&&nt(i)&&He(a,i)&&(Ye(e)||Ze(e))}(e,t,Me)}(n,e):De(t,r,void 0,a|s)}}(e[0],e[1]):function(e){var t=function(e){var t=st(e),n=t.length;for(;n--;){var r=t[n],o=e[r];t[n]=[r,o,We(o)]}return t}(e);if(1==t.length&&t[0][2])return Ve(t[0][0],t[0][1]);return function(n){return n===e||function(e,t,n,r){var o=n.length,i=o,u=!r;if(null==e)return!i;for(e=Object(e);o--;){var l=n[o];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var c=(l=n[o])[0],f=e[c],d=l[1];if(u&&l[2]){if(void 0===f&&!(c in e))return!1}else{var p=new Te;if(r)var h=r(f,d,c,e,t,p);if(!(void 0===h?De(d,f,r,a|s,p):h))return!1}}return!0}(n,e,t)}}(e):function(e){return Ge(e)?function(e){return function(t){return null==t?void 0:t[e]}}(Qe(e)):function(e){return function(t){return Ae(t,e)}}(e)}(e)}function Re(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Z;return e===n}(e))return le(e);var t=[];for(var n in Object(e))ne.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Le(e){return Ye(e)?e:Ke(e)}Se.prototype.clear=function(){this.__data__=me?me(null):{}},Se.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Se.prototype.get=function(e){var t=this.__data__;if(me){var n=t[e];return n===i?void 0:n}return ne.call(t,e)?t[e]:void 0},Se.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:ne.call(t,e)},Se.prototype.set=function(e,t){return this.__data__[e]=me&&void 0===t?i:t,this},ke.prototype.clear=function(){this.__data__=[]},ke.prototype.delete=function(e){var t=this.__data__,n=xe(t,e);return!(n<0||(n==t.length-1?t.pop():ue.call(t,n,1),0))},ke.prototype.get=function(e){var t=this.__data__,n=xe(t,e);return n<0?void 0:t[n][1]},ke.prototype.has=function(e){return xe(this.__data__,e)>-1},ke.prototype.set=function(e,t){var n=this.__data__,r=xe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new Se,map:new(fe||ke),string:new Se}},Ce.prototype.delete=function(e){return Be(this,e).delete(e)},Ce.prototype.get=function(e){return Be(this,e).get(e)},Ce.prototype.has=function(e){return Be(this,e).has(e)},Ce.prototype.set=function(e,t){return Be(this,e).set(e,t),this},Pe.prototype.add=Pe.prototype.push=function(e){return this.__data__.set(e,i),this},Pe.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.clear=function(){this.__data__=new ke},Te.prototype.delete=function(e){return this.__data__.delete(e)},Te.prototype.get=function(e){return this.__data__.get(e)},Te.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ke){var o=n.__data__;if(!fe||o.length<r-1)return o.push([e,t]),this;n=this.__data__=new Ce(o)}return n.set(e,t),this};var Ue=pe&&1/$(new pe([,-0]))[1]==u?function(e){return new pe(e)}:function(){};function Fe(e,t,n,r,o,i){var u=o&s,l=e.length,c=t.length;if(l!=c&&!(u&&c>l))return!1;var f=i.get(e);if(f&&i.get(t))return f==t;var d=-1,p=!0,h=o&a?new Pe:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var m=e[d],y=t[d];if(r)var v=u?r(y,m,d,t,e,i):r(m,y,d,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(h){if(!G(t,function(e,t){if(!h.has(t)&&(m===e||n(m,e,r,o,i)))return h.add(t)})){p=!1;break}}else if(m!==y&&!n(m,y,r,o,i)){p=!1;break}}return i.delete(e),i.delete(t),p}function Be(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ze(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ie(n)?n:void 0}var qe=function(e){return re.call(e)};function He(e,t){return!!(t=null==t?l:t)&&("number"==typeof e||M.test(e))&&e>-1&&e%1==0&&e<t}function Ge(e,t){if(Ye(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!it(e))||(P.test(e)||!C.test(e)||null!=t&&e in Object(t))}function We(e){return e==e&&!rt(e)}function Ve(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(ce&&qe(new ce(new ArrayBuffer(1)))!=k||fe&&qe(new fe)!=v||de&&"[object Promise]"!=qe(de.resolve())||pe&&qe(new pe)!=E||he&&"[object WeakMap]"!=qe(new he))&&(qe=function(e){var t=re.call(e),n=t==b?e.constructor:void 0,r=n?$e(n):void 0;if(r)switch(r){case ye:return k;case ve:return v;case ge:return"[object Promise]";case be:return E;case _e:return"[object WeakMap]"}return t});var Ke=Xe(function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(it(e))return Oe?Oe.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}(e)}(e);var t=[];return T.test(e)&&t.push(""),e.replace(j,function(e,n,r,o){t.push(r?o.replace(x,"$1"):n||e)}),t});function Qe(e){if("string"==typeof e||it(e))return e;var t=e+"";return"0"==t&&1/e==-u?"-0":t}function $e(e){if(null!=e){try{return te.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Xe(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(Xe.Cache||Ce),n}function Je(e,t){return e===t||e!=e&&t!=t}function Ze(e){return function(e){return ot(e)&&et(e)}(e)&&ne.call(e,"callee")&&(!se.call(e,"callee")||re.call(e)==c)}Xe.Cache=Ce;var Ye=Array.isArray;function et(e){return null!=e&&nt(e.length)&&!tt(e)}function tt(e){var t=rt(e)?re.call(e):"";return t==m||t==y}function nt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function rt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ot(e){return!!e&&"object"==typeof e}function it(e){return"symbol"==typeof e||ot(e)&&re.call(e)==O}var at=z?function(e){return function(t){return e(t)}}(z):function(e){return ot(e)&&nt(e.length)&&!!D[re.call(e)]};function st(e){return et(e)?je(e):Re(e)}function ut(e){return e}n.exports=function(e,t){return e&&e.length?function(e,t,n){var o=-1,i=q,a=e.length,s=!0,u=[],l=u;if(n)s=!1,i=H;else if(a>=r){var c=t?null:Ue(e);if(c)return $(c);s=!1,i=V,l=new Pe}else l=t?[]:u;e:for(;++o<a;){var f=e[o],d=t?t(f):f;if(f=n||0!==f?f:0,s&&d==d){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),u.push(f)}else i(l,d,n)||(l!==u&&l.push(d),u.push(f))}return u}(e,Ne(t)):[]}}).call(t,n(10),n(73)(e))},448:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIdFromUrlHash=function(){var e=window.location.hash.split("#");return e.length>=2?e[1].split("-")[1]:null}},449:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=_(n(1)),i=_(n(0)),a=_(n(9)),s=_(n(450)),u=_(n(32)),l=_(n(451)),c=_(n(39)),f=n(88),d=_(n(210)),p=n(452),h=n(453),m=n(454),y=_(n(465)),v=_(n(466)),g=_(n(469)),b=_(n(470));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.inactiveUiTimer=null,e.paginationPreloadTimer=null,e.state={isPresentationMode:!1,zoomLevel:d.default.FIT_TO_CONTAINER,availableZoomLevels:[],viewSize:null,feedbackMode:"annotate"},e.clearDesignCommentSelection=e.clearDesignCommentSelection.bind(e),e.handleKeyDown=e.handleKeyDown.bind(e),e.handleMaximize=e.handleMaximize.bind(e),e.handleMinimize=e.handleMinimize.bind(e),e.handleFullscreenChange=e.handleFullscreenChange.bind(e),e.closeOverlayHandler=e.closeOverlayHandler.bind(e),e.zoomIn=e.zoomIn.bind(e),e.zoomOut=e.zoomOut.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown),s.default.enabled&&window.addEventListener(s.default.raw.fullscreenchange,this.handleFullscreenChange)}},{key:"componentDidUpdate",value:function(){var e=this;window.clearTimeout(this.paginationPreloadTimer),this.paginationPreloadTimer=window.setTimeout(function(){e.props.nextDesign&&(0,l.default)(e.props.nextDesign.previewUrl),e.props.previousDesign&&(0,l.default)(e.props.previousDesign.previewUrl)},5e3)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown),s.default.enabled&&window.removeEventListener(s.default.raw.fullscreenchange,this.handleFullscreenChange),window.clearTimeout(this.inactiveUiTimer),window.clearTimeout(this.paginationPreloadTimer)}},{key:"setZoomLevel",value:function(e){if(!this.state.viewSize)return null;var t=this.props.design,n=t.width,r=t.height,o=t.multipagePreviewWidth,i=t.multipagePreviewHeight,a={width:o||n,height:i||r},s=(0,p.getAvailableZoomLevels)(a,this.state.viewSize),u=!e||-1===s.indexOf(e)?this.getDefaultZoomLevel(s):e;this.setState({availableZoomLevels:s,zoomLevel:u})}},{key:"getDefaultZoomLevel",value:function(e){return e.indexOf(d.default.FIT_TO_CONTAINER)>-1?d.default.FIT_TO_CONTAINER:e.indexOf(d.default.FIT_TO_NATIVE)>-1?d.default.FIT_TO_NATIVE:d.default.FLUID}},{key:"zoomOut",value:function(){var e=this.getPrevZoomLevel();e&&this.setZoomLevel(e)}},{key:"zoomIn",value:function(){var e=this.getNextZoomLevel();e&&this.setZoomLevel(e)}},{key:"canZoomIn",value:function(){return Boolean(this.getNextZoomLevel())}},{key:"canZoomOut",value:function(){return Boolean(this.getPrevZoomLevel())}},{key:"getNextZoomLevel",value:function(){var e=this.state.availableZoomLevels.indexOf(this.state.zoomLevel)+1;return this.state.availableZoomLevels[e]?this.state.availableZoomLevels[e]:null}},{key:"getPrevZoomLevel",value:function(){var e=this.state.availableZoomLevels.indexOf(this.state.zoomLevel)-1;return this.state.availableZoomLevels[e]?this.state.availableZoomLevels[e]:null}},{key:"closeOverlayHandler",value:function(){var e=this;null===document.querySelector('body[data-modal-status="active"]')&&this.props.isInline&&window.setTimeout(function(){e.props.goBack()},this.props.onCloseDelayDuration),window.dispatchEvent(new CustomEvent("ddoDidClose"))}},{key:"isKeypressInTextarea",value:function(e){return e.target&&"TEXTAREA"===e.target.nodeName}},{key:"isArrowKeypress",value:function(e){return[39,37].indexOf(e.keyCode)>-1}},{key:"handleEsc",value:function(e){this.isKeypressInTextarea(e)?(this.clearDesignCommentSelection(),a.default.findDOMNode(this).focus()):this.props.selectedComment&&this.props.selectedComment.annotation?this.clearDesignCommentSelection():this.state.isPresentationMode?this.handleMinimize():this.closeOverlayHandler()}},{key:"handleArrowKeys",value:function(e){this.isKeypressInTextarea(e)||(37===e.keyCode&&this.props.goToPrevious(),39===e.keyCode&&this.props.goToNext())}},{key:"handleKeyDown",value:function(e){if(!this.isKeypressInTextarea(e)){if(e.shiftKey&&187===e.keyCode)return this.zoomIn();if(189===e.keyCode)return this.zoomOut()}return 27===e.keyCode?this.handleEsc(e):this.isArrowKeypress(e)?this.handleArrowKeys(e):void 0}},{key:"clearDesignCommentSelection",value:function(){this.props.selectedComment&&this.props.clearDesignCommentSelection()}},{key:"handleMaximize",value:function(){s.default.enabled&&s.default.request(),this.setState(function(){return{isPresentationMode:!0}})}},{key:"handleFullscreenChange",value:function(){s.default.enabled&&this.setState(function(){return{isPresentationMode:s.default.isFullscreen}})}},{key:"handleMinimize",value:function(){s.default.enabled&&s.default.exit(),this.setState(function(){return{isPresentationMode:!1}})}},{key:"render",value:function(){var e=this;return i.default.createElement(y.default,{render:function(t){return i.default.createElement("div",{style:{height:"100%",width:"100%",position:"absolute",left:"0",top:"0"},id:"design-details-annotations-anchor"},i.default.createElement(f.FullscreenOverlay,{onClick:e.clearDesignCommentSelection,isActive:!0,isScrollableSmallScreens:!0,handleKeyDown:e.handleKeyDown,enableScroll:e.props.isInline,closeOverlayHandler:e.closeOverlayHandler,hasAdminBarOffset:t},i.default.createElement(f.FullscreenFrame.Frame,{isSidebarHidden:e.state.isPresentationMode},i.default.createElement(f.FullscreenFrame.Main,null,i.default.createElement(f.FullscreenMain.Main,{hasHeader:!0},i.default.createElement(f.FullscreenMain.Header,null,i.default.createElement(m.ConnectedDesignDetailsHeader,{feedbackMode:e.state.feedbackMode,toggleFeedbackMode:function(t){return e.setState({feedbackMode:t})},design:e.props.design,zoomIn:e.canZoomIn()?e.zoomIn:null,zoomOut:e.canZoomOut()?e.zoomOut:null,goToPrevious:e.props.goToPrevious,goToNext:e.props.goToNext,closeOverlayHandler:e.closeOverlayHandler,handleMaximize:e.handleMaximize,handleMinimize:e.handleMinimize,isPresentationMode:e.state.isPresentationMode,isInline:e.props.isInline,seeMoreDesignsUrl:e.props.headerSeeMoreDesignsUrl})),i.default.createElement(f.FullscreenMain.Body,{variations:["design-details"]},i.default.createElement(g.default,{design:e.props.design}),e.renderDesignPane(),i.default.createElement(v.default,{design:e.props.design}),e.props.renderDesignCanvasOverlay&&e.props.renderDesignCanvasOverlay({design:e.props.design})))),i.default.createElement(f.FullscreenFrame.Sidebar,null,e.renderSidebar()))))}})}},{key:"renderSidebar",value:function(){var e=this;return i.default.createElement(u.default,{minWidth:c.default.normal[0]},function(t){return t||!t&&"sketch"!=e.state.feedbackMode?i.default.createElement(h.ConnectedSidebarComponent,{renderSidebar:e.props.renderSidebar,goToNext:e.props.goToNext,goToPrevious:e.props.goToPrevious,design:e.props.design,isInline:e.props.isInline,closeOverlayHandler:e.closeOverlayHandler,commentPagination:e.props.commentPagination}):null})}},{key:"renderDesignPane",value:function(){var e=this;return this.props.design.permission.canView&&this.props.design.width?i.default.createElement(b.default,{feedbackMode:this.state.feedbackMode,isPresentationMode:this.state.isPresentationMode,zoomLevel:this.state.zoomLevel,onSize:function(t){return e.setState({viewSize:t},function(){return e.setZoomLevel(e.state.zoomLevel)})},design:this.props.design,goToNext:this.props.goToNext,goToPrevious:this.props.goToPrevious,isTransitioning:this.props.isTransitioning}):null}}]),t}();t.default=E,E.propTypes={design:o.default.object.isRequired,goBack:o.default.func.isRequired,goToNext:o.default.func.isRequired,goToPrevious:o.default.func.isRequired,selectedComment:o.default.object,nextDesign:o.default.object,previousDesign:o.default.object,isInline:o.default.bool,onCloseDelayDuration:o.default.number,renderSidebar:o.default.func.isRequired,renderDesignCanvasOverlay:o.default.func,headerSeeMoreDesignsUrl:o.default.string,clearDesignCommentSelection:o.default.func,isTransitioning:o.default.bool,commentPagination:o.default.shape({page:o.default.number.isRequired,limit:o.default.number.isRequired,total:o.default.number.isRequired})},E.defaultProps={nextDesign:null,previousDesign:null,isInline:!0,hasFocusedComment:!1,onCloseDelayDuration:230,isTransitioning:!1}},45:function(e,t,n){"use strict";var r=n(46),o=n(57),i=n(14);e.exports={formats:i,parse:o,stringify:r}},450:function(e,t){
/*!
* screenfull
* v3.3.3 - 2018-09-04
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=void 0!==e&&e.exports,r="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,o=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,o=n.length,i={};r<o;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)i[n[0][r]]=e[r];return i}return!1}(),i={change:o.fullscreenchange,error:o.fullscreenerror},a={request:function(e){var n=o.requestFullscreen;e=e||t.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?e[n]():e[n](r?Element.ALLOW_KEYBOARD_INPUT:{})},exit:function(){t[o.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=i[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=i[e];r&&t.removeEventListener(r,n,!1)},raw:o};o?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(t[o.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[o.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(t[o.fullscreenEnabled])}}}),n?e.exports=a:window.screenfull=a):n?e.exports=!1:window.screenfull=!1}()},451:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(new window.Image).src=e}},452:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDimensionsForZoomLevel=function(e,t,n){switch(e){case r.default.FLUID:return null;case r.default.FIT_TO_WIDTH:return(0,o.getDimensionsConstrainedToContainerWidth)(t,n);case r.default.FIT_TO_CONTAINER:return(0,o.getDimensionsConstrainedToContainer)(t,n);case r.default.FIT_TO_NATIVE:return t;default:return null}},t.getAvailableZoomLevels=function(e,t){var n=[];if(!e||!t)return n;i(e,t)&&n.push(r.default.FIT_TO_CONTAINER);a(e,t)&&(s((0,o.getDimensionsConstrainedToContainerWidth)(e,t),(0,o.getDimensionsConstrainedToContainer)(e,t))||n.push(r.default.FIT_TO_WIDTH));return n.push(r.default.FIT_TO_NATIVE),n},t.canFitToContainer=i,t.canFitToWidth=a,t.isEqualDimensions=s;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(210)),o=n(87);function i(e,t){return!(e.width<t.width&&e.height<t.height)}function a(e,t){return e.width>t.width&&e.height>t.height}function s(e,t){return e.width===t.width&&e.height===t.height}},453:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedSidebarComponent=void 0;var r=a(n(1)),o=a(n(86)),i=a(n(104));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return(0,e.renderSidebar)(function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["renderSidebar"]))};s.contextTypes={getStore:r.default.func};t.ConnectedSidebarComponent=(0,o.default)(s,[i.default],function(e){return{isLoadingComments:e.getStore(i.default).isLoadingComments,isLoaded:e.getStore(i.default).isLoaded,comments:e.getStore(i.default).comments,selectedComment:e.getStore(i.default).selectedComment,selectedCommentStatus:e.getStore(i.default).selectedCommentStatus,selectedCommentEditingLocation:e.getStore(i.default).selectedCommentEditingLocation}})},454:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedDesignDetailsHeader=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=E(n(1)),i=E(n(0)),a=n(7),s=n(88),u=n(165),l=n(21),c=n(8),f=n(250),d=n(82),p=n(83),h=n(456),m=E(n(462)),y=E(n(463)),v=E(n(86)),g=E(n(164)),b=E(n(128)),_=E(n(104));function E(e){return e&&e.__esModule?e:{default:e}}var w=(0,a.injectIntl)(y.default),O=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={idle:!1},n.setIdleState=n.setIdleState.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"setIdleState",value:function(e){this.setState({idle:e})}},{key:"renderNavigation",value:function(){if(this.props.isInline)return i.default.createElement(w,{key:this.props.design.designId,currentPage:this.props.currentPage,onNext:this.props.goToNext,onPrevious:this.props.goToPrevious,totalPages:this.props.totalPages});var e=this.props.totalPages;return this.props.seeMoreDesignsUrl?i.default.createElement(f.LinkWithIcon,{href:this.props.seeMoreDesignsUrl,icon:i.default.createElement(c.Icon,{type:"grid-1"})},i.default.createElement(a.FormattedMessage,{id:e>1?"see_all_designs":"see_other_designs",values:{number:e}})):i.default.createElement("div",{className:"logo-99designs"},i.default.createElement("a",{href:"/",className:"logo-99designs__logo"},"99designs"))}},{key:"renderCloseButton",value:function(){return i.default.createElement(u.ButtonListItem,null,i.default.createElement(l.IconButton,{key:"closeBtn",title:this.context.intl.formatMessage({id:"close_ddo_tooltip"}),onClick:this.props.closeOverlayHandler},i.default.createElement(c.Icon,{type:"x-3"})))}},{key:"render",value:function(){var e=this.props.isLoadingComments;return i.default.createElement(s.FullscreenHeader.Header,{variations:this.props.isPresentationMode&&this.state.idle?["inactive","design-details"]:["design-details"]},i.default.createElement(s.FullscreenHeader.Item,{variations:["design-details"]},this.renderNavigation()),e&&i.default.createElement(p.Mobile,null,i.default.createElement(k,{state:"loading"})),this.context.scribblesEnabled&&this.props.design.permission.canViewSketches&&i.default.createElement(d.Desktop,null,i.default.createElement(k,{state:this.props.sketchState})),this.context.scribblesEnabled&&this.props.design.permission.canSketch&&!this.props.isPresentationMode&&i.default.createElement(d.Desktop,null,i.default.createElement(h.ConnectedFeedbackControls,{designId:this.props.design.designId,feedbackMode:this.props.feedbackMode,toggleFeedbackMode:this.props.toggleFeedbackMode})),this.props.design.permission.canView&&i.default.createElement(d.Desktop,null,i.default.createElement(m.default,{setIdleState:this.setIdleState,handleMinimize:this.props.handleMinimize,handleMaximize:this.props.handleMaximize,isPresentationMode:this.props.isPresentationMode,zoomIn:this.props.zoomIn,zoomOut:this.props.zoomOut})),this.props.isInline&&i.default.createElement(p.Mobile,null,i.default.createElement(s.FullscreenHeader.Item,{variations:["design-details"]},this.renderCloseButton())))}}]),t}();t.default=O,O.contextTypes={intl:o.default.object.isRequired,scribblesEnabled:o.default.bool.isRequired},O.propTypes={design:o.default.object,isInline:o.default.bool,isPresentationMode:o.default.bool,handleMaximize:o.default.func,handleMinimize:o.default.func,goToNext:o.default.func,goToPrevious:o.default.func,closeOverlayHandler:o.default.func,totalPages:o.default.number,currentPage:o.default.number,seeMoreDesignsUrl:o.default.string,zoomIn:o.default.func,zoomOut:o.default.func,feedbackMode:o.default.string.isRequired,toggleFeedbackMode:o.default.func.isRequired,sketchState:o.default.string},O.defaultProps={isInline:!0,isPresentationMode:!1,handleMinimize:function(){},handleMaximize:function(){},goToPrevious:function(){},goToNext:function(){},closeOverlayHandler:function(){},totalPages:1,currentPage:1,zoomIn:null,zoomOut:null,sketchState:""};var S=t.ConnectedDesignDetailsHeader=(0,v.default)(O,[g.default,b.default,_.default],function(e,t){var n=e.getStore(g.default),r=e.getStore(_.default).isLoadingComments;return{totalPages:n.totalDesignCount,currentPage:n.getCurrentPage(t.design.designId),sketchState:e.getStore(b.default).getDesignSketchState(t.design.designId),isLoadingComments:r}});O.propTypes={state:o.default.string},S.propTypes=O.propTypes,S.defaultProps=O.defaultProps;var k=function(e){var t=e.state,n=void 0;switch(t){case"loading":n=i.default.createElement(a.FormattedMessage,{id:"sketches_loading"});break;case"saving":n=i.default.createElement(a.FormattedMessage,{id:"sketches_saving"});break;case"saved":n=i.default.createElement(a.FormattedMessage,{id:"sketches_saved"});break;case"error":n=i.default.createElement(a.FormattedMessage,{id:"sketches_error"});break;default:n=null}var r=["status"];return"saved"===t&&r.push("saved"),i.default.createElement(s.FullscreenHeader.Item,{key:t,variations:r},n)};k.propTypes=O.propTypes},455:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonListItem=t.ButtonList=void 0;var r=n(4),o=t.ButtonList=(0,r.bemComponent)("button-list","ButtonList");t.ButtonListItem=(0,r.bemComponent)("button-list__item","ButtonListItem");t.default=o},456:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedFeedbackControls=void 0;var r=p(n(1)),o=p(n(0)),i=n(88),a=n(165),s=n(21),u=n(8),l=n(112),c=p(n(86)),f=p(n(128)),d=n(211);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e,t){return o.default.createElement(i.FullscreenHeader.Item,{variations:["design-details"]},o.default.createElement(a.ButtonList,{variations:["compact","flex"]},o.default.createElement(a.ButtonListItem,{variations:e.canUndo?void 0:["hidden"]},o.default.createElement(s.IconButton,{onClick:e.undoLastPath,variations:["lighter","transparent-circled","bounce-in"],title:t.intl.formatMessage({id:"undo_sketch"})},o.default.createElement(u.Icon,{type:"undo-1"})))),o.default.createElement(a.ButtonList,{variations:["compact","flex","darker"]},o.default.createElement(a.ButtonListItem,{variations:["flex"]},o.default.createElement(s.IconButton,{title:t.intl.formatMessage({id:"sketch_feedback_mode"}),onClick:function(){(0,l.trackEvent)("Clicked on scribbles tool"),e.toggleFeedbackMode("sketch")},variations:"sketch"===e.feedbackMode?["on-dark","filled-circled","bounce-in"]:["lighter","transparent-circled","bounce-in"]},o.default.createElement(u.Icon,{type:"sketch-1"}))),o.default.createElement(a.ButtonListItem,null,o.default.createElement(s.IconButton,{title:t.intl.formatMessage({id:"annotate_feedback_mode"}),onClick:function(){(0,l.trackEvent)("Clicked on annotation tool"),e.toggleFeedbackMode("annotate")},variations:"annotate"===e.feedbackMode?["on-dark","filled-circled"]:["lighter","transparent-circled"]},o.default.createElement(u.Icon,{type:"annotate-1"})))))};h.contextTypes={intl:r.default.object.isRequired},h.propTypes={feedbackMode:r.default.string.isRequired,toggleFeedbackMode:r.default.func.isRequired,canUndo:r.default.bool.isRequired,undoLastPath:r.default.func.isRequired};var m=t.ConnectedFeedbackControls=(0,c.default)(h,[f.default],function(e,t){return{canUndo:e.getStore(f.default).getPathsFromDesignSketch(t.designId).length>0,undoLastPath:function(){return e.executeAction(d.undoLastDesignPath,{designId:t.designId,csrfToken:e.csrfToken})}}});m.contextTypes={executeAction:r.default.func.isRequired,getStore:r.default.func.isRequired,csrfToken:r.default.string},m.propTypes={designId:r.default.number.isRequired,feedbackMode:r.default.string.isRequired,toggleFeedbackMode:r.default.func.isRequired}},457:function(e,t,n){var r;"undefined"!=typeof window?r=window:"undefined"!=typeof self?r=self:(console.warn("Using browser-only version of superagent in non-browser environment"),r=this);var o=n(38),i=n(458),a=n(265),s=n(459),u=n(461);function l(){}var c=t=e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1==arguments.length?new t.Request("GET",e):new t.Request(e,n)};t.Request=v,c.getXHR=function(){if(!(!r.XMLHttpRequest||r.location&&"file:"==r.location.protocol&&r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var f="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function d(e){if(!a(e))return e;var t=[];for(var n in e)p(t,n,e[n]);return t.join("&")}function p(e,t,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){p(e,t,n)});else if(a(n))for(var r in n)p(e,t+"["+r+"]",n[r]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));else null===n&&e.push(encodeURIComponent(t))}function h(e){for(var t,n,r={},o=e.split("&"),i=0,a=o.length;i<a;++i)-1==(n=(t=o[i]).indexOf("="))?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function m(e){return/[\/+]json($|[^-\w])/.test(e)}function y(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,n,r,o,i=e.split(/\r?\n/),a={},s=0,u=i.length;s<u;++s)-1!==(t=(n=i[s]).indexOf(":"))&&(r=n.slice(0,t).toLowerCase(),o=f(n.slice(t+1)),a[r]=o);return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function v(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e,t=null,r=null;try{r=new y(n)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",r);try{n._isResponseOK(r)||(e=new Error(r.statusText||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=r,e.status=r.status,n.callback(e,r)):n.callback(null,r)})}function g(e,t,n){var r=c("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}c.serializeObject=d,c.parseString=h,c.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},c.serialize={"application/x-www-form-urlencoded":d,"application/json":JSON.stringify},c.parse={"application/x-www-form-urlencoded":h,"application/json":JSON.parse},s(y.prototype),y.prototype._parseBody=function(e){var t=c.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&m(this.type)&&(t=c.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},y.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=t,o.url=n,o},c.Response=y,o(v.prototype),i(v.prototype),v.prototype.type=function(e){return this.set("Content-Type",c.types[e]||e),this},v.prototype.accept=function(e){return this.set("Accept",c.types[e]||e),this},v.prototype.auth=function(e,t,n){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(n=t,t=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});return this._auth(e,t,n,function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")})},v.prototype.query=function(e){return"string"!=typeof e&&(e=d(e)),e&&this._query.push(e),this},v.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},v.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},v.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},v.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},v.prototype.buffer=v.prototype.ca=v.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},v.prototype.pipe=v.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},v.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},v.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||l,this._finalizeQueryString(),this._end()},v.prototype._end=function(){var e=this,t=this.xhr=c.getXHR(),n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==n){var r;try{r=t.status}catch(e){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.onprogress=r.bind(null,"download"),t.upload&&(t.upload.onprogress=r.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var o=this._header["content-type"],i=this._serializer||c.serialize[o?o.split(";")[0]:""];!i&&m(o)&&(i=c.serialize["application/json"]),i&&(n=i(n))}for(var a in this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&t.setRequestHeader(a,this.header[a]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==n?n:null),this},c.agent=function(){return new u},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(e){u.prototype[e.toLowerCase()]=function(t,n){var r=new c.Request(e,t);return this._setDefaults(r),n&&r.end(n),r}}),u.prototype.del=u.prototype.delete,c.get=function(e,t,n){var r=c("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},c.head=function(e,t,n){var r=c("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},c.options=function(e,t,n){var r=c("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},c.del=g,c.delete=g,c.patch=function(e,t,n){var r=c("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},c.post=function(e,t,n){var r=c("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},c.put=function(e,t,n){var r=c("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},458:function(e,t,n){"use strict";var r=n(265);function o(e){if(e)return function(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}(e)}e.exports=o,o.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},o.prototype.parse=function(e){return this._parser=e,this},o.prototype.responseType=function(e){return this._responseType=e,this},o.prototype.serialize=function(e){return this._serializer=e,this},o.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},o.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var i=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];o.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~i.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},o.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},o.prototype.then=function(e,t){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(e,t){n.end(function(n,r){n?t(n):e(r)})})}return this._fullfilledPromise.then(e,t)},o.prototype.catch=function(e){return this.then(void 0,e)},o.prototype.use=function(e){return e(this),this},o.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},o.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},o.prototype.get=function(e){return this._header[e.toLowerCase()]},o.prototype.getHeader=o.prototype.get,o.prototype.set=function(e,t){if(r(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},o.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},o.prototype.field=function(e,t){if(null===e||void 0===e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),r(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var o in t)this.field(e,t[o]);return this}if(null===t||void 0===t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},o.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},o.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization","Basic "+r(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},o.prototype.withCredentials=function(e){return void 0==e&&(e=!0),this._withCredentials=e,this},o.prototype.redirects=function(e){return this._maxRedirects=e,this},o.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},o.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},o.prototype.send=function(e){var t=r(e),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&r(this._data))for(var o in e)this._data[o]=e[o];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(n||this.type("json"),this)},o.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},o.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.substring(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+"?"+n.join("&")}}},o.prototype._appendQueryString=function(){console.trace("Unsupported")},o.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error(e+t+"ms exceeded");r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},o.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},459:function(e,t,n){"use strict";var r=n(460);function o(e){if(e)return function(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}(e)}e.exports=o,o.prototype.get=function(e){return this.header[e.toLowerCase()]},o.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=r.type(t);var n=r.params(t);for(var o in n)this[o]=n[o];this.links={};try{e.link&&(this.links=r.parseLinks(e.link))}catch(e){}},o.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e}},46:function(e,t,n){"use strict";var r=n(47),o=n(25),i=n(14),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,l=String.prototype.split,c=Array.prototype.push,f=function(e,t){c.apply(e,u(t)?t:[t])},d=Date.prototype.toISOString,p=i.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:p,formatter:i.formatters[p],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},m={},y=function e(t,n,i,a,s,c,d,p,y,v,g,b,_,E,w,O){for(var S=t,k=O,C=0,P=!1;void 0!==(k=k.get(m))&&!P;){var T=k.get(t);if(C+=1,void 0!==T){if(T===C)throw new RangeError("Cyclic object value");P=!0}void 0===k.get(m)&&(C=0)}if("function"==typeof p?S=p(n,S):S instanceof Date?S=g(S):"comma"===i&&u(S)&&(S=o.maybeMap(S,function(e){return e instanceof Date?g(e):e})),null===S){if(s)return d&&!E?d(n,h.encoder,w,"key",b):n;S=""}if(function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e}(S)||o.isBuffer(S)){if(d){var j=E?n:d(n,h.encoder,w,"key",b);if("comma"===i&&E){for(var x=l.call(String(S),","),A="",M=0;M<x.length;++M)A+=(0===M?"":",")+_(d(x[M],h.encoder,w,"value",b));return[_(j)+(a&&u(S)&&1===x.length?"[]":"")+"="+A]}return[_(j)+"="+_(d(S,h.encoder,w,"value",b))]}return[_(n)+"="+_(String(S))]}var D,I=[];if(void 0===S)return I;if("comma"===i&&u(S))D=[{value:S.length>0?S.join(",")||null:void 0}];else if(u(p))D=p;else{var N=Object.keys(S);D=y?N.sort(y):N}for(var R=a&&u(S)&&1===S.length?n+"[]":n,L=0;L<D.length;++L){var U=D[L],F="object"==typeof U&&void 0!==U.value?U.value:S[U];if(!c||null!==F){var B=u(S)?"function"==typeof i?i(R,U):R:R+(v?"."+U:"["+U+"]");O.set(t,C);var z=r();z.set(m,O),f(I,e(F,B,i,a,s,c,d,p,y,v,g,b,_,E,w,z))}}return I};e.exports=function(e,t){var n,o=e,l=function(e){if(!e)return h;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||h.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==e.format){if(!a.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=i.formatters[n],o=h.filter;return("function"==typeof e.filter||u(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:void 0===e.allowDots?h.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,delimiter:void 0===e.delimiter?h.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:h.encode,encoder:"function"==typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}}(t);"function"==typeof l.filter?o=(0,l.filter)("",o):u(l.filter)&&(n=l.filter);var c,d=[];if("object"!=typeof o||null===o)return"";c=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var p=s[c];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var m="comma"===p&&t&&t.commaRoundTrip;n||(n=Object.keys(o)),l.sort&&n.sort(l.sort);for(var v=r(),g=0;g<n.length;++g){var b=n[g];l.skipNulls&&null===o[b]||f(d,y(o[b],b,p,m,l.strictNullHandling,l.skipNulls,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.format,l.formatter,l.encodeValuesOnly,l.charset,v))}var _=d.join(l.delimiter),E=!0===l.addQueryPrefix?"?":"";return l.charsetSentinel&&("iso-8859-1"===l.charset?E+="utf8=%26%2310003%3B&":E+="utf8=%E2%9C%93&"),_.length>0?E+_:""}},460:function(e,t,n){"use strict";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(e[r]=o),e},{})},t.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e},{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},461:function(e,t){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){n.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),n.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})},e.exports=n},462:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(1)),i=c(n(0)),a=n(88),s=n(165),u=n(21),l=n(8);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMaximize=n.handleMaximize.bind(n),n.resetTimer=n.resetTimer.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.isPresentationMode&&(window.addEventListener("mousemove",this.resetTimer,!0),window.addEventListener("keypress",this.resetTimer,!0),window.addEventListener("click",this.resetTimer,!0))}},{key:"componentDidUpdate",value:function(){this.props.isPresentationMode?(window.addEventListener("mousemove",this.resetTimer,!0),window.addEventListener("keypress",this.resetTimer,!0),window.addEventListener("click",this.resetTimer,!0)):(window.removeEventListener("mousemove",this.resetTimer),window.removeEventListener("keypress",this.resetTimer),window.removeEventListener("click",this.resetTimer))}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.idleTimer),window.removeEventListener("mousemove",this.resetTimer),window.removeEventListener("keypress",this.resetTimer),window.removeEventListener("click",this.resetTimer)}},{key:"resetTimer",value:function(){var e=this;this.props.setIdleState(!1),window.clearTimeout(this.idleTimer),this.idleTimer=window.setTimeout(function(){e.props.setIdleState(!0)},3e3)}},{key:"handleMaximize",value:function(){this.resetTimer(),this.props.handleMaximize()}},{key:"render",value:function(){return i.default.createElement(a.FullscreenHeader.Item,{variations:["design-details"]},i.default.createElement(s.ButtonList,{variations:["spacious"]},i.default.createElement(s.ButtonListItem,null,i.default.createElement(u.IconButton,{title:this.context.intl.formatMessage({id:"zoom_in_tooltip"}),onClick:this.props.zoomIn,variations:["darker","on-white"],isDisabled:null===this.props.zoomIn},i.default.createElement(l.Icon,{type:"zoom-in-1",variations:["large"]}))),i.default.createElement(s.ButtonListItem,null,i.default.createElement(u.IconButton,{onClick:this.props.zoomOut,title:this.context.intl.formatMessage({id:"zoom_out_tooltip"}),variations:["darker","on-white"],isDisabled:null===this.props.zoomOut},i.default.createElement(l.Icon,{type:"zoom-out-1",variations:["large"]}))),i.default.createElement(s.ButtonListItem,null,this.props.isPresentationMode?i.default.createElement(u.IconButton,{key:"minimizeBtn",title:this.context.intl.formatMessage({id:"exit_fullscreen_tooltip"}),variations:["darker","on-white"],onClick:this.props.handleMinimize},i.default.createElement(l.Icon,{type:"minimize-1",variations:["large"]})):i.default.createElement(u.IconButton,{key:"maximizeBtn",title:this.context.intl.formatMessage({id:"enter_fullscreen_tooltip"}),variations:["darker","on-white"],onClick:this.props.handleMaximize},i.default.createElement(l.Icon,{type:"maximize-1",variations:["large"]})))))}}]),t}();t.default=f,f.propTypes={isPresentationMode:o.default.bool,setIdleState:o.default.func,handleMinimize:o.default.func,handleMaximize:o.default.func,zoomIn:o.default.func,zoomOut:o.default.func},f.contextTypes={intl:o.default.object.isRequired}},463:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(1)),i=c(n(0)),a=c(n(464)),s=n(7),u=n(8),l=n(21);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=a.default.shouldComponentUpdate.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"pagination pagination--small pagination--design-details"},this.previousButton(),i.default.createElement("div",{className:"pagination__item"},i.default.createElement("span",null,this.props.currentPage," / ",this.props.totalPages)),this.nextButton())}},{key:"previousButton",value:function(){return i.default.createElement("div",{className:"pagination__item pagination--prev"},i.default.createElement(l.IconButton,{variations:["on-white"],onClick:this.props.onPrevious,title:this.props.intl.formatMessage({id:"pagination_previous_tooltip"}),isDisabled:1===this.props.currentPage},i.default.createElement(u.Icon,{type:"left-2",variations:["2x"]})))}},{key:"nextButton",value:function(){return i.default.createElement("div",{className:"pagination__item pagination__next"},i.default.createElement(l.IconButton,{variations:["on-white"],onClick:this.props.onNext,title:this.props.intl.formatMessage({id:"pagination_next_tooltip"}),isDisabled:this.props.currentPage===this.props.totalPages},i.default.createElement(u.Icon,{type:"right-2",variations:["2x"]})))}}]),t}();t.default=f,f.propTypes={totalPages:o.default.number,currentPage:o.default.number,onPrevious:o.default.func,onNext:o.default.func,intl:s.intlShape.isRequired}},464:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function i(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(t,n[a])||!o(e[n[a]],t[n[a]]))return!1;return!0}e.exports={shouldComponentUpdate:function(e,t){return!i(this.props,e)||!i(this.state,t)}}},465:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1));var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasAdminBarOffset:!1},n.showHandler=function(){return n.setState({hasAdminBarOffset:!0})},n.hideHandler=function(){return n.setState({hasAdminBarOffset:!1})},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=document.querySelector("[data-admin-bar]");e&&(e.setAttribute("data-sticky",!0),this.setState({hasAdminBarOffset:!e.getAttribute("data-hidden")})),window.addEventListener("brandContainer.ui.adminBarShown",this.showHandler),window.addEventListener("brandContainer.ui.adminBarHidden",this.hideHandler)}},{key:"componentWillUnmount",value:function(){var e=document.querySelector("[data-admin-bar]");e&&e.removeAttribute("data-sticky"),window.removeEventListener("brandContainer.ui.adminBarShown",this.showHandler),window.removeEventListener("brandContainer.ui.adminBarHidden",this.hideHandler)}},{key:"render",value:function(){return this.props.render(this.state.hasAdminBarOffset)}}]),t}();a.propTypes={render:i.default.func.isRequired},t.default=a},466:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(7),i=n(467),a=n(8);t.default=function(e){var t=e.design;return t.permission.canView&&t.width?null:t.isDeleted?r.default.createElement(l,null):t.permission.canView&&!t.width?r.default.createElement(s,null):!t.permission.canView&&t.width?r.default.createElement(u,null):null};var s=function(){return r.default.createElement(i.BlankSlate,{variations:["wide"],icon:r.default.createElement(a.Icon,{type:"document-1"}),message:""})},u=function(){return r.default.createElement(i.BlankSlate,{variations:["wide"],icon:r.default.createElement(a.Icon,{type:"document-1"}),message:r.default.createElement(o.FormattedHTMLMessage,{id:"design_hidden_message"})})},l=function(){return r.default.createElement(i.BlankSlate,{variations:["wide"],icon:r.default.createElement(a.Icon,{type:"trash-2"}),message:r.default.createElement(o.FormattedMessage,{id:"design_deleted_message"})})}},467:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(468);Object.defineProperty(t,"BlankSlate",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},468:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=n(4);var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=(0,i.getComponentClasses)("blank-slate",this.props.variations);return o.default.createElement("div",{className:e},o.default.createElement("div",{className:"blank-slate__icon"},this.props.icon),o.default.createElement("h2",{className:"blank-slate__heading"},this.props.message),this.props.description&&o.default.createElement("div",{className:"blank-slate__description"},this.props.description),this.props.action&&o.default.createElement("div",{className:"blank-slate__action"},this.props.action))}}]),t}();t.default=a},469:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),o=s(n(1)),i=n(115),a=n(7);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.design,n=t.isPreviewOnly,o=t.permission.canView,s=t.width;return n&&o&&s?r.default.createElement("div",{className:"design-details__alert"},r.default.createElement(i.Alert,{variations:["info","dismissible"],canBeDismissed:!0},r.default.createElement(a.FormattedMessage,{id:"file_is_preview_a"}),r.default.createElement("a",{href:t.downloadUrl,className:"link link--white"},r.default.createElement(a.FormattedMessage,{id:"file_is_preview_b"})),".")):null};u.propTypes={design:o.default.object.isRequired},t.default=u},47:function(e,t,n){"use strict";var r=n(12),o=n(53),i=n(55),a=r("%TypeError%"),s=r("%WeakMap%",!0),u=r("%Map%",!0),l=o("WeakMap.prototype.get",!0),c=o("WeakMap.prototype.set",!0),f=o("WeakMap.prototype.has",!0),d=o("Map.prototype.get",!0),p=o("Map.prototype.set",!0),h=o("Map.prototype.has",!0),m=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+i(e))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return l(e,r)}else if(u){if(t)return d(t,r)}else if(n)return function(e,t){var n=m(e,t);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return f(e,r)}else if(u){if(t)return h(t,r)}else if(n)return function(e,t){return!!m(e,t)}(n,r);return!1},set:function(r,o){s&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new s),c(e,r,o)):u?(t||(t=new u),p(t,r,o)):(n||(n={key:{},next:null}),function(e,t,n){var r=m(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,o))}};return r}},470:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=S(n(1)),a=n(0),s=S(a),u=S(n(471)),l=S(n(472)),c=S(n(473)),f=S(n(474)),d=n(475),p=n(477),h=S(n(478)),m=n(487),y=S(n(492)),v=n(7),g=n(82),b=n(83),_=S(n(32)),E=S(n(39)),w=S(n(210)),O=n(213);function S(e){return e&&e.__esModule?e:{default:e}}var k=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){var e=this,t=this.props.design,n=t.width,r=t.height,o=t.multipagePreviewWidth,i=t.multipagePreviewHeight,a={width:o||n,height:i||r};return s.default.createElement(_.default,{maxWidth:E.default.normal[0]},function(t){return s.default.createElement("div",{style:{minHeight:t?"100vw":void 0}},s.default.createElement(u.default,{onSize:e.props.onSize,render:function(n){var r=void 0;return r=t||e.props.zoomLevel==w.default.FLUID||e.props.zoomLevel==w.default.FIT_TO_WIDTH?n.width/a.width:e.props.zoomLevel==w.default.FIT_TO_CONTAINER?Math.min(n.width/a.width,n.height/a.height):1,r=Math.min(1,r),s.default.createElement(c.default,{key:"pos",imageSize:a,viewSize:n,scale:r,render:function(t){var o=t.artboardSize,i=t.artboardOrigin,u=t.scaledImageSize,c=t.imageToScreen,p=t.screenToImage;return s.default.createElement(l.default,{viewSize:n,scaledImageSize:u},s.default.createElement(d.ConnectedInputHandler,{canAnnotate:e.props.design.permission.canAnnotate,canSketch:e.props.design.permission.canSketch,designId:e.props.design.designId,feedbackMode:e.props.feedbackMode,isPresentationMode:e.props.isPresentationMode,toImageSpace:p},function(t){var n=t.currentPath,u=t.isEditing,l=t.isHovering;return s.default.createElement(s.default.Fragment,null,s.default.createElement(b.Mobile,null,s.default.createElement(h.default,{artboardOrigin:i,imageSize:a,scale:r,goToPrevious:e.props.goToPrevious,goToNext:e.props.goToNext,previewUrl:e.props.design.previewUrl,isPresentationMode:e.props.isPresentationMode,canViewSketches:e.props.design.permission.canViewSketches,designId:e.props.design.designId},function(t){var u=t.transitionStyle,l=t.swipeDirection;return s.default.createElement(s.default.Fragment,null,e.renderImage(i,a,r,u),"LEFT"!==l&&"RIGHT"!==l&&s.default.createElement(s.default.Fragment,null,e.renderSketchLayer(i,o,r,n),s.default.createElement(m.ConnectedAnnotationsCanvas,{design:e.props.design,isPresentationMode:e.props.isPresentationMode,feedbackMode:e.props.feedbackMode,toImageSpace:p,toScreenSpace:c,selectCommentAfterCreate:!1})))})),s.default.createElement(g.Desktop,null,s.default.createElement(f.default,{width:o.width,height:o.height},e.renderImage(i,a,r),e.renderSketchLayer(i,o,r,n),!e.props.isPresentationMode&&s.default.createElement(m.ConnectedAnnotationsCanvas,{design:e.props.design,isPresentationMode:e.props.isPresentationMode,feedbackMode:e.props.feedbackMode,toImageSpace:p,toScreenSpace:c,selectCommentAfterCreate:!0}))),l&&!u&&e.renderTooltip())}))}})}}))})}},{key:"renderImage",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this.props.design,a=i.previewUrl,u=i.multipagePreviewUrl;return this.props.isTransitioning?null:s.default.createElement("img",{alt:"",src:u||a,key:u||a,style:r({backgroundColor:O.colors.grey100,position:"absolute",left:e.x+"px",top:e.y+"px",width:t.width*n+"px",height:t.height*n+"px"},o)})}},{key:"renderSketchLayer",value:function(e,t,n,r){return this.props.isPresentationMode?null:this.props.design.permission.canViewSketches?s.default.createElement(p.SketchLayer,{key:"sketch",artboardOrigin:e,artboardSize:t,scale:n},s.default.createElement(p.ProvidePaths,{designId:this.props.design.designId,renderPath:function(e,t){return s.default.createElement(p.Path,{key:t,path:e,smooth:!0})}}),r&&s.default.createElement(p.Path,{key:"current",path:r})):null}},{key:"renderTooltip",value:function(){return this.props.isPresentationMode||!this.props.design.permission.canAnnotate?null:"sketch"==this.props.feedbackMode?s.default.createElement(y.default,{key:"t"},s.default.createElement(v.FormattedMessage,{id:"click_to_draw"})):"annotate"==this.props.feedbackMode?s.default.createElement(y.default,{key:"t"},s.default.createElement(v.FormattedMessage,{id:"click_to_comment"})):void 0}}]),t}();t.default=k,k.propTypes={zoomLevel:i.default.oneOf([w.default.FLUID,w.default.FIT_TO_WIDTH,w.default.FIT_TO_CONTAINER,w.default.FIT_TO_NATIVE]).isRequired,onSize:i.default.func.isRequired,design:i.default.object.isRequired,isPresentationMode:i.default.bool.isRequired,feedbackMode:i.default.string.isRequired,goToPrevious:i.default.func,goToNext:i.default.func,isTransitioning:i.default.bool}},471:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(1)),i=n(0),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.ref=n.ref.bind(n),n.state={size:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"ref",value:function(e){var t=this;e&&(window.onresize=function(){var n=e.getBoundingClientRect(),r={width:n.width,height:n.height};t.setState({size:r}),t.props.onSize(r)})()}},{key:"render",value:function(){return[a.default.createElement("iframe",{title:"sizer",style:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",margin:"0 0",border:"none",opacity:"0",visibility:"hidden",pointerEvents:"none"},ref:this.ref,key:"sizer"}),null!==this.state.size?this.props.render(this.state.size):null]}}]),t}();t.default=u,u.propTypes={onSize:o.default.func.isRequired,render:o.default.func.isRequired}},472:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.scaledImageSize,n=e.viewSize,r=e.children;return o.default.createElement("div",{style:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",margin:"0 0",border:"none",overflowX:t.width>n.width?"scroll":"hidden",overflowY:t.height>n.height?"scroll":"hidden"}},r)};t.default=a,a.propTypes={scaledImageSize:r.default.shape({height:r.default.number.isRequired,width:r.default.number.isRequired}).isRequired,viewSize:r.default.shape({height:r.default.number.isRequired,width:r.default.number.isRequired}).isRequired,children:r.default.node.isRequired}},473:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));var o=function(e){var t=e.imageSize,n=e.viewSize,r=e.scale,o=e.render,i={width:t.width*r,height:t.height*r},a={width:Math.max(i.width,n.width),height:Math.max(i.height,n.height)},s={x:(a.width-i.width)/2,y:(a.height-i.height)/2};return o({artboardSize:a,artboardOrigin:s,scaledImageSize:i,imageToScreen:function(e){var t=e.x,n=e.y;return{x:t*r+s.x,y:n*r+s.y}},screenToImage:function(e){var t=e.x,n=e.y;return{x:(t-s.x)/r,y:(n-s.y)/r}}})};t.default=o,o.propTypes={imageSize:r.default.shape({height:r.default.number.isRequired,width:r.default.number.isRequired}).isRequired,viewSize:r.default.shape({height:r.default.number.isRequired,width:r.default.number.isRequired}).isRequired,scale:r.default.number.isRequired,render:r.default.func}},474:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(1)),i=n(0),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){return a.default.createElement("div",{style:{position:"relative",width:this.props.width+"px",height:this.props.height+"px"}},this.props.children)}}]),t}();t.default=u,u.propTypes={width:o.default.number,height:o.default.number,children:o.default.node}},475:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedInputHandler=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=d(o),a=d(n(1)),s=d(n(476)),u=d(n(86)),l=d(n(104)),c=n(135),f=n(211);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mouseDown=n.mouseDown.bind(n),n.mouseMove=n.mouseMove.bind(n),n.mouseUp=n.mouseUp.bind(n),n.touchStart=n.touchStart.bind(n),n.touchMove=n.touchMove.bind(n),n.touchEnd=n.touchEnd.bind(n),n.onClick=n.onClick.bind(n),n.onMouseEnter=n.onMouseEnter.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseLeave=n.onMouseLeave.bind(n),n.onPointerDown=n.onPointerDown.bind(n),n.onPointerMove=n.onPointerMove.bind(n),n.onPointerUp=n.onPointerUp.bind(n),n.state={currentPath:null,isHovering:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){window.addEventListener("mousemove",this.mouseMove),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("touchmove",this.touchMove),window.addEventListener("touchend",this.touchEnd)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.mouseMove),window.removeEventListener("mouseup",this.mouseUp),window.removeEventListener("touchmove",this.touchMove),window.removeEventListener("touchend",this.touchEnd)}},{key:"onClick",value:function(e){if(this.props.canAnnotate&&"annotate"===this.props.feedbackMode&&!this.props.isPresentationMode){var t=this.pointerPosition(e);this.props.isAnnotating?this.context.executeAction(c.resetSelectedComment):this.context.executeAction(c.enterDesignComment,{position:t,activeUser:this.context.activeUser})}}},{key:"onMouseEnter",value:function(){this.setState({isHovering:!0})}},{key:"onMouseMove",value:function(){this.setState(function(e){return e.isHovering?null:{isHovering:!0}})}},{key:"onMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"onPointerDown",value:function(e){this.setState(function(){return{currentPath:[e]}})}},{key:"onPointerMove",value:function(e){this.setState(function(t){return null!==t.currentPath?{currentPath:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.currentPath),[e])}:null})}},{key:"onPointerUp",value:function(){if(this.state.currentPath){if(this.state.currentPath.length>=3){var e=(0,s.default)(this.state.currentPath,2,!0);this.props.addDesignPath(e)}this.setState({currentPath:null})}}},{key:"mouseDown",value:function(e){this.props.canSketch&&("sketch"!==this.props.feedbackMode||this.props.isPresentationMode||0==e.button&&(e.preventDefault(),this.onPointerDown(this.pointerPosition(e))))}},{key:"mouseUp",value:function(e){this.props.canSketch&&("sketch"!==this.props.feedbackMode||this.props.isPresentationMode||(e.preventDefault(),this.onPointerUp(this.pointerPosition(e))))}},{key:"mouseMove",value:function(e){this.props.canSketch&&("sketch"!==this.props.feedbackMode||this.props.isPresentationMode||(e.preventDefault(),this.onPointerMove(this.pointerPosition(e))))}},{key:"touchStart",value:function(e){if(this.props.canSketch&&"sketch"===this.props.feedbackMode&&!this.props.isPresentationMode){e.preventDefault();var t=e.touches.item(0);this.onPointerDown(this.pointerPosition(t))}}},{key:"touchEnd",value:function(e){if(this.props.canSketch&&"sketch"===this.props.feedbackMode&&!this.props.isPresentationMode&&null!==this.state.currentPath){var t=e.changedTouches.item(0);this.onPointerUp(this.pointerPosition(t))}}},{key:"touchMove",value:function(e){if(this.props.canSketch&&"sketch"===this.props.feedbackMode&&!this.props.isPresentationMode&&null!==this.state.currentPath){var t=e.touches.item(0);this.onPointerMove(this.pointerPosition(t))}}},{key:"elementPosition",value:function(){for(var e=this.el,t=e.offsetLeft-e.scrollLeft,n=e.offsetTop-e.scrollTop;e;)t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{left:t,top:n}}},{key:"pointerPosition",value:function(e){var t=this.elementPosition();return this.props.toImageSpace({x:e.clientX-t.left,y:e.clientY-t.top})}},{key:"cursor",value:function(){return this.props.isPresentationMode?"default":"annotate"===this.props.feedbackMode&&this.props.canAnnotate?"crosshair":"sketch"===this.props.feedbackMode&&this.props.canSketch?this.pencilCursor():"default"}},{key:"pencilCursor",value:function(){return"-webkit-image-set(url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAMFBMVEVHcEwAAAAKCgqcnJzZ2dn19fX////u7u4AAADm5uaUlJRVVVV2dnbv7+8pKSm7u7u4OrkAAAAAEHRSTlMABg8/cP7/rRyW////3jJXidydOwAAAJNJREFUeNrt0bsOxCAMRNEFg3k5y///bTwFipQRSbXdTnsuSIjPf7sF7IGjJIkx7D1l1VJXwd60D8ttFeTiPoaprIDOqw2fJgTsSbtlL/q6gd2vP6xrqjGwFziOa/siIM9wBLJxA+ONL15e/IAHej/5Lch97wimklNAToF7WU6BKLZ1/PKcU+rlXMTqfDkXwRX8g52QCAfFqDsYpAAAAABJRU5ErkJggg==) 1x, url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAYFBMVEVHcEwAAAAAAAD4+PgAAAAAAAAKCgoAAAAAAAAAAAAAAAAAAAAAAADg4ODq6ur09PS+vr4/Pz+3t7fZ2dmRkZHa2tr6+vr///9gYGBVVVWWlpaGhobExMTg4OBzc3OqqqqL1npXAAAAF3RSTlMAEx35DBAYAQMHIy8okq/YcUBOcUaD4ygdGvAAAAHgSURBVHhe7ZbrjqMwDEYnCcQ0hZbexvT+/m+5tpNOtFKBmJVWGqlHqvrrfNiOEfn6RXz48AEAGgKIZXojpIxlT19FKEKdkPSKoX91AiS9ZihCEnQ+62bfbU5Hb2plArfPT/dbZDrLEZyg882efUe/TfCmkgSdT+5tOF/viB0lcBdQ7K8q0yPi80wMlNBbH5so971DdzkLD4ffwcYSyv0DIvvCBfEQfM0Bxf1/I+L1/IKnkHoo9JFxD20ANHn+T5r+ffhp4VQSENuvxb/w7CRBfLcrCACI65t8Sbgl/9gGL6cA035+vnDlTRJ/HayZLgBe9R/wr/MT9uTLKTYw5/vsCzfSXb9uZxcx+7x/mSdiv2PfxBd63s+Hn16D7frffKT6w8uHmfm/8zfRrwp8P+Zb8ucOgP3NmD/RvxB9M+7HA5wZ4Ft/u5MFkhWeKYDndx/G/Ol3CMivjg7dG78t8pvYwFVfvyBH6BFv+vpzB/UB8bHUlw46xAlfF5Dnl31FgNrPAeP9FwYMol/i/pb7eQ8TGl8ASG9iwnXkl/afF8n4vhP267YNuhtN+hh6G0JLhGA1fk6ojffWWu+jvirW8xehNsTPla4B/Y0ysuRaCjEi0ah9SciIrgbyxT7rWqL8H/kD+qxPB7g2J9wAAAAASUVORK5CYII=) 2x) 7 27, pointer"}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{"data-input-handler":!0,onClick:this.onClick,onTouchStart:this.touchStart,onMouseDown:this.mouseDown,onMouseMove:this.onMouseMove,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,ref:function(t){return e.el=t},style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",cursor:this.cursor()}},this.props.children({isEditing:this.state.currentPath||this.props.isAnnotating,currentPath:this.state.currentPath,isHovering:this.state.isHovering}))}}]),t}();p.contextTypes={executeAction:a.default.func,activeUser:a.default.object},p.propTypes={canAnnotate:a.default.bool.isRequired,canSketch:a.default.bool.isRequired,isAnnotating:a.default.bool.isRequired,feedbackMode:a.default.string.isRequired,addDesignPath:a.default.func.isRequired,toImageSpace:a.default.func.isRequired,isPresentationMode:a.default.bool.isRequired,children:a.default.func};var h=t.ConnectedInputHandler=(0,u.default)(p,[l.default],function(e,t){return{isAnnotating:Boolean(e.getStore(l.default).selectedComment),addDesignPath:function(n){return e.executeAction(f.addDesignPath,{designId:t.designId,path:n,csrfToken:e.csrfToken})}}});h.contextTypes={getStore:a.default.func,executeAction:a.default.func,csrfToken:a.default.string},h.propTypes={feedbackMode:a.default.string.isRequired,toImageSpace:a.default.func.isRequired,designId:a.default.number.isRequired}},476:function(e,t,n){var r;!function(){"use strict";function o(e,t){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function i(e,t,n){var r=t.x,o=t.y,i=n.x-r,a=n.y-o;if(0!==i||0!==a){var s=((e.x-r)*i+(e.y-o)*a)/(i*i+a*a);s>1?(r=n.x,o=n.y):s>0&&(r+=i*s,o+=a*s)}return(i=e.x-r)*i+(a=e.y-o)*a}function a(e,t){var n=e.length-1,r=[e[0]];return function e(t,n,r,o,a){for(var s,u=o,l=n+1;l<r;l++){var c=i(t[l],t[n],t[r]);c>u&&(s=l,u=c)}u>o&&(s-n>1&&e(t,n,s,o,a),a.push(t[s]),r-s>1&&e(t,s,r,o,a))}(e,0,n,t,r),r.push(e[n]),r}function s(e,t,n){if(e.length<=2)return e;var r=void 0!==t?t*t:1;return e=a(e=n?e:function(e,t){for(var n,r=e[0],i=[r],a=1,s=e.length;a<s;a++)o(n=e[a],r)>t&&(i.push(n),r=n);return r!==n&&i.push(n),i}(e,r),r)}void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},477:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProvidePaths=t.Path=t.SketchLayer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(1)),i=n(0),a=l(i),s=l(n(86)),u=l(n(128));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t.SketchLayer=function(e){function t(){return c(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,i.Component),r(t,[{key:"render",value:function(){var e=this,t=-this.props.artboardOrigin.x/this.props.scale+" "+-this.props.artboardOrigin.y/this.props.scale+" "+this.props.artboardSize.width/this.props.scale+" "+this.props.artboardSize.height/this.props.scale;return a.default.createElement("svg",{ref:function(t){return e.el=t},role:"img",width:"100%",height:"100%",viewBox:t,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",filter:"drop-shadow(1px 1px 0.5px rgba(0,0,0,0.2)) drop-shadow(2px 2px 3px rgba(0,0,0,0.25)) ",pointerEvents:"none"}},this.props.children)}}]),t}()).propTypes={artboardOrigin:o.default.object.isRequired,artboardSize:o.default.object.isRequired,scale:o.default.number.isRequired,children:o.default.node.isRequired},(t.Path=function(e){function t(){return c(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,i.PureComponent),r(t,[{key:"render",value:function(){if(0===this.props.path.length)return null;var e=void 0;return e=this.props.smooth?p(this.props.path):"M "+this.props.path[0].x+" "+this.props.path[0].y+this.props.path.slice(1).map(function(e){return" L "+e.x+" "+e.y}).join(" "),a.default.createElement("path",{key:"line",strokeLinecap:"round",strokeLinejoin:"round",vectorEffect:"non-scaling-stroke",strokeWidth:"5px",d:e,stroke:"#fe5f50",fill:"transparent"})}}]),t}()).propTypes={path:o.default.arrayOf(o.default.arrayOf({x:o.default.number.isRequired,y:o.default.number.isRequired}).isRequired).isRequired,smooth:o.default.boolean},(t.ProvidePaths=(0,s.default)(function(e){var t=e.paths,n=e.renderPath;return t.map(n)},[u.default],function(e,t){return{paths:e.getStore(u.default).getPathsFromDesignSketch(t.designId)}})).propTypes={designId:o.default.number.isRequired,renderPath:o.default.func.isRequired};var p=function(e){for(var t=void 0,n=void 0,r=void 0,o=void 0,i=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,m=void 0,y=void 0,v=void 0,g=void 0,b=void 0,_="M "+Math.round(e[0].x)+","+Math.round(e[0].y)+" ",E=e.length,w=0;w<E-1;w++)t=0==w?e[0]:e[w-1],n=e[w],r=e[w+1],o=w+2<E?e[w+2]:r,s=Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)),u=Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2)),l=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)),h=Math.pow(l,.5),y=Math.pow(l,1),m=Math.pow(u,.5),v=Math.pow(u,1),b=Math.pow(s,.5),c=2*(g=Math.pow(s,1))+3*b*m+v,f=2*y+3*h*m+v,(d=3*b*(b+m))>0&&(d=1/d),(p=3*h*(h+m))>0&&(p=1/p),i={x:(-v*t.x+c*n.x+g*r.x)*d,y:(-v*t.y+c*n.y+g*r.y)*d},a={x:(y*n.x+f*r.x-v*o.x)*p,y:(y*n.y+f*r.y-v*o.y)*p},0==i.x&&0==i.y&&(i=n),0==a.x&&0==a.y&&(a=r),_+="C"+i.x+","+i.y+" "+a.x+","+a.y+" "+r.x+","+r.y+" ";return _}},478:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(1)),a=n(0),s=p(a),u=n(479),l=p(n(32)),c=n(84),f=n(112),d=n(213);function p(e){return e&&e.__esModule?e:{default:e}}var h={exited:{display:"none"},exiting:{transition:"transform 200ms linear"}},m={left:-window.innerWidth-d.spaces.halfGutter,right:window.innerWidth+d.spaces.halfGutter},y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.redirect=n.redirect.bind(n),n.handleSwiping=n.handleSwiping.bind(n),n.handleOnSwipedLeft=n.handleOnSwipedLeft.bind(n),n.handleOnSwipedRight=n.handleOnSwipedRight.bind(n),n.handleOnSwiped=n.handleOnSwiped.bind(n),n.resetPosition=n.resetPosition.bind(n),n.handleOnExited=n.handleOnExited.bind(n),n.state={swipeData:{deltaX:0},applyTransition:!1,swipeDirection:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"handleSwiping",value:function(e){var t=e.deltaX,n=e.dir;this.setState({swipeData:{deltaX:t},swipeDirection:n.toUpperCase()})}},{key:"hasSwipedOver50Percent",value:function(e){var t=window.innerWidth/2,n=e+t<0||e>t;return n}},{key:"resetPosition",value:function(){this.setState({swipeData:{deltaX:0},swipeDirection:""})}},{key:"handleOnSwipedLeft",value:function(e){var t=e.deltaX;e.velocity>.4||this.hasSwipedOver50Percent(t)?this.setState({swipeData:{deltaX:m.right}}):this.resetPosition()}},{key:"handleOnSwipedRight",value:function(e){var t=e.deltaX;e.velocity>.4||this.hasSwipedOver50Percent(t)?this.setState({swipeData:{deltaX:m.left}}):this.resetPosition()}},{key:"handleOnSwiped",value:function(){"LEFT"!==this.state.swipeDirection&&"RIGHT"!==this.state.swipeDirection||this.setState({applyTransition:!0})}},{key:"handleOnExited",value:function(){this.state.swipeDirection&&this.redirect(this.state.swipeDirection),this.setState({applyTransition:!1,swipeData:{deltaX:0},swipeDirection:""})}},{key:"redirect",value:function(e){"LEFT"===e?((0,f.trackEvent)("Swiped To Navigate in DDO"),this.props.goToNext()):"RIGHT"===e&&((0,f.trackEvent)("Swiped To Navigate in DDO"),this.props.goToPrevious())}},{key:"render",value:function(){var e=this,t=this.props,n=t.artboardOrigin,o=t.imageSize,i=t.scale,a=t.children,f=this.state,d=f.swipeDirection,p=f.swipeData.deltaX;return s.default.createElement(c.Transition,{in:!this.state.applyTransition,timeout:200,onExited:this.handleOnExited},function(t){return s.default.createElement(u.Swipeable,{onSwipedLeft:e.handleOnSwipedLeft,onSwipedRight:e.handleOnSwipedRight,onSwiped:e.handleOnSwiped,onSwiping:e.handleSwiping,preventDefaultTouchmoveEvent:!0,delta:40},s.default.createElement(l.default,{query:"(orientation: portrait)"},e.renderPlaceholder(t,n,o,i,m.left,p)),a({transitionStyle:r({},e.getSwipeTransform(p),h[t]),swipeDirection:d}),s.default.createElement(l.default,{query:"(orientation: portrait)"},e.renderPlaceholder(t,n,o,i,m.right,p)))})}},{key:"getSwipeTransform",value:function(e){var t=void 0;return(e>40||e<-40)&&(t={transform:"translateX("+(0-e)+"px)"}),t}},{key:"renderPlaceholder",value:function(e,t,n,o,i,a){return s.default.createElement("div",{style:r({position:"absolute",left:i+"px",top:t.y+"px",width:"100%",height:n.height*o+"px",background:d.colors.grey100},this.getSwipeTransform(a),h[e])})}}]),t}();t.default=y,y.propTypes={goToPrevious:i.default.func,goToNext:i.default.func,previewUrl:i.default.string,artboardOrigin:i.default.object,imageSize:i.default.object,scale:i.default.number,isPresentationMode:i.default.bool,canViewSketches:i.default.bool,designId:i.default.number,children:i.default.func}},479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"DOWN",function(){return p}),n.d(t,"LEFT",function(){return c}),n.d(t,"RIGHT",function(){return f}),n.d(t,"Swipeable",function(){return O}),n.d(t,"UP",function(){return d}),n.d(t,"useSwipeable",function(){return w});var r=n(0),o=n.n(r),i=n(1),a=n.n(i);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u={preventDefaultTouchmoveEvent:!1,delta:10,rotationAngle:0,trackMouse:!1,trackTouch:!0},l={xy:[0,0],swiping:!1,eventData:void 0,start:void 0},c="Left",f="Right",d="Up",p="Down",h="touchstart",m="touchmove",y="touchend",v="mousemove",g="mouseup";function b(e,t){if(0===t)return e;var n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}function _(e,t){var n=function(t){t.touches&&t.touches.length>1||e(function(e,n){n.trackMouse&&(document.addEventListener(v,r),document.addEventListener(g,a));var o=t.touches?t.touches[0]:t,i=b([o.clientX,o.clientY],n.rotationAngle);return s({},e,l,{eventData:{initial:[].concat(i),first:!0},xy:i,start:t.timeStamp||0})})},r=function(t){e(function(e,n){if(!e.xy[0]||!e.xy[1]||t.touches&&t.touches.length>1)return e;var r=t.touches?t.touches[0]:t,o=b([r.clientX,r.clientY],n.rotationAngle),i=o[0],a=o[1],u=e.xy[0]-i,l=e.xy[1]-a,h=Math.abs(u),m=Math.abs(l),y=(t.timeStamp||0)-e.start,v=Math.sqrt(h*h+m*m)/(y||1);if(h<n.delta&&m<n.delta&&!e.swiping)return e;var g=function(e,t,n,r){return e>t?n>0?c:f:r>0?d:p}(h,m,u,l),_=s({},e.eventData,{event:t,absX:h,absY:m,deltaX:u,deltaY:l,velocity:v,dir:g});n.onSwiping&&n.onSwiping(_);var E=!1;return(n.onSwiping||n.onSwiped||n["onSwiped"+g])&&(E=!0),E&&n.preventDefaultTouchmoveEvent&&n.trackTouch&&t.cancelable&&t.preventDefault(),s({},e,{eventData:s({},_,{first:!1}),swiping:!0})})},o=function(t){e(function(e,n){var r;return e.swiping&&(r=s({},e.eventData,{event:t}),n.onSwiped&&n.onSwiped(r),n["onSwiped"+r.dir]&&n["onSwiped"+r.dir](r)),s({},e,l,{eventData:r})})},i=function(){document.removeEventListener(v,r),document.removeEventListener(g,a)},a=function(e){i(),o(e)},u=function(e){if(e&&e.addEventListener){var t=[[h,n],[m,r],[y,o]];return t.forEach(function(t){var n=t[0],r=t[1];return e.addEventListener(n,r)}),function(){return t.forEach(function(t){var n=t[0],r=t[1];return e.removeEventListener(n,r)})}}},_={ref:function(t){null!==t&&e(function(e,n){if(e.el===t)return e;var r={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),r.cleanUpTouch=null),n.trackTouch&&t&&(r.cleanUpTouch=u(t)),s({},e,{el:t},r)})}};return t.trackMouse&&(_.onMouseDown=n),[_,u]}function E(e,t,n){var r={};return!t.trackTouch&&e.cleanUpTouch?(e.cleanUpTouch(),r.cleanUpTouch=null):t.trackTouch&&!e.cleanUpTouch&&e.el&&(r.cleanUpTouch=n(e.el)),s({},e,r)}function w(e){var t=e.trackMouse,n=o.a.useRef(s({},l,{type:"hook"})),r=o.a.useRef();r.current=s({},u,e);var i=o.a.useMemo(function(){return _(function(e){return n.current=e(n.current,r.current)},{trackMouse:t})},[t]),a=i[0],c=i[1];return n.current=E(n.current,r.current,c),a}var O=function(e){function t(t){var n;return(n=e.call(this,t)||this)._set=function(e){n.transientState=e(n.transientState,n.props)},n.transientState=s({},l,{type:"class"}),n}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,r=e.nodeName,i=void 0===r?"div":r,a=e.innerRef,u=e.children,l=e.trackMouse,c=_(this._set,{trackMouse:l}),f=c[0],d=c[1];this.transientState=E(this.transientState,this.props,d);var p=a?function(e){return a(e),f.ref(e)}:f.ref;return o.a.createElement(i,s({},f,{className:t,style:n,ref:p}),u)},t}(o.a.PureComponent);O.propTypes={onSwiped:a.a.func,onSwiping:a.a.func,onSwipedUp:a.a.func,onSwipedRight:a.a.func,onSwipedDown:a.a.func,onSwipedLeft:a.a.func,delta:a.a.number,preventDefaultTouchmoveEvent:a.a.bool,nodeName:a.a.string,trackMouse:a.a.bool,trackTouch:a.a.bool,innerRef:a.a.func,rotationAngle:a.a.number},O.defaultProps=u},48:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(49);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},480:function(e,t,n){"use strict";var r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=t.size=void 0;!function(e){e.ExtraLarge="extra-large",e.Large="large",e.Medium="medium",e.Small="small",e.ExtraSmall="extra-small"}(i||(t.size=i={}));var a=t.sizes=(o(r={},i.ExtraLarge,128),o(r,i.Large,96),o(r,i.Medium,64),o(r,i.Small,48),o(r,i.ExtraSmall,32),r);t.default={size:i,sizes:a}},481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(268));t.default={blockquote:"5px solid "+r.default.pacific,abbr:"1px dotted "+r.default.grey500,content:"2px solid "+r.default.grey300,borderRadiuses:{base:3,small:3,medium:5,large:8}}},482:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={low:"0 3px 9px 0 rgba(0, 0, 0, 0.1)",medium:"0 7px 21px 0 rgba(0, 0, 0, 0.1)",high:"0 14px 42px 0 rgba(0, 0, 0, 0.2)",button:"0 6px 20px 0 rgba(0,0,0,0.2)"}},483:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={base:44,small:28,medium:44,large:56}},484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.semanticIcons={error:"x-1",warning:"info-1",caution:"info-1",success:"tick-1"};t.default=r},485:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.space2=2,o=t.space3=3,i=t.space4=5,a=t.space5=7,s=t.space6=10,u=t.space7=15,l=t.space8=20,c=t.space9=22,f=t.space10=30,d=t.space11=35,p=t.space12=45,h=t.space13=50,m=t.space14=60,y=t.space15=90,v=t.space16=120,g=t.quarterGutter=a,b=t.halfGutter=u,_=t.gutter=f,E=t.doubleGutter=m,w=t.sesquiGutter=p,O=t.oneAndHalfGutter=p,S=t.tripleGutter=y,k={top:0,bottom:"1.6rem"},C={top:0,bottom:"0.8rem"},P={space2:r,space3:o,space4:i,space5:a,space6:s,space7:u,space8:l,space9:c,space10:f,space11:d,space12:p,space13:h,space14:m,space15:y,space16:v,quarterGutter:g,halfGutter:b,gutter:_,doubleGutter:E,sesquiGutter:w,oneAndHalfGutter:O,tripleGutter:S,inlineIcon:t.inlineIcon=i,typography:t.typography={h0:k,h1:k,h2:k,h3:k,h4:k,h5:C,h6:C,h7:C,paragraph:"0 0 1.6rem",blockquote:{margin:"0 0 1.6rem",padding:"0 0 0 1rem"},hr:"0 0 1.6rem",ul:"0 0 1.6rem",ol:"0 0 1.6rem"},layout:t.layout={sectionTop:E,sectionBottom:S,smallSectionTop:O,smallSectionBottom:E,twoColumnLayout:{bottomSpacing:{all:E,small:O,medium:O},bottomDistance:{all:O,small:_,medium:_}},contentHeader:{topSpacing:{base:{all:O,small:_,medium:_},compact:{all:c,small:u,medium:u}},bottomSpacing:{all:O,small:_,medium:_},backDistance:_,menuDistance:_},contentBody:{topSpacing:{base:{all:_,small:b,medium:b},spacious:{all:E,small:O,medium:O}},bottomSpacing:{all:S,small:E,medium:E}}}};t.default=P},486:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.fontFamilies={root:"Graphik, sans-serif",heading:'"Graphik Medium", sans-serif',code:"Monaco, Menlo, Consolas, Courier New, monospace",attribution:"Georgia, serif",cite:"Georgia, serif",links:{root:"Graphik, sans-serif",subtle:"Graphik, sans-serif",jumbo:'"Graphik Medium", sans-serif'}},o=t.typeScale={size1:12,size2:14,size3:16,size4:19,size5:24,size6:32,size7:40,size8:48,size9:60},i=o.size3,a="-0.045em",s="-0.035em",u="-0.025em",l="-0.015em",c="-0.005em",f=0,d=0,p=0,h={fontFamilies:r,typeScale:o,fontSizes:t.fontSizes={root:i,h0:{all:o.size9,medium:o.size8,mall:o.size8},h1:{all:o.size8,medium:o.size7,small:o.size7},h2:{all:o.size7,medium:o.size6,small:o.size6},h3:{all:o.size6,medium:o.size5,small:o.size5},h4:{all:o.size5,medium:o.size4,small:o.size4},h5:{all:o.size4,medium:o.size3,small:o.size3},h6:{all:o.size3,medium:o.size2,small:o.size2},h7:{all:o.size2,medium:o.size1,small:o.size1},primaryCrosslead:{all:o.size6,small:o.size3},primarySidelead:{all:o.size6,small:o.size3},small:"70%",blockquote:{base:"inherit",cite:"85%"},links:{root:o.size3,subtle:o.size2,jumbo:o.size4},code:i,paragraphs:{jumbo:o.size5,large:o.size4,regular:i,small:o.size2}},fontWeights:t.fontWeights={normal:400,medium:400,bold:700,root:400,text:400,heading:400},letterSpacing:t.letterSpacing={h0:a,h1:s,h2:u,h3:l,h4:c,h5:f,h6:d,h7:p,typeScale:{size9:a,size8:s,size7:u,size6:l,size5:c,size4:f,size3:d,size2:p,size1:p}},lineHeights:t.lineHeights={small:1.2,medium:1.3,root:1.6,h0:1.05,h1:1.05,h2:1.1,h3:1.15,h4:1.25,h5:1.3,h6:1.3,h7:1.3,text:1.6,heading:1.6,typeScale:{size9:1.05,size8:1.05,size7:1.1,size6:1.15,size5:1.25,size4:1.3,size3:1.3,size2:1.3,size1:1.3},paragraphs:{jumbo:1.4,large:1.4,regular:1.6,small:1.6}},maxWidths:t.maxWidths={h0:"12em",h1:"12em",h2:"12em",h3:"12em",h4:"12em",h5:"12em",h6:"23em",h7:"23em",paragraph:"40em"},fontStyles:t.fontStyles={em:"italic"},textRendering:t.textRendering={root:null,heading:"optimizelegibility"},textDecoration:t.textDecoration={anchor:{base:"none",hover:"underline",active:"none"}}};t.default=h},487:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedAnnotationsCanvas=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(1)),i=f(n(0)),a=f(n(488)),s=f(n(273)),u=n(135),l=f(n(86)),c=f(n(104));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"renderAnnotation",value:function(e,t){var n=this.props.selectedComment&&this.props.selectedComment.id===e.id,r=this.props.selectedCommentStatus;return"editing"===r&&"canvas"!==this.props.selectedCommentEditingLocation&&(r=null),i.default.createElement(a.default,{isDeleting:"deleting"===r,isSelected:n,key:e.id,onClick:this.props.onSelectDesignComment.bind(this,e),position:this.props.toScreenSpace(e.annotation)},i.default.createElement(s.default,{design:this.props.design,hasExtraPadding:!1,comment:e,status:r,isSelected:n,commentLocation:"canvas",canHighlight:!1,canShowAnnotationMarker:!1,isHeaderVisible:!1,selectCommentAfterCreate:t}))}},{key:"render",value:function(){var e=this;return this.props.annotations.map(function(t){return e.renderAnnotation(t,e.props.selectCommentAfterCreate)})}}]),t}();t.default=d,d.propTypes={design:o.default.object.isRequired,selectedCommentEditingLocation:o.default.string,annotations:o.default.array,selectedComment:o.default.object,selectedCommentStatus:o.default.oneOf(["creating","editing","saving","deleting","error"]),toScreenSpace:o.default.func.isRequired,onSelectDesignComment:o.default.func.isRequired,selectCommentAfterCreate:o.default.bool},(t.ConnectedAnnotationsCanvas=(0,l.default)(d,[c.default],function(e,t){return{selectedCommentEditingLocation:e.getStore(c.default).selectedCommentEditingLocation,annotations:e.getStore(c.default).comments.filter(function(e){return Boolean(e.annotation)}),selectedComment:e.getStore(c.default).selectedComment,selectedCommentStatus:e.getStore(c.default).selectedCommentStatus,onSelectDesignComment:function(t){e.executeAction(u.selectDesignComment,{comment:t})},selectCommentAfterCreate:t.selectCommentAfterCreate}})).contextTypes={getStore:o.default.func,executeAction:o.default.func}},488:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(1)),i=u(n(0)),a=u(n(11)),s=n(269);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=function(e){e.stopPropagation(),n.props.onClick()},n.onMouseDown=function(e){e.stopPropagation()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"card",value:function(){return i.default.createElement("div",{className:"annotation__content"},this.props.children)}},{key:"button",value:function(){return i.default.createElement("button",{className:(0,a.default)({annotation__marker:!0,"annotation__marker--deleting":this.props.isDeleting&&this.props.isSelected}),style:{left:this.props.position.x,top:this.props.position.y}})}},{key:"render",value:function(){return i.default.createElement("div",{className:"annotation",onClick:this.onClick,onMouseDown:this.onMouseDown,"data-focus":this.props.isSelected||void 0},i.default.createElement(s.PopoverCard,{variations:[this.props.isSelected?"":"hidden"],layerSelector:"#design-details-annotations-anchor",card:this.card()},this.button()))}}]),t}();t.default=l,l.propTypes={children:o.default.node,isDeleting:o.default.bool,isSaving:o.default.bool,isSelected:o.default.bool,onClick:o.default.func,position:o.default.shape({x:o.default.number.isRequired,y:o.default.number.isRequired}).isRequired}},489:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(1)),i=s(n(0)),a=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.default.Component),r(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.isEnabled&&this.props.scrollingTrigger&&e.scrollingTrigger&&this.isOutOfView(this.props.scrollingContainer,a.default.findDOMNode(this))&&this.scroll()}},{key:"componentDidMount",value:function(){this.props.canScrollOnMount&&this.isOutOfView(this.props.scrollingContainer,a.default.findDOMNode(this))&&this.scroll()}},{key:"isOutOfView",value:function(t,n){var r=e(n),o=e(t),i=r.offset()?r.offset().top:0,a=o.offset()?o.offset().top:0,s=o.height(),u=o.scrollTop(),l=e(window).scrollTop(),c=e(window).height();return i>a+s+u||i<a||(i<l||i>l+c)}},{key:"scroll",value:function(){a.default.findDOMNode(this).scrollIntoView(!0)}},{key:"render",value:function(){return this.props.children}}]),n}();t.default=u,u.propTypes={isEnabled:o.default.bool,scrollingTrigger:o.default.any,scrollingContainer:o.default.object,canScrollOnMount:o.default.bool,children:o.default.node},u.defaultProps={isEnabled:!0,canScrollOnMount:!1,scrollingContainer:void("undefined"==typeof window||window)}}).call(t,n(5))},49:function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},490:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(491);Object.defineProperty(t,"CommentField",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},491:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(1)),a=d(n(0)),s=d(n(5)),u=d(n(11)),l=n(276),c=n(20),f=n(37);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasFocus:!1,textValue:"",initialHeight:n.getButtonHeight()},n.handleFocus=n.handleFocus.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleChange=n.handleChange.bind(n),n.handleCancel=n.handleCancel.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"handleFocus",value:function(e){this.props.onFocus(e),this.setState({hasFocus:!0})}},{key:"handleSubmit",value:function(e){var t=this.state.textValue.trim();e.stopPropagation(),e.preventDefault(),t&&this.props.onSubmit(t)}},{key:"handleCancel",value:function(e){e.stopPropagation(),e.preventDefault(),this.props.onCancel()}},{key:"handleChange",value:function(e){this.setState({textValue:e.target.value}),this.props.onChange(e)}},{key:"handleKeyDown",value:function(e){if(this.props.onKeyDown(e),13===e.keyCode&&(e.ctrlKey||e.metaKey))return this.handleSubmit(e)}},{key:"getButtonHeight",value:function(){var e=(0,s.default)('<button class="button button--primary">SAMPLE</button>').appendTo("body"),t=Math.ceil(e.outerHeight());return e.remove(),t}},{key:"UNSAFE_componentWillMount",value:function(){this.props.textValue&&this.setState({textValue:this.props.textValue})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.textValue!==this.props.textValue&&this.setState({textValue:e.textValue})}},{key:"render",value:function(){var e=(0,u.default)({"comment-field":!0,"comment-field--vertical":"vertical"===this.props.layout,"comment-field--horizontal":"horizontal"===this.props.layout}),t=this.getFieldProps();return a.default.createElement("div",r({},t,{className:e,"data-comment-field":!0}),this.avatar(),a.default.createElement("div",{className:"comment-field__input"},a.default.createElement(l.Textarea,{placeholder:this.props.placeholder,isFocused:this.props.isAutoFocus,value:this.state.textValue,isExpandable:!0,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.props.onKeyUp,maxHeight:300,minHeight:this.state.initialHeight})),this.criticalError(),this.buttons())}},{key:"getFieldProps",value:function(){if(this.props.hasFieldError)return{"data-field-error":!0}}},{key:"avatar",value:function(){return this.props.activeUser?a.default.createElement("div",{className:"comment-field__avatar"},a.default.createElement(f.Avatar,{user:this.props.activeUser,variations:["extra-small","block"]})):null}},{key:"criticalError",value:function(){return this.props.criticalError?a.default.createElement("div",{className:"comment-field__error"},this.props.criticalError):null}},{key:"buttons",value:function(){if(this.props.isAutoFocus||this.state.hasFocus||this.state.textValue.length>0)return a.default.createElement("div",{className:"comment-field__controls"},a.default.createElement("div",{className:"comment-field__button"},a.default.createElement(c.Button,{variations:["primary"],isDisabled:Boolean(this.props.criticalError),title:this.props.submitButtonTooltip||null,onClick:this.handleSubmit,"data-submit-comment-button":!0},this.props.submitButtonLabel)),this.cancelButton())}},{key:"cancelButton",value:function(){return this.props.hasCancelButton?a.default.createElement("div",{className:"comment-field__button"},a.default.createElement(c.Button,{variations:["link"],onClick:this.handleCancel,"data-cancel-comment-button":!0},this.props.cancelButtonLabel)):null}}]),t}();t.default=p,p.propTypes={cancelButtonLabel:i.default.string,hasCancelButton:i.default.bool,isAutoFocus:i.default.bool,layout:i.default.oneOf(["horizontal","vertical"]),placeholder:i.default.string,submitButtonLabel:i.default.node,submitButtonTooltip:i.default.string,textValue:i.default.string,activeUser:i.default.object,onKeyDown:i.default.func,onKeyUp:i.default.func,onChange:i.default.func,onCancel:i.default.func,onSubmit:i.default.func,onFocus:i.default.func,criticalError:i.default.node,hasFieldError:i.default.bool},p.defaultProps={cancelButtonLabel:"[CANCEL]",hasCancelButton:!1,isAutoFocus:!1,layout:"horizontal",onCancel:function(){},onSubmit:function(){},onKeyDown:function(){},onKeyUp:function(){},onChange:function(){},onFocus:function(){},placeholder:"",submitButtonLabel:"[SEND]",criticalError:null}},492:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(1)),i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseMove=n.handleMouseMove.bind(n),n.state={x:null,y:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){window.addEventListener("mousemove",this.handleMouseMove)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.handleMouseMove)}},{key:"handleMouseMove",value:function(e){this.setState({x:e.clientX,y:e.clientY})}},{key:"render",value:function(){return i.default.createElement("div",{className:"annotation-tooltip annotation-tooltip--active",style:{left:this.state.x+15+"px",top:this.state.y-14+"px"}},this.props.children)}}]),t}();t.default=s,s.propTypes={children:o.default.node}},493:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDesignCollection=function(e,t){return Promise.resolve().then(function(){return e.dispatch(i.default.SET_DESIGN_COLLECTION,t)})},t.setDesignData=function(e,t){return Promise.resolve().then(function(){return e.dispatch(i.default.SET_DESIGN_DATA,e.getStore(a.default).getModel().fromJSON(t))})},t.loadDesign=function(e,t){var n=e.getStore(a.default).getDesign(t),s=(0,o.default)("GET",n.links.self,i.default.LOAD_DESIGN_SUCCESS);return(0,r.resolve)(s).then(function(t){e.dispatch(i.default.LOAD_DESIGN_SUCCESS,e.getStore(a.default).getModel().fromJSON(t))}).catch(function(t){throw e.dispatch(i.default.LOAD_DESIGN_FAILED),t})},t.loadMoreDesigns=function(e,t){var n=e.getStore(a.default),s=n.getDesign(t),c=n.designs,f=n.nextPageUrl,d=n.prevPageUrl,p=c.indexOf(s);if(f&&!c[p+l])return function(e,t){if(u)return;u=!0;var n=(0,o.default)("GET",t.nextPageUrl).set("X-Requested-With","XMLHttpRequest");return(0,r.resolve)(n).then(function(n){u=!1;var r=e.getStore(a.default).getCollectionModel().fromJSON(n);e.dispatch(i.default.UPDATE_DESIGN_COLLECTION_PAGE_DATA_APPEND,{designs:r.designs,pageUrl:t.nextPageUrl})}).catch(function(){u=!1})}(e,{nextPageUrl:f});if(d&&p-l<0)return function(e,t){if(u)return;u=!0;var n=(0,o.default)("GET",t.prevPageUrl).set("X-Requested-With","XMLHttpRequest");return(0,r.resolve)(n).then(function(n){u=!1;var r=e.getStore(a.default).getCollectionModel().fromJSON(n);e.dispatch(i.default.UPDATE_DESIGN_COLLECTION_PAGE_DATA_PREPEND,{designs:r.designs,pageUrl:t.prevPageUrl})}).catch(function(){u=!1})}(e,{prevPageUrl:d})};var r=n(166),o=s(r),i=s(n(167)),a=s(n(164));function s(e){return e&&e.__esModule?e:{default:e}}var u=!1,l=2},494:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(214)),o=u(n(495)),i=u(n(215)),a=u(n(496)),s=u(n(497));function u(e){return e&&e.__esModule?e:{default:e}}t.default={user:r.default,designCollection:o.default,designComment:a.default,design:i.default,designCommentCollection:s.default}},495:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(215));function o(){return{designs:[]}}t.default={create:function(e){return Object.assign({},{designs:[]},e)},defaultProperties:o,fromJSON:function(e){return e?{designs:e._embedded.designs.map(r.default.fromJSON),designPageUrls:e._links.designPageUrls?e._links.designPageUrls.map(function(e){return e.href}):[],currentPageUrl:e._links.currentPageUrl?e._links.currentPageUrl.href:void 0,designPageOffset:e.designPageOffset,totalDesignCount:e.totalDesignCount,pagination:e.pagination}:null}}},496:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(214)),o=s(n(169)),i=s(n(19)),a=s(n(215));function s(e){return e&&e.__esModule?e:{default:e}}t.default=Object.assign({},o.default,{fromJSON:function(e){return e?{id:(0,i.default)(e._links.self,"href"),designId:(0,i.default)(e._embedded.design,"design_id"),message:e.message,formattedMessage:e.formattedMessage,isDeleted:e.isDeleted,links:{self:(0,i.default)(e._links.self,"href"),edit:(0,i.default)(e._links.edit,"href"),delete:(0,i.default)(e._links.delete,"href")},createdAt:e.createdAt,creator:r.default.fromJSON(e._embedded.creator),permission:e._embedded.permission||{},design:a.default.fromJSON(e._embedded.file)}:null}})},497:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(169));t.default={defaultProperties:function(){return[]},fromJSON:function(e){if(!e)return null;return e._embedded.design_comments.map(r.default.fromJSON)}}},498:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(0)),a=p(n(1)),s=n(88),u=p(n(278)),l=p(n(499)),c=p(n(509)),f=p(n(519)),d=n(288);function p(e){return e&&e.__esModule?e:{default:e}}var h="default",m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={activePane:h,designId:e.design.designId},n.handlePaneChange=n.handlePaneChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"handlePaneChange",value:function(e){this.setState({activePane:e})}},{key:"render",value:function(){return i.default.createElement(s.FullscreenSidebar.Main,null,i.default.createElement(s.FullscreenSidebar.Header,null,i.default.createElement(u.default.Main,{closeOverlayHandler:this.props.closeOverlayHandler,isCloseButtonEnabled:this.props.isInline},i.default.createElement(l.default,{design:this.props.design,activeUser:this.props.activeUser,activePane:this.state.activePane,onLikeCountClick:this.handlePaneChange.bind(this,"likes")}),i.default.createElement(f.default,{design:this.props.design}))),i.default.createElement(s.FullscreenSidebar.Body,null,i.default.createElement(c.default,{onPaneChange:this.handlePaneChange,activePane:this.state.activePane,design:this.props.design,activeUser:this.props.activeUser,isLoadingComments:this.props.isLoadingComments,comments:this.props.comments,selectedComment:this.props.selectedComment,selectedCommentStatus:this.props.selectedCommentStatus,selectedCommentEditingLocation:this.props.selectedCommentEditingLocation,commentPagination:this.props.commentPagination})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.design.designId!==t.designId?{activePane:h,designId:e.design.designId}:null}}]),t}();t.default=m,m.contextTypes={intl:a.default.object},m.defaultProps={selectedComment:null,selectedCommentStatus:null,selectedCommentEditingLocation:null},m.propTypes=r({design:a.default.object.isRequired,closeOverlayHandler:a.default.func.isRequired,isInline:a.default.bool.isRequired,activeUser:a.default.object.isRequired},d.DdoCommentProps)},499:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=y(n(0)),a=y(n(1)),s=y(n(278)),u=n(500),l=y(n(501)),c=y(n(502)),f=y(n(503)),d=n(71),p=y(n(107)),h=y(n(505)),m=y(n(508));function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.likeDesign=n.likeDesign.bind(n),n.unlikeDesign=n.unlikeDesign.bind(n),n.handleFavorite=n.handleFavorite.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"likeDesign",value:function(e){this.context.executeAction(u.likeDesignAction,{designId:this.props.design.designId,likeCount:e})}},{key:"unlikeDesign",value:function(e){this.context.executeAction(u.unlikeDesignAction,{designId:this.props.design.designId,likeCount:e})}},{key:"handleFavorite",value:function(e){this.context.executeAction(u.updateDesignAction,{designId:this.props.design.designId,creator:r({},this.props.design.creator,{isFavorite:e})})}},{key:"linkLikeCount",value:function(){return this.props.design.likeCount>0&&"default"===this.props.activePane&&this.props.design.permission.canEdit?this.props.onLikeCountClick:null}},{key:"render",value:function(){var e=this.props,t=e.activeUser,n=e.design;return i.default.createElement("div",null,i.default.createElement(s.default.Section,null,i.default.createElement(s.default.Heading,null,i.default.createElement(s.default.HeadingText,null,i.default.createElement("div",null," ",n.name," "))),i.default.createElement(f.default,{design:n,activeUser:t,onFavorite:this.handleFavorite}),i.default.createElement("div",{className:"section"},n.permission.canEdit?i.default.createElement(m.default,{designId:n.designId}):i.default.createElement(h.default,{userId:n.creator.userId,isUserAvailable:!n.permission.designerUnavailable})),i.default.createElement(d.ButtonGroup,{variations:["giant"]},i.default.createElement(d.ButtonGroupItem,null,i.default.createElement(p.default,{event:"Element Clicked On Design Overlay",element:"like_button"},i.default.createElement(l.default,{isLiked:n.likedByUser,likeUrl:n.links.likeDesignUrl,likeCount:n.likeCount,onLike:this.likeDesign,onUnlike:this.unlikeDesign,canLike:n.permission.canLike,noPermissionMessage:n.login_or_signup,onLikeCountClick:this.linkLikeCount()}))),i.default.createElement(d.ButtonGroupItem,null,i.default.createElement(c.default,{design:n})))))}}]),t}();t.default=v,v.contextTypes={executeAction:a.default.func},v.propTypes={design:a.default.object.isRequired,activeUser:a.default.any.isRequired,activePane:a.default.string.isRequired,onLikeCountClick:a.default.func}},50:function(e,t,n){"use strict";var r={foo:{}},o=Object;e.exports=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof o)}},500:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.likeDesignAction=function(e,t){var n=t.designId,r=t.likeCount;e.dispatch("UPDATE_DESIGN_SUCCESS",{designId:n,likedByUser:!0,likeCount:r})},t.unlikeDesignAction=function(e,t){var n=t.designId,r=t.likeCount;e.dispatch("UPDATE_DESIGN_SUCCESS",{designId:n,likedByUser:!1,likeCount:r})},t.updateDesignAction=function(e,t){e.dispatch("UPDATE_DESIGN_SUCCESS",t)}},501:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(89)),i=f(n(1)),a=f(n(0)),s=n(8),u=n(21),l=f(n(279)),c=n(66);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){return{isLiked:!e.isLiked,likeCount:e.isLiked?e.likeCount-1:e.likeCount+1}},p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={likeCount:e.likeCount,isLiked:e.isLiked,likeUrl:e.likeUrl},n.handleLikeClick=n.handleLikeClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentWillUnmount",value:function(){this.abortRequest()}},{key:"abortRequest",value:function(){this.request&&this.request.abort()}},{key:"save",value:function(){var e=this;this.abortRequest(),this.request=this.props.toggleRequest(this.state.isLiked,this.state.likeUrl),this.request.then(function(){e.state.isLiked?e.props.onLike(e.state.likeCount):e.props.onUnlike(e.state.likeCount)}).catch(function(){e.setState(d)})}},{key:"handleLikeClick",value:function(){this.props.canLike&&this.setState(d,this.save)}},{key:"noPermissionMessage",value:function(){return a.default.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.noPermissionMessage}})}},{key:"likeCount",value:function(){return this.props.onLikeCountClick?a.default.createElement("button",{className:"like-button__count__link",onClick:this.props.onLikeCountClick},this.state.likeCount):this.state.likeCount}},{key:"likeButton",value:function(){return a.default.createElement("div",{className:"like-button"},a.default.createElement("div",{className:"like-button__button"},a.default.createElement(u.IconButton,{variations:["soft-toggle",(0,o.default)({selected:this.state.isLiked})],onClick:this.handleLikeClick},a.default.createElement(s.Icon,{type:"like-1"}))),a.default.createElement("div",{className:"like-button__count"},this.likeCount()))}},{key:"render",value:function(){return this.props.canLike?this.likeButton():a.default.createElement(l.default,{itemData:[{label:this.noPermissionMessage(),key:"like"}]},this.likeButton())}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.likeUrl===t.likeUrl?null:{likeCount:e.likeCount,isLiked:e.isLiked,likeUrl:e.likeUrl}}}]),t}();p.defaultProps={likeCount:0,onLikeCountClick:!1,onLike:function(){},onUnlike:function(){},toggleRequest:c.toggleRequest,canLike:!1},p.propTypes={isLiked:i.default.bool.isRequired,likeUrl:i.default.string.isRequired,likeCount:i.default.number,onLikeCountClick:i.default.oneOfType([i.default.func,i.default.bool]),onLike:i.default.func,onUnlike:i.default.func,toggleRequest:i.default.func,canLike:i.default.bool,noPermissionMessage:i.default.any},t.default=p},502:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),i=c(n(1)),a=n(8),s=c(n(279)),u=c(n(107)),l=c(n(64));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDropdownItemData=n.getDropdownItemData.bind(n),n.onAction=n.onAction.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"onAction",value:function(e){var t=this.props.design.shareData.find(function(t){return t.name===e.key}).shareUrl;(0,l.default)("Element Clicked On Design Overlay",{element:"social_share_menu_item",targetUrl:t}),window.open(t,"_blank")}},{key:"getShareIcon",value:function(e){return o.default.createElement("span",{className:"menu__item__action__icon"},o.default.createElement(a.Icon,{variations:["icon "+e.iconVariation]}))}},{key:"getDropdownItemData",value:function(){return this.props.design.shareData.map(function(e){return{label:this.context.intl.formatMessage({id:e.name}),key:e.name,icon:this.getShareIcon(e)}},this)}},{key:"render",value:function(){return o.default.createElement(s.default,{itemData:this.getDropdownItemData(),onSelect:this.onAction},o.default.createElement(u.default,{element:"share_icon"},o.default.createElement("button",{className:"icon-button icon-button--on-white icon-button--offset-right"},o.default.createElement("span",{className:"icon icon--share-1"}))),o.default.createElement(u.default,{element:"share_link"},o.default.createElement("button",{className:"button button--link"},this.context.intl.formatMessage({id:"share"}))))}}]),t}();t.default=f,f.contextTypes={intl:i.default.object.isRequired},f.propTypes={design:i.default.any.isRequired}},503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(0)),i=d(n(1)),a=d(n(233)),s=n(153),u=n(37),l=d(n(103)),c=d(n(504)),f=d(n(107));function d(e){return e&&e.__esModule?e:{default:e}}var p=(0,c.default)(u.Avatar),h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"avatar",value:function(){return this.canViewOnlineStatus()?o.default.createElement(p,{user:this.avatarUser(),variations:["small"],lastSeenTimesUrl:this.props.design.links.lastSeenTimesUrl}):o.default.createElement(u.Avatar,{user:this.avatarUser(),variations:["small"]})}},{key:"canViewOnlineStatus",value:function(){return!!this.props.activeUser.id&&this.props.activeUser.id!==this.props.design.creator.userId}},{key:"userSection",value:function(){var e=this.props.design.permission.canFavorite?["offset-right"]:[];return o.default.createElement("div",{className:"user user--padded"},o.default.createElement("a",{className:"user__avatar",href:this.props.design.creator.showUrl},this.avatar()),o.default.createElement("span",{className:"user__display-name"},o.default.createElement(f.default,{event:"Element Clicked On Design Overlay",element:"designer_attribution"},o.default.createElement(a.default,{message:"by {user}",values:{user:o.default.createElement(s.DisplayName,{isLinked:!0,user:this.props.design.creator,variations:e})}})),this.favoriteAbility()))}},{key:"favoriteAbility",value:function(){return this.props.design.permission.canFavorite?o.default.createElement(l.default,{isFavorite:this.props.design.creator.isFavorite,favoriteUrl:this.props.design.dataFavoriteDesignerUrl,onFavorite:this.props.onFavorite}):null}},{key:"designOriginInfo",value:function(){return this.props.design.categoryEntryInfo?o.default.createElement("a",{href:this.props.design.links.contestUrl,className:"link"},this.props.design.categoryEntryInfo):this.props.design.projectDesignId?o.default.createElement("span",null,"1-to-1 project design"):null}},{key:"avatarUser",value:function(){return{avatarUrl:this.props.design.creator.avatarUrl,id:this.props.design.creator.userId}}},{key:"render",value:function(){return o.default.createElement("div",{className:"sidebar-header__sub-heading"},this.userSection(),this.designOriginInfo())}}]),t}();t.default=h,h.propTypes={design:i.default.object.isRequired,activeUser:i.default.object.isRequired,onFavorite:i.default.func}},504:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),r(n,[{key:"componentDidMount",value:function(){this.updateOnlineStatus(this.props.lastSeenTimesUrl),this.createUpdateTimer(this.props.lastSeenTimesUrl)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.lastSeenTimesUrl!==this.props.lastSeenTimesUrl&&(this.destroyTimer(),this.updateOnlineStatus(e.lastSeenTimesUrl),this.createUpdateTimer(e.lastSeenTimesUrl))}},{key:"componentWillUnmount",value:function(){this.destroyTimer()}},{key:"destroyTimer",value:function(){clearInterval(this.updateTimer)}},{key:"createUpdateTimer",value:function(e){var t=this;this.updateTimer=setInterval(function(){t.updateOnlineStatus(e)},6e4)}},{key:"updateOnlineStatus",value:function(e){this.context.executeAction(u.default.getOnlineStatus,{lastSeenTimesUrl:e})}},{key:"render",value:function(){return o.default.createElement(e,this.props)}}]),n}(o.default.Component);return t.defaultProps={isOnline:!1},t.propTypes={lastSeenTimesUrl:i.default.string.isRequired,isOnline:i.default.bool},t.contextTypes={executeAction:i.default.func.isRequired},(0,a.connectToStores)(t,[s.default],function(e,t){return{isOnline:e.getStore(s.default).getOnlineStatus(t.user.id)}})};var o=l(n(0)),i=l(n(1)),a=n(158),s=l(n(106)),u=l(n(139));function l(e){return e&&e.__esModule?e:{default:e}}},505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(71),o=u(n(107)),i=u(n(506)),a=u(n(507)),s=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.userId,n=e.isUserAvailable;return s.default.createElement(r.ButtonGroup,{variations:["stacked"]},s.default.createElement(r.ButtonGroupItem,null,n?s.default.createElement(o.default,{event:"Element Clicked On Design Overlay",element:"Invite CTA"},s.default.createElement(i.default,{userId:t})):s.default.createElement(i.default,{userId:t,isDisabled:!0})),s.default.createElement(r.ButtonGroupItem,null,s.default.createElement(o.default,{event:"Element Clicked On Design Overlay",element:"Portfolio CTA"},s.default.createElement(a.default,{userId:t}))))}},506:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(e){var t=e.isDisabled,n=void 0!==t&&t,i=e.userId;return o.default.createElement(r.Button,{variations:["primary","fluid","jumbo"],href:n?null:"/profiles/"+i+"/invites",isDisabled:n},n?"Not available for work":"Invite to work")}},507:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(e){var t=e.userId;return o.default.createElement(r.Button,{variations:["marketing-secondary","chameleon","fluid","jumbo"],href:"/profiles/"+t},"View portfolio")}},508:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(e){var t=e.designId;return o.default.createElement(r.Button,{variations:["secondary","fluid"],href:"/account/portfolio/edit/"+t},"Edit design")}},509:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(0)),a=f(n(1)),s=f(n(510)),u=f(n(518)),l=n(288),c=n(289);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setDefaultPane=n.setDefaultPane.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"setDefaultPane",value:function(){this.props.onPaneChange(c.SIDEBAR_PANE_DEFAULT)}},{key:"render",value:function(){return this.props.activePane===c.SIDEBAR_PANE_LIKES_LIST?i.default.createElement(u.default,{likes:this.props.design.likes,onOverviewButtonClick:this.setDefaultPane,designLikesUrl:this.props.design.links.designLikesUrl}):i.default.createElement(s.default,{design:this.props.design,activeUser:this.props.activeUser,isLoadingComments:this.props.isLoadingComments,comments:this.props.comments,selectedComment:this.props.selectedComment,selectedCommentStatus:this.props.selectedCommentStatus,selectedCommentEditingLocation:this.props.selectedCommentEditingLocation,commentPagination:this.props.commentPagination})}}]),t}();t.default=d,d.defaultProps={selectedComment:null,selectedCommentStatus:null,selectedCommentEditingLocation:null,onPaneChange:function(){}},d.propTypes=r({onPaneChange:a.default.func,activePane:l.SidebarPanes.isRequired,design:a.default.object.isRequired,activeUser:a.default.object.isRequired},l.DdoCommentProps)},51:function(e,t,n){"use strict";var r=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==o.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,i=r.call(arguments,1),a=Math.max(0,t.length-i.length),s=[],u=0;u<a;u++)s.push("$"+u);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof n){var o=t.apply(this,i.concat(r.call(arguments)));return Object(o)===o?o:this}return t.apply(e,i.concat(r.call(arguments)))}),t.prototype){var l=function(){};l.prototype=t.prototype,n.prototype=new l,l.prototype=null}return n}},510:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),i=c(n(1)),a=c(n(511)),s=n(20),u=c(n(516)),l=c(n(107));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"marketingButton",value:function(){return this.props.design.marketingCtaButton?o.default.createElement(l.default,{event:"Element Clicked On Design Overlay",element:"secondary_cta",payload:{targetUrl:this.props.design.marketingCtaButton.url}},o.default.createElement(s.Button,{variations:["fluid","secondary"],href:this.props.design.marketingCtaButton.url},this.props.design.marketingCtaButton.text)):null}},{key:"commentSection",value:function(){return this.props.design.permission.userIdentified?o.default.createElement(a.default,{design:this.props.design,activeUser:this.props.activeUser,isLoadingComments:this.props.isLoadingComments,comments:this.props.comments,selectedComment:this.props.selectedComment,selectedCommentStatus:this.props.selectedCommentStatus,selectedCommentEditingLocation:this.props.selectedCommentEditingLocation,commentPagination:this.props.commentPagination}):null}},{key:"render",value:function(){return o.default.createElement("div",null,o.default.createElement("div",{className:"sidebar-body"},o.default.createElement(u.default,{design:this.props.design}),this.marketingButton()),this.commentSection())}}]),t}();t.default=f,f.propTypes={design:i.default.shape({permission:i.default.shape({userIdentified:i.default.bool.isRequired}),marketingCtaButton:i.default.shape({text:i.default.string,url:i.default.string})}).isRequired,activeUser:i.default.object,isLoadingComments:i.default.bool,comments:i.default.any,selectedComment:i.default.any,selectedCommentEditingLocation:i.default.any,selectedCommentStatus:i.default.any,commentPagination:i.default.shape({page:i.default.number.isRequired,limit:i.default.number.isRequired,total:i.default.number.isRequired})}},511:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=l(n(1)),s=n(512),u=l(n(514));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){return i.default.createElement(s.LoadableElement,{variations:["align-top","padded"],spinnerVariations:["inline"],isLoading:this.props.isLoadingComments},i.default.createElement(u.default,r({},this.props,{canShowCommentEditing:"pane"===this.props.selectedCommentEditingLocation,hasCommentForm:this.props.design.permission.canComment,loadMoreButtonLabel:this.context.intl.formatMessage({id:"show_more"})})))}}]),t}();t.default=c,c.contextTypes={intl:a.default.object.isRequired},c.propTypes={design:a.default.object.isRequired,isLoadingComments:a.default.bool.isRequired,comments:a.default.array.isRequired,selectedCommentEditingLocation:a.default.oneOf(["canvas","pane"]),commentPagination:a.default.shape({page:a.default.number.isRequired,limit:a.default.number.isRequired,total:a.default.number.isRequired})}},512:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(513);Object.defineProperty(t,"LoadableElement",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},513:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableElement=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(4),i=n(31);var a=t.LoadableElement=function(e){var t=e.isLoading,n=void 0!==t&&t,a=e.variations,s=void 0===a?[]:a,u=e.spinnerVariations,l=void 0===u?[]:u,c=e.children;return n?r.default.createElement("div",{className:(0,o.getComponentClasses)("loadable-element",s)},r.default.createElement("div",{className:"loadable-element__spinner"},r.default.createElement(i.Spinner,{variations:l}))):r.default.createElement(r.default.Fragment,null,c)};t.default=a},514:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(1)),i=d(n(0)),a=d(n(11)),s=n(20),u=d(n(274)),l=d(n(515)),c=n(135),f=d(n(169));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isVisible:!1,timeLastCreated:0},e.handleCommentFormClick=e.handleCommentFormClick.bind(e),e.handleCreateComment=e.handleCreateComment.bind(e),e.loadMoreComments=e.loadMoreComments.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.setState({isVisible:!0})}},{key:"commentPaneFooter",value:function(){if(this.props.hasCommentForm)return i.default.createElement("div",{className:"comment-pane__footer"},i.default.createElement(u.default,{key:this.state.timeLastCreated,comment:{message:this.props.draftMessage},scrollingContainer:document.querySelector("#fullscreenSidebar"),onClick:this.handleCommentFormClick,onKeyDown:this.props.onCommentKeyDown,onKeyUp:this.props.onCommentKeyUp,isAutoFocus:this.props.autoFocusCommentForm,onSubmit:this.handleCreateComment,showErrorMessage:this.props.showErrorMessage}))}},{key:"render",value:function(){var e=(0,a.default)({"comment-pane":!0,"comment-pane--hidden":!this.state.isVisible&&this.props.hasTransition}),t=this.props.commentPagination&&Math.ceil(this.props.commentPagination.total/this.props.commentPagination.limit)>this.props.commentPagination.page;return i.default.createElement("div",{className:e,"data-comment-pane":!0,onClick:this.handlePanelClick},i.default.createElement("div",{className:"comment-pane__body"},i.default.createElement(l.default,{design:this.props.design,comments:this.props.comments,selectedComment:this.props.selectedComment,selectedCommentStatus:this.props.selectedCommentStatus,canShowCommentEditing:this.props.canShowCommentEditing})),t&&i.default.createElement("div",{className:"comment-pane__button-wrapper"},i.default.createElement(s.Button,{variations:["secondary"],onClick:this.loadMoreComments},this.props.loadMoreButtonLabel)),this.commentPaneFooter())}},{key:"loadMoreComments",value:function(){var e=this.props.design;e.links.comments&&e.permission.canViewComments&&this.context.executeAction(c.loadDesignComments,{commentsUrl:e.links.comments,designId:e.designId,page:this.props.commentPagination.page+1})}},{key:"handleCreateComment",value:function(e){var t=f.default.create({message:e,creator:this.getUser()});this.context.executeAction(c.createDesignComment,{comment:t,design:this.props.design,csrfToken:this.context.csrfToken}),this.setState({timeLastCreated:(new Date).getTime()})}},{key:"handleCommentFormClick",value:function(e){this.props.selectedComment&&this.context.executeAction(c.resetSelectedComment),e.stopPropagation()}},{key:"handlePanelClick",value:function(e){e.stopPropagation()}},{key:"getUser",value:function(){return this.context.activeUser}}]),t}();t.default=p,p.contextTypes={activeUser:o.default.object,executeAction:o.default.func,csrfToken:o.default.string},p.propTypes={design:o.default.object.isRequired,canShowCommentEditing:o.default.bool,comments:o.default.array,draftComment:o.default.string,hasCommentForm:o.default.bool,hasTransition:o.default.bool,selectedComment:o.default.object,selectedCommentStatus:o.default.oneOf(["creating","editing","saving","deleting","error"]),onCommentKeyDown:o.default.func,onCommentKeyUp:o.default.func,autoFocusCommentForm:o.default.bool,showErrorMessage:o.default.bool,draftMessage:o.default.string,commentPagination:o.default.shape({page:o.default.number.isRequired,limit:o.default.number.isRequired,total:o.default.number.isRequired}),loadMoreButtonLabel:o.default.string},p.defaultProps={canShowCommentEditing:!1,comments:[],hasCommentForm:!1,hasTransition:!0,onCommentKeyDown:function(){},onCommentKeyUp:function(){},autoFocusCommentForm:!1}},515:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(1)),i=c(n(0)),a=n(275),s=c(n(273)),u=c(n(32)),l=n(213);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.commentListItem=e.commentListItem.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"comment-list"},i.default.createElement(u.default,{maxWidth:l.breakpoints.normal[0]},function(t){return e.getVisibleComments().map(function(n){return e.commentListItem(n,t)})}))}},{key:"getVisibleComments",value:function(){return this.props.comments.filter(function(e){return!!e.id||!e.annotation})}},{key:"commentListItem",value:function(e,t){var n=this.props.selectedComment&&e&&this.props.selectedComment.id===e.id,r=n?this.props.selectedCommentStatus:null;return"editing"!==r||this.props.canShowCommentEditing||(r=null),i.default.createElement("div",{key:e.id,className:"comment-list__item"},i.default.createElement(a.ScrollIntoViewElement,{isEnabled:!t&&n,scrollingTrigger:!t&&n,scrollingContainer:document.getElementById("fullscreenSidebar")},i.default.createElement(s.default,{design:this.props.design,comment:e,hasExtraPadding:!0,status:r,isSelected:n,commentLocation:"pane",isEditable:!!e.links.edit})))}}]),t}();t.default=f,f.propTypes={design:o.default.object.isRequired,canShowCommentEditing:o.default.bool,comments:o.default.array,selectedComment:o.default.object,selectedCommentStatus:o.default.oneOf(["creating","editing","saving","deleting","error"])},f.defaultProps={canShowCommentEditing:!1,comments:[]}},516:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=a(n(0)),o=a(n(1)),i=a(n(517));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.design;return r.default.createElement("div",null,r.default.createElement("div",{dangerouslySetInnerHTML:{__html:t.description}}),r.default.createElement("div",{className:"fullscreen__sidebar__tags"},r.default.createElement(i.default,{tags:t.tags})))}s.propTypes={design:o.default.object.isRequired}},517:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(0)),i=u(n(1)),a=n(4),s=u(n(107));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showMorePills:!1},n.showMorePills=n.showMorePills.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"getInitialPillItems",value:function(){var e=this;return this.props.tags.slice(0,5).map(function(t,n){return e.pillTag(t,n)})}},{key:"pillTag",value:function(e,t){var n=(0,a.bemComponent)("pill","Pill");return o.default.createElement("div",{className:"pill-group__item",key:t},o.default.createElement(s.default,{event:"Element Clicked On Design Overlay",element:"design_tag"},o.default.createElement("a",{href:e.href},o.default.createElement(n,{variations:["tag"]},e.name))))}},{key:"maybeMorePillItems",value:function(){return this.props.tags.length>5?o.default.createElement("span",null,this.state.showMorePills?this.extraPills():this.extraPillsButton()):null}},{key:"showMorePills",value:function(){this.setState({showMorePills:!0})}},{key:"extraPillsButton",value:function(){return o.default.createElement("div",{className:"pill-group__item"},o.default.createElement("span",{className:"pill pill--tag pill--grey300"},o.default.createElement(s.default,{element:"show_more_design_tags"},o.default.createElement("button",{type:"button",className:"pill__button",onClick:this.showMorePills},"+ "+(this.props.tags.length-5)))))}},{key:"extraPills",value:function(){var e=this;return this.props.tags.slice(5).map(function(t,n){return e.pillTag(t,n+5)})}},{key:"render",value:function(){return o.default.createElement("div",{className:"pill-group"},this.getInitialPillItems(),this.maybeMorePillItems())}}]),t}();t.default=l,l.propTypes={tags:i.default.array.isRequired}},518:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(0)),i=d(n(1)),a=n(7),s=n(8),u=n(37),l=d(n(200)),c=n(31),f=n(66);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={likes:e.likes,isLoading:!1,totalPages:0,currentPage:0,designLikesUrl:e.designLikesUrl},n.getLikes=n.getLikes.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){this.getLikes()}},{key:"componentWillUnmount",value:function(){this.abortRequest()}},{key:"abortRequest",value:function(){this.request&&this.request.abort()}},{key:"getLikes",value:function(){this.setState(function(){return{isLoading:!0}},this.fetchLikes())}},{key:"fetchLikes",value:function(){var e=this;this.abortRequest(),this.request=(0,f.get)(this.state.designLikesUrl),this.request.then(function(t){var n=t.body;e.setState(function(e){return{likes:e.likes.concat(n.users),isLoading:!1,designLikesUrl:n.paginationUrl,totalPages:n.totalPages,currentPage:n.currentPage}})}).catch(function(){e.setState(function(){return{likes:[],isLoading:!1,designLikesUrl:"",totalPages:1,currentPage:1}})})}},{key:"likesPanel",value:function(){return o.default.createElement("span",null,this.likesList(),this.showMore())}},{key:"likesList",value:function(){if(0===this.state.likes.length&&this.state.isLoading){var e=this.bodyElement.getBoundingClientRect();return o.default.createElement(l.default,{paneTop:e.top,viewportHeight:document.documentElement.clientHeight,paneHeight:e.height})}return this.state.likes.map(function(e){return o.default.createElement("a",{rel:"nofollow noopener noreferrer",href:e.showUrl,target:"_blank",key:e.userId,className:"section-action section-action--joined"},o.default.createElement("span",{className:"section-action--joined__inner"},o.default.createElement("span",{className:"flag flag--middle flag--small"},o.default.createElement("span",{className:"flag__mast"},o.default.createElement(u.Avatar,{user:{avatarUrl:e.avatarUrl,id:e.userId},variations:["small"]})),o.default.createElement("span",{className:"flag--small__flag flag__flag"},e.name,o.default.createElement("span",{className:"section-action__label__meta"},o.default.createElement(a.FormattedRelative,{style:"numeric",value:e.timeCreated}))))))})}},{key:"showMore",value:function(){return this.state.currentPage===this.state.totalPages?null:o.default.createElement("span",{className:"section-action section-action--joined"},o.default.createElement("span",{className:"section-action--joined__inner"},o.default.createElement("button",{className:"button button--link",onClick:this.getLikes},"Show more"),this.state.isLoading&&o.default.createElement(c.Spinner,{variations:["inline","soft"]})))}},{key:"render",value:function(){var e=this;return o.default.createElement("div",null,o.default.createElement("div",null,o.default.createElement("button",{className:"section-action section-action--primary",onClick:this.props.onOverviewButtonClick},o.default.createElement("span",{className:"section-action__icon--left"},o.default.createElement(s.Icon,{type:"left-2"})),o.default.createElement("span",{className:"section-action__label"},"Back to overview"))),o.default.createElement("div",{ref:function(t){e.bodyElement=t},style:{position:"relative"}},this.likesPanel()))}}]),t}();t.default=p,p.defaultProps={designLikesUrl:""},p.propTypes={likes:i.default.arrayOf(i.default.shape({id:i.default.number.isRequired,createdAt:i.default.string.isRequired,userId:i.default.number.isRequired,name:i.default.string.isRequired,timeCreated:i.default.string.isRequired,showUrl:i.default.string.isRequired,avatarUrl:i.default.string.isRequired})),onOverviewButtonClick:i.default.func.isRequired,designLikesUrl:i.default.string}},519:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){return this.displayIfCreatedOn99d()}},{key:"displayIfCreatedOn99d",value:function(){return this.props.design.categoryEntryInfo||this.props.design.projectDesignId?o.default.createElement("div",null,o.default.createElement("div",{className:"sidebar-body"},o.default.createElement("span",{className:"ddo__made-on-99-shield"},"Created on 99designs by Vista"))):null}}]),t}();t.default=i},52:function(e,t,n){"use strict";var r=n(13);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},53:function(e,t,n){"use strict";var r=n(12),o=n(54),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&i(e,".prototype.")>-1?o(n):n}},54:function(e,t,n){"use strict";var r=n(13),o=n(12),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||r.call(a,i),u=o("%Object.getOwnPropertyDescriptor%",!0),l=o("%Object.defineProperty%",!0),c=o("%Math.max%");if(l)try{l({},"a",{value:1})}catch(e){l=null}e.exports=function(e){var t=s(r,a,arguments);u&&l&&(u(t,"length").configurable&&l(t,"length",{value:1+c(0,e.length-(arguments.length-1))}));return t};var f=function(){return s(r,i,arguments)};l?l(e.exports,"apply",{value:f}):e.exports.apply=f},55:function(e,t,n){var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"==typeof o.get?o.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=s&&u&&"function"==typeof u.get?u.get:null,c=s&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,m=Object.prototype.toString,y=Function.prototype.toString,v=String.prototype.match,g=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,E=String.prototype.toLowerCase,w=RegExp.prototype.test,O=Array.prototype.concat,S=Array.prototype.join,k=Array.prototype.slice,C=Math.floor,P="function"==typeof BigInt?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,x="function"==typeof Symbol&&"object"==typeof Symbol.iterator,A="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===x||"symbol")?Symbol.toStringTag:null,M=Object.prototype.propertyIsEnumerable,D=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function I(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||w.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-C(-e):C(e);if(r!==e){var o=String(r),i=g.call(t,o.length+1);return b.call(o,n,"$&_")+"."+b.call(b.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var N=n(56),R=N.custom,L=q(R)?R:null;function U(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function F(e){return b.call(String(e),/"/g,"&quot;")}function B(e){return!("[object Array]"!==W(e)||A&&"object"==typeof e&&A in e)}function z(e){return!("[object RegExp]"!==W(e)||A&&"object"==typeof e&&A in e)}function q(e){if(x)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!j)return!1;try{return j.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,r,o){var s=n||{};if(G(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(G(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!G(s,"customInspect")||s.customInspect;if("boolean"!=typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(G(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(G(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var m=s.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,n){if(t.length>n.maxStringLength){var r=t.length-n.maxStringLength,o="... "+r+" more character"+(r>1?"s":"");return e(g.call(t,0,n.maxStringLength),n)+o}var i=b.call(b.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,K);return U(i,"single",n)}(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var _=String(t);return m?I(t,_):_}if("bigint"==typeof t){var w=String(t)+"n";return m?I(t,w):w}var C=void 0===s.depth?5:s.depth;if(void 0===r&&(r=0),r>=C&&C>0&&"object"==typeof t)return B(t)?"[Array]":"[Object]";var T=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=S.call(Array(e.indent+1)," ")}return{base:n,prev:S.call(Array(t+1),n)}}(s,r);if(void 0===o)o=[];else if(V(o,t)>=0)return"[Circular]";function R(t,n,i){if(n&&(o=k.call(o)).push(n),i){var a={depth:s.depth};return G(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,r+1,o)}return e(t,s,r+1,o)}if("function"==typeof t&&!z(t)){var H=function(e){if(e.name)return e.name;var t=v.call(y.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),Y=Z(t,R);return"[Function"+(H?": "+H:" (anonymous)")+"]"+(Y.length>0?" { "+S.call(Y,", ")+" }":"")}if(q(t)){var ee=x?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):j.call(t);return"object"!=typeof t||x?ee:Q(ee)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var te="<"+E.call(String(t.nodeName)),ne=t.attributes||[],re=0;re<ne.length;re++)te+=" "+ne[re].name+"="+U(F(ne[re].value),"double",s);return te+=">",t.childNodes&&t.childNodes.length&&(te+="..."),te+="</"+E.call(String(t.nodeName))+">"}if(B(t)){if(0===t.length)return"[]";var oe=Z(t,R);return T&&!function(e){for(var t=0;t<e.length;t++)if(V(e[t],"\n")>=0)return!1;return!0}(oe)?"["+J(oe,T)+"]":"[ "+S.call(oe,", ")+" ]"}if(function(e){return!("[object Error]"!==W(e)||A&&"object"==typeof e&&A in e)}(t)){var ie=Z(t,R);return"cause"in Error.prototype||!("cause"in t)||M.call(t,"cause")?0===ie.length?"["+String(t)+"]":"{ ["+String(t)+"] "+S.call(ie,", ")+" }":"{ ["+String(t)+"] "+S.call(O.call("[cause]: "+R(t.cause),ie),", ")+" }"}if("object"==typeof t&&u){if(L&&"function"==typeof t[L]&&N)return N(t,{depth:C-r});if("symbol"!==u&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{l.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ae=[];return a.call(t,function(e,n){ae.push(R(n,t,!0)+" => "+R(e,t))}),X("Map",i.call(t),ae,T)}if(function(e){if(!l||!e||"object"!=typeof e)return!1;try{l.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var se=[];return c.call(t,function(e){se.push(R(e,t))}),X("Set",l.call(t),se,T)}if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return $("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return $("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return $("WeakRef");if(function(e){return!("[object Number]"!==W(e)||A&&"object"==typeof e&&A in e)}(t))return Q(R(Number(t)));if(function(e){if(!e||"object"!=typeof e||!P)return!1;try{return P.call(e),!0}catch(e){}return!1}(t))return Q(R(P.call(t)));if(function(e){return!("[object Boolean]"!==W(e)||A&&"object"==typeof e&&A in e)}(t))return Q(h.call(t));if(function(e){return!("[object String]"!==W(e)||A&&"object"==typeof e&&A in e)}(t))return Q(R(String(t)));if(!function(e){return!("[object Date]"!==W(e)||A&&"object"==typeof e&&A in e)}(t)&&!z(t)){var ue=Z(t,R),le=D?D(t)===Object.prototype:t instanceof Object||t.constructor===Object,ce=t instanceof Object?"":"null prototype",fe=!le&&A&&Object(t)===t&&A in t?g.call(W(t),8,-1):ce?"Object":"",de=(le||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(fe||ce?"["+S.call(O.call([],fe||[],ce||[]),": ")+"] ":"");return 0===ue.length?de+"{}":T?de+"{"+J(ue,T)+"}":de+"{ "+S.call(ue,", ")+" }"}return String(t)};var H=Object.prototype.hasOwnProperty||function(e){return e in this};function G(e,t){return H.call(e,t)}function W(e){return m.call(e)}function V(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function K(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function Q(e){return"Object("+e+")"}function $(e){return e+" { ? }"}function X(e,t,n,r){return e+" ("+t+") {"+(r?J(n,r):S.call(n,", "))+"}"}function J(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+S.call(e,","+n)+"\n"+t.prev}function Z(e,t){var n=B(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=G(e,o)?t(e[o],e):""}var i,a="function"==typeof T?T(e):[];if(x){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var u in e)G(e,u)&&(n&&String(Number(u))===u&&u<e.length||x&&i["$"+u]instanceof Symbol||(w.call(/[^\w$]/,u)?r.push(t(u,e)+": "+t(e[u],e)):r.push(u+": "+t(e[u],e))));if("function"==typeof T)for(var l=0;l<a.length;l++)M.call(e,a[l])&&r.push("["+t(a[l])+"]: "+t(e[a[l]],e));return r}},56:function(e,t){},57:function(e,t,n){"use strict";var r=n(25),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},u=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},l=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(i),l=s?i.slice(0,s.index):i,c=[];if(l){if(!n.plainObjects&&o.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var f=0;n.depth>0&&null!==(s=a.exec(i))&&f<n.depth;){if(f+=1,!n.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+i.slice(s.index)+"]"),function(e,t,n,r){for(var o=r?t:u(t,n),i=e.length-1;i>=0;--i){var a,s=e[i];if("[]"===s&&n.parseArrays)a=[].concat(o);else{a=n.plainObjects?Object.create(null):{};var l="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(l,10);n.parseArrays||""!==l?!isNaN(c)&&s!==l&&String(c)===l&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(a=[])[c]=o:"__proto__"!==l&&(a[l]=o):a={0:o}}o=a}return o}(c,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null===e||void 0===e)return n.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){var n,l={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,d=c.split(t.delimiter,f),p=-1,h=t.charset;if(t.charsetSentinel)for(n=0;n<d.length;++n)0===d[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[n]?h="utf-8":"utf8=%26%2310003%3B"===d[n]&&(h="iso-8859-1"),p=n,n=d.length);for(n=0;n<d.length;++n)if(n!==p){var m,y,v=d[n],g=v.indexOf("]="),b=-1===g?v.indexOf("="):g+1;-1===b?(m=t.decoder(v,a.decoder,h,"key"),y=t.strictNullHandling?null:""):(m=t.decoder(v.slice(0,b),a.decoder,h,"key"),y=r.maybeMap(u(v.slice(b+1),t),function(e){return t.decoder(e,a.decoder,h,"value")})),y&&t.interpretNumericEntities&&"iso-8859-1"===h&&(y=s(y)),v.indexOf("[]=")>-1&&(y=i(y)?[y]:y),o.call(l,m)?l[m]=r.combine(l[m],y):l[m]=y}return l}(e,n):e,f=n.plainObjects?Object.create(null):{},d=Object.keys(c),p=0;p<d.length;++p){var h=d[p],m=l(h,c[h],n,"string"==typeof e);f=r.merge(f,m,n)}return!0===n.allowSparse?f:r.compact(f)}},58:function(e,t,n){"use strict";(function(t){const r=n(59),o=n(15),i=o.isObject,a=o.hasOwn;function s(){}e.exports=s,s.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},s.prototype.parse=function(e){return this._parser=e,this},s.prototype.responseType=function(e){return this._responseType=e,this},s.prototype.serialize=function(e){return this._serializer=e,this},s.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(const t in e)if(a(e,t))switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",t)}return this},s.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};const u=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),l=new Set([408,413,429,500,502,503,504,521,522,524]);s.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{const n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&l.has(t.status))return!0;if(e){if(e.code&&u.has(e.code))return!0;if(e.timeout&&"ECONNABORTED"===e.code)return!0;if(e.crossDomain)return!0}return!1},s.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},s.prototype.then=function(e,t){if(!this._fullfilledPromise){const e=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((t,n)=>{e.on("abort",()=>{if(this._maxRetries&&this._maxRetries>this._retries)return;if(this.timedout&&this.timedoutError)return void n(this.timedoutError);const e=new Error("Aborted");e.code="ABORTED",e.status=this.status,e.method=this.method,e.url=this.url,n(e)}),e.end((e,r)=>{e?n(e):t(r)})})}return this._fullfilledPromise.then(e,t)},s.prototype.catch=function(e){return this.then(void 0,e)},s.prototype.use=function(e){return e(this),this},s.prototype.ok=function(e){if("function"!=typeof e)throw new Error("Callback required");return this._okCallback=e,this},s.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},s.prototype.get=function(e){return this._header[e.toLowerCase()]},s.prototype.getHeader=s.prototype.get,s.prototype.set=function(e,t){if(i(e)){for(const t in e)a(e,t)&&this.set(t,e[t]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},s.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},s.prototype.field=function(e,t,n){if(null===e||void 0===e)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(i(e)){for(const t in e)a(e,t)&&this.field(t,e[t]);return this}if(Array.isArray(t)){for(const n in t)a(t,n)&&this.field(e,t[n]);return this}if(null===t||void 0===t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=String(t)),n?this._getFormData().append(e,t,n):this._getFormData().append(e,t),this},s.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(r.gte(t.version,"v13.0.0")&&r.lt(t.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");r.gte(t.version,"v14.0.0")&&(this.req.destroyed=!0),this.req.abort()}return this.clearTimeout(),this.emit("abort"),this},s.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization",`Basic ${r(`${e}:${t}`)}`);break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization",`Bearer ${e}`)}return this},s.prototype.withCredentials=function(e){return void 0===e&&(e=!0),this._withCredentials=e,this},s.prototype.redirects=function(e){return this._maxRedirects=e,this},s.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw new TypeError("Invalid argument");return this._maxResponseSize=e,this},s.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},s.prototype.send=function(e){const t=i(e);let n=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(t&&i(this._data))for(const t in e)a(e,t)&&(this._data[t]=e[t]);else"string"==typeof e?(n||this.type("form"),(n=this._header["content-type"])&&(n=n.toLowerCase().trim()),this._data="application/x-www-form-urlencoded"===n?this._data?`${this._data}&${e}`:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(n||this.type("json"),this)},s.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},s.prototype._finalizeQueryString=function(){const e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){const e=this.url.indexOf("?");if(e>=0){const t=this.url.slice(e+1).split("&");"function"==typeof this._sort?t.sort(this._sort):t.sort(),this.url=this.url.slice(0,e)+"?"+t.join("&")}}},s.prototype._appendQueryString=(()=>{console.warn("Unsupported")}),s.prototype._timeoutError=function(e,t,n){if(this._aborted)return;const r=new Error(`${e+t}ms exceeded`);r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.timedoutError=r,this.abort(),this.callback(r)},s.prototype._setTimeouts=function(){const e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(()=>{e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(()=>{e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}}).call(t,n(63))},59:function(e,t){},60:function(e,t,n){"use strict";const r=n(15);function o(){}e.exports=o,o.prototype.get=function(e){return this.header[e.toLowerCase()]},o.prototype._setHeaderProperties=function(e){const t=e["content-type"]||"";this.type=r.type(t);const n=r.params(t);for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(this[e]=n[e]);this.links={};try{e.link&&(this.links=r.parseLinks(e.link))}catch(e){}},o.prototype._setStatusProperties=function(e){const t=Math.trunc(e/100);this.statusCode=e,this.status=this.statusCode,this.statusType=t,this.info=1===t,this.ok=2===t,this.redirect=3===t,this.clientError=4===t,this.serverError=5===t,this.error=(4===t||5===t)&&this.toError(),this.created=201===e,this.accepted=202===e,this.noContent=204===e,this.badRequest=400===e,this.unauthorized=401===e,this.notAcceptable=406===e,this.forbidden=403===e,this.notFound=404===e,this.unprocessableEntity=422===e}},61:function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(){this._defaults=[]}for(var a=0,s=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];a<s.length;a++){const e=s[a];i.prototype[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this._defaults.push({fn:e,args:n}),this}}i.prototype._setDefaults=function(e){var t,n=r(this._defaults);try{for(n.s();!(t=n.n()).done;){const n=t.value;e[n.fn](...n.args)}}catch(e){n.e(e)}finally{n.f()}},e.exports=i},64:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],o=window.trackParams||{};t=Object.assign(Object.assign({url:window.location.href},o),t),0;window.analytics?window.analytics.track(e,t,n,r):"function"==typeof r&&r()}},66:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchHtml=function(e){return new Promise(function(t,n){var o=r.default.get(e).set("Accept","application/html");o.end(function(r,o){r?n({error:r,url:e}):t(o.text)})})},t.get=function(e){return r.default.get(e).set({"X-Requested-With":"XMLHttpRequest"})},t.postRequest=function(e){return r.default.post(e).set(o())},t.putRequest=i,t.deleteRequest=a,t.toggleRequest=function(e,t){if(e)return i(t);return a(t)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(24));function o(){var e=document.querySelector('meta[name="csrf-token"]');return{Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":e?e.getAttribute("content"):"fake-token"}}function i(e){return r.default.put(e).set(o())}function a(e){return r.default.delete(e).set(o())}},68:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=n(4);var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=[];e=this.props.variations?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.props.variations),[this.props.type]):[this.props.type];var t=(0,i.getComponentClasses)("icon",e);return o.default.createElement("span",{className:t},this.props.children)}}]),t}();t.default=a},69:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},71:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(102);Object.defineProperty(t,"ButtonGroup",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}}),Object.defineProperty(t,"ButtonGroupItem",{enumerable:!0,get:function(){return r.ButtonGroupItem}})},73:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},75:function(e,t,n){"use strict";e.exports=n(126)},76:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},77:function(e,t,n){"use strict";var r=n(76),o=n(127);function i(e){this.dispatcher=e,this._hasChanged=!1,o.call(this),this.initialize&&this.initialize()}r(i,o),i.prototype.getContext=function(){return this.dispatcher.getContext()},i.prototype.addChangeListener=function(e){this.on("change",e)},i.prototype.removeChangeListener=function(e){this.removeListener("change",e)},i.prototype.shouldDehydrate=function(){return this._hasChanged},i.prototype.emitChange=function(e){this._hasChanged=!0,this.emit("change",e||this)},e.exports=i},78:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=s(n(0)),i=s(n(9)),a=n(79);n(80);function s(e){return e&&e.__esModule?e:{default:e}}var u="unmounted";t.UNMOUNTED=u;var l="exited";t.EXITED=l;var c="entering";t.ENTERING=c;var f="entered";t.ENTERED=f;t.EXITING="exiting";var d=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n.transitionGroup,a=i&&!i.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(o=l,r.appearStatus=c):o=f:o=t.unmountOnExit||t.mountOnEnter?u:l,r.state={status:o},r.nextCallback=null,r}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:l}:null},n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==c&&n!==f&&(t=c):n!==c&&n!==f||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=i.default.findDOMNode(this);t===c?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:u})},n.performEnter=function(e,t){var n=this,r=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts(),a=o?i.appear:i.enter;t||r?(this.props.onEnter(e,o),this.safeSetState({status:c},function(){n.props.onEntering(e,o),n.onTransitionEnd(e,a,function(){n.safeSetState({status:f},function(){n.props.onEntered(e,o)})})})):this.safeSetState({status:f},function(){n.props.onEntered(e)})},n.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:"exiting"},function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,function(){t.safeSetState({status:l},function(){t.props.onExited(e)})})})):this.safeSetState({status:l},function(){t.props.onExited(e)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var i=o.default.Children.only(n);return o.default.cloneElement(i,r)},t}(o.default.Component);function p(){}d.contextTypes={transitionGroup:r.object},d.childContextTypes={transitionGroup:function(){}},d.propTypes={},d.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},d.UNMOUNTED=0,d.EXITED=1,d.ENTERING=2,d.ENTERED=3,d.EXITING=4;var h=(0,a.polyfill)(d);t.default=h},79:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function i(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=o),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"polyfill",function(){return a}),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(68);Object.defineProperty(t,"Icon",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}});var o=n(69);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})})},80:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;!function(e){e&&e.__esModule}(n(1));t.timeoutsShape=null;t.classNamesShape=null},81:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(1)),o=s(n(0)),i=n(79),a=n(134);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},f=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(l(l(r)));return r.state={handleExited:o,firstRender:!0},r}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},n.componentDidMount=function(){this.appeared=!0,this.mounted=!0},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,r):(0,a.getNextChildMapping)(e,n,r),firstRender:!1}},n.handleExited=function(e,t){var n=(0,a.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=u({},t.children);return delete n[e.key],{children:n}}))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["component","childFactory"]),i=c(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i:o.default.createElement(t,r,i)},t}(o.default.Component);f.childContextTypes={transitionGroup:r.default.object.isRequired},f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};var d=(0,i.polyfill)(f);t.default=d,e.exports=t.default},82:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(159);Object.defineProperty(t,"Desktop",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},83:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(160);Object.defineProperty(t,"Mobile",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(r).default}})},84:function(e,t,n){"use strict";var r=s(n(105)),o=s(n(133)),i=s(n(81)),a=s(n(78));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:a.default,TransitionGroup:i.default,ReplaceTransition:o.default,CSSTransition:r.default}},87:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(95);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(96);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=n(97);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var a=n(98);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})})},88:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullscreenOverlay=t.FullscreenSidebar=t.FullscreenMain=t.FullscreenHeader=t.FullscreenFrame=void 0;var r=u(n(203)),o=u(n(204)),i=u(n(205)),a=function(e){return e&&e.__esModule?e:{default:e}}(n(206)),s=u(n(209));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.FullscreenFrame=r,t.FullscreenHeader=o,t.FullscreenMain=i,t.FullscreenSidebar=s,t.FullscreenOverlay=a.default},89:function(e,t,n){var r;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if("object"===i){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}}return e.join(" ")}void 0!==e&&e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},94:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return;if(e instanceof Array)return void e.forEach(function(e){return o(e,t,n)});if(e instanceof NodeList){for(var r=0;r<e.length;r++)o(e[r],t,n);return}return void o(e,t,n)};var r=n(87);function o(e,t,n){var o=window.trackParams||{};n=Object.assign(Object.assign({url:window.location.href,target_path:(0,r.getLinkTargetPath)(e),target_url:(0,r.getLinkTargetUrl)(e,window.location)},o),n),window.analytics&&window.analytics.trackLink(e,t,n)}},95:function(e,t,n){"use strict";function r(e,t){if(e.width<t.width&&e.height<t.height)return e;var n=t.width/e.width,r=t.height/e.height,o=Math.min(n,r);return{width:Math.floor(e.width*o),height:Math.floor(e.height*o)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getDimensionsConstrainedToContainer=r,t.default=r},96:function(e,t,n){"use strict";function r(e,t){var n={width:t.width,height:Math.floor(t.width/e.width*e.height)};return t.width>e.width?e:n}Object.defineProperty(t,"__esModule",{value:!0}),t.getDimensionsConstrainedToContainerWidth=r,t.default=r},97:function(e,t,n){"use strict";function r(e){if(!e)return null;var t=e.getAttribute("href");return t&&t.match(/^http/)?t.replace(/^http[s]{0,1}:\/\/.[^/]+[/]*/,"/"):t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLinkTargetPath=r,t.default=r},98:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(!e)return null;var n=e.getAttribute("href"),r=t.protocol+"//"+t.hostname+(t.port?":"+t.port:"");return n&&!n.match(/^http/)?""+r+n:n}Object.defineProperty(t,"__esModule",{value:!0}),t.getLinkTargetUrl=r,t.default=r},99:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconButton=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(4);var i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},a=t.IconButton=function(e){var t=e.variations,n=void 0===t?[]:t,a=e.isDisabled,s=void 0!==a&&a,u=e.title,l=e.href,c=e.onClick,f=void 0===c?function(){}:c,d=e.isSubmit,p=void 0!==d&&d,h=e.children,m={className:(0,o.getComponentClasses)("icon-button",n),"data-disabled":s,type:p?"submit":"button",title:u,onClick:s?function(){}:f};if(l)return r.default.createElement("a",Object.assign({href:l},m),h);var y=m.type,v=i(m,["type"]),g=y;return r.default.createElement("button",Object.assign({type:g},v),h)};t.default=a}},[1323]);